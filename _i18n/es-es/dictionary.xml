<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="0532f63b7151a82cb4b5e3351e2371d0" category="summary">Detener e iniciar correctamente el clúster de alta disponibilidad.</block>
  <block id="7479b021f04933331bfad4de007ca0c2" category="doc">Detenga e inicie el clúster</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Descripción general</block>
  <block id="2b884da4a956e42f63bc07b5d20c50b1" category="paragraph">En esta sección se describe cómo apagar y reiniciar correctamente el clúster BeeGFS. Algunos ejemplos de casos en los que esto puede ser necesario son el mantenimiento eléctrico o la migración entre centros de datos o racks.</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="section-title">Pasos</block>
  <block id="c61d5048d10a534a03e7687782b475e2" category="paragraph">Si por algún motivo necesita detener todo el clúster BeeGFS y apagar todos los servicios que se ejecutan:</block>
  <block id="3ad6e9988864aeae2ef386345946dc6d" category="inline-link-macro">conmutación al respaldo</block>
  <block id="d449e36705eea41c6a590f7b2c80954c" category="paragraph">También es posible detener el clúster en nodos individuales (lo que conmuta automáticamente al nodo de respaldo en otro nodo), aunque se recomienda poner primero el nodo en espera (consulte la <block ref="4843c7d7cb9083e16e9eaa5961895258" category="inline-link-macro-rx"></block> sección):</block>
  <block id="9e94ba8f70ed52b0ae6c2a8725f97a9f" category="paragraph">Para iniciar los servicios y recursos del clúster en todos los nodos ejecutados:</block>
  <block id="80bd5673b361d19dc46e6b882f98b061" category="paragraph">O inicie servicios en un nodo específico con:</block>
  <block id="56ad9ec5396c5f035697d1e62c4b0926" category="paragraph">En este momento, corre<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Compruebe que el clúster y los servicios BeeGFS se inicien en todos los nodos y que los servicios se estén ejecutando en los nodos que espera.</block>
  <block id="f2cc0b0e79d5eccda5009e593729ce23" category="admonition">Según el tamaño del clúster, puede tardar en detenerse de algún momento (segundos a minutos) para que todo el clúster se detenga o se muestre iniciado en<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block>. Si<block ref="88f9ea6da6d01a3e529f8aa41e0e4643" prefix=" " category="inline-code"></block> Se bloquea durante más de cinco minutos antes de ejecutar "Ctrl+C" para cancelar el comando, iniciar sesión en cada nodo del clúster y utilizar<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Para ver si los servicios de clúster (Corosync/Pacemaker) aún se están ejecutando en ese nodo. Desde cualquier nodo en el que el clúster siga estando activo, puede comprobar qué recursos están bloqueando el clúster. Solucione manualmente el problema y el comando debería estar completo o se puede volver a ejecutar para detener el resto de servicios.</block>
  <block id="7728706b8b42de0081920e7246a76547" category="summary">Evite que el clúster de alta disponibilidad reaccione accidentalmente a los cambios previstos del entorno.</block>
  <block id="e1fee8e589d1f622a7c4194531dd6d51" category="doc">Coloque el clúster en modo de mantenimiento</block>
  <block id="de51662eceb9c88ae773c201eb0345d1" category="paragraph">Si pone el clúster en el modo de mantenimiento, se deshabilita toda la supervisión de recursos y se impide que Pacemaker mueva o gestione los recursos del clúster de algún otro modo. Todos los recursos permanecerán en ejecución en sus nodos originales, independientemente de que haya una condición de fallo temporal que impida que se pueda acceder a ellos. Los escenarios en los que esto es recomendable/útil incluyen:</block>
  <block id="ea4d028cbc39da373f2405d19e55ab0f" category="list-text">Mantenimiento de red que puede interrumpir temporalmente las conexiones entre nodos de archivo y servicios BeeGFS.</block>
  <block id="fb9f2ee248fa11ccfb854f09fcda2a80" category="list-text">Actualizaciones de nodos de bloques.</block>
  <block id="92a6e3227dfe7be15777e64043fb613f" category="list-text">Actualizaciones del sistema operativo, el kernel u otros paquetes del nodo de archivos.</block>
  <block id="6c1cf36b91fdf2375e857652291bab2e" category="paragraph">Por lo general, el único motivo para poner manualmente el clúster en modo de mantenimiento es impedir que este reaccione a cambios externos en el entorno. Si un nodo individual del clúster requiere reparación física no utilice modo de mantenimiento y simplemente coloque ese nodo en espera tras el procedimiento anterior. Tenga en cuenta que el nuevo enrutamiento de Ansible pondrá automáticamente el clúster en modo de mantenimiento para facilitar la mayoría de las tareas de mantenimiento de software, incluidas las actualizaciones y los cambios de configuración.</block>
  <block id="bbf6745fae83e12806200feeb795f0ef" category="paragraph">Para comprobar si el clúster se encuentra en modo de mantenimiento ejecutar:</block>
  <block id="4a6b1ae7d59c5bf02b1b5759e9f9b8e7" category="paragraph">Esto devolverá el valor false cuando el clúster esté funcionando normalmente. Para habilitar la ejecución del modo de mantenimiento:</block>
  <block id="4ecbc8384cde54344112e6ab08db42be" category="paragraph">Puede verificar ejecutando el estado del pc y asegurando que todos los recursos muestren "(no administrado)". Para desconectar el clúster del modo de mantenimiento ejecute:</block>
  <block id="b64fbf2b70c0da78d7c165d234dbde59" category="summary">Reemplazar un nodo de archivo si el servidor original está defectuoso.</block>
  <block id="813789e46622daf96cc8a246b7123900" category="doc">Sustituya los nodos de archivo</block>
  <block id="7d8e819a8720821d1bda4944e3b284f8" category="paragraph">Esta es una descripción general de los pasos necesarios para reemplazar un nodo de archivo del clúster. Estos pasos suponen un error en el nodo de archivo debido a un problema de hardware y se reemplazaron por un nuevo nodo de archivo idéntico.</block>
  <block id="0ca6560aa88bd22fa1b3bb69d8594555" category="section-title">Pasos:</block>
  <block id="237c1293f678bb3fb45da7ff985bc6ff" category="list-text">Sustituya físicamente el nodo de archivo y restaure todo el cableado al nodo de bloque y a la red de almacenamiento.</block>
  <block id="2fcfb8cbd69fbc9fbfe292049243f520" category="list-text">Vuelva a instalar el sistema operativo en el nodo de archivos, incluida la adición de suscripciones a Red Hat.</block>
  <block id="54bf3b134460f90ada283da98dfe7f55" category="list-text">Configure la gestión y las redes de BMC en el nodo de archivo.</block>
  <block id="e07337279837c08243349fd1812b45ad" category="list-text">Actualice el inventario de Ansible si el nombre de host, la IP, las asignaciones de interfaz de PCIe a lógica o cualquier otro cambio relacionado con el nodo de archivo nuevo. Generalmente, esto no es necesario si el nodo se reemplazó con un hardware de servidor idéntico y si utiliza la configuración de red original.</block>
  <block id="1092a09068da1d54ef98835a92b7ae93" category="list-text">Por ejemplo, si el nombre de host ha cambiado, cree (o cambie de nombre) el archivo de inventario del nodo <block ref="68c99491876298ad1740f875d0009eb1" prefix="(" category="inline-code"></block>) Luego en el archivo de inventario de Ansible <block ref="d28e452e49fc926f32af1d87afcff3ce" prefix="(" category="inline-code"></block>), reemplace el nombre del nodo antiguo por el nuevo nombre del nodo:</block>
  <block id="4e77e3629d6cf2dd24d01cd0816444dc" category="list-text">De uno de los otros nodos del clúster, quite el nodo antiguo:<block ref="0b3c8b6f1b9e3417f6658a2d7bf57e50" prefix=" " category="inline-code"></block>.</block>
  <block id="80b3f35b9a09098f23ac89ae2b86b045" category="admonition">NO CONTINÚE ANTES DE EJECUTAR ESTE PASO.</block>
  <block id="b13bbcb9af62574d6f02dd11fb1e8467" category="list-text">En el nodo de control Ansible:</block>
  <block id="bdd8d1913bd5c9a453285898025b96c3" category="list-text">Quite la clave SSH antigua con:</block>
  <block id="357f3d871a04ba99dca4088160a070c7" category="list-text">Configure SSH sin contraseña al nodo de sustitución con:</block>
  <block id="7142a43bd39c703832e1dedd5cc1781d" category="list-text">Vuelva a ejecutar el libro de estrategia de Ansible para configurar el nodo y añadirlo al clúster:</block>
  <block id="cb6fdf37da197d680c43c0f6f18ad11d" category="list-text">En este momento, corre<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> y compruebe que el nodo sustituido ahora aparece y ejecuta servicios.</block>
  <block id="9afe1c93907babebeb4d7a466e216a3e" category="summary">Añada o quite bloques de creación del clúster.</block>
  <block id="da82c1c93eafcb34930ae3da89361e1e" category="doc">Expanda o reduzca el clúster</block>
  <block id="c8fb5d104008cab3ab8a229181f5dfac" category="paragraph">En esta sección se documentan varias consideraciones y opciones para ajustar el tamaño del clúster de alta disponibilidad de BeeGFS. Normalmente, el tamaño del clúster se ajusta agregando o quitando elementos básicos, que normalmente son dos nodos de archivo configurados como un par de alta disponibilidad. También es posible agregar o quitar nodos de archivos individuales (u otros tipos de nodos de clústeres) si es necesario.</block>
  <block id="711c6d6edaed786b4dc0203b75460778" category="section-title">Añadir una elemento básico al clúster</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Consideraciones</block>
  <block id="f29b9abf87c880782cf8c378e24a1668" category="paragraph">El crecimiento del clúster mediante la adición de elementos básicos adicionales es un proceso sencillo. Antes de empezar a tener en cuenta las restricciones en torno al número mínimo y máximo de nodos de clúster en cada clúster de alta disponibilidad, y determinar si debe añadir nodos al clúster de alta disponibilidad existente o crear un nuevo clúster de alta disponibilidad. Normalmente, cada bloque de creación consta de dos nodos de archivo, pero tres nodos son el número mínimo de nodos por clúster (para establecer quórum), y diez son el máximo recomendado (probado). En situaciones avanzadas es posible añadir un solo nodo "tiebreaker" que no ejecute ningún servicio BeeGFS al poner en marcha un clúster de dos nodos. Póngase en contacto con el servicio de soporte de NetApp si está considerando realizar dicha implementación.</block>
  <block id="662a466b951b1af4fe3b4c3fd2e0370c" category="paragraph">Tenga en cuenta estas restricciones y cualquier crecimiento futuro del clúster anticipado al decidir cómo ampliar el clúster. Por ejemplo, si tiene un clúster de seis nodos y necesita añadir cuatro nodos más, se recomienda simplemente iniciar un nuevo clúster de alta disponibilidad.</block>
  <block id="2b988a3f29ebee8dccd80147a22c1bc6" category="admonition">Recuerde que un solo sistema de archivos BeeGFS puede consistir en varios clústeres de alta disponibilidad independientes. Esto permite que los sistemas de archivos sigan escalando entre los límites de hardware recomendado y los componentes de clúster de alta disponibilidad subyacentes.</block>
  <block id="c9e209235fa71f94c6ca46692bb327a3" category="inline-link-macro">Utilizar arquitecturas personalizadas</block>
  <block id="2b8a37e03c93039e78a6e190ca3eab78" category="paragraph">A la hora de añadir un elemento de creación al clúster, deberá crear el<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> Archivos para cada uno de los nuevos nodos de archivos y nodos de bloques (cabinas E-Series). Los nombres de estos hosts deben agregarse al inventario, junto con los nuevos recursos que se van a crear. El correspondiente<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> será necesario crear archivos para cada recurso nuevo. Consulte <block ref="6a2ae3835c9e26f17fff6aca74581491" category="inline-link-macro-rx"></block> para obtener más información.</block>
  <block id="0a9e15a6a510b24d4e6ac91c02152457" category="paragraph">Una vez creados los archivos correctos, todo lo que se necesita es volver a ejecutar la automatización mediante el comando:</block>
  <block id="8d695d37ced4690199d537aed9d4bd55" category="section-title">Eliminación de un elemento básico del clúster</block>
  <block id="b68ea55d7263db6f96db88774fb7b864" category="paragraph">Hay una serie de consideraciones que tener en cuenta cuando se necesita retirar un bloque de construcción, por ejemplo:</block>
  <block id="c26cc9593863fbf09a98a7c1809d4501" category="list-text">¿Qué servicios BeeGFS se están ejecutando en este bloque de creación?</block>
  <block id="64e344a53d6a50c0b641de71dcc0d0e6" category="list-text">¿Solo se retiran los nodos de archivos y los nodos de bloque deben adjuntarse a nuevos nodos de archivos?</block>
  <block id="de3bc01ba61503e7b8699b9318d0fd0b" category="list-text">Si se retira todo el elemento básico, ¿deben moverse los datos a un nuevo elemento básico, dispersarse en nodos existentes en el clúster o moverse a un nuevo sistema de archivos BeeGFS u otro sistema de almacenamiento?</block>
  <block id="b6bb45be6629ebff573a5364d6abba3e" category="list-text">¿Puede suceder esto durante una interrupción o se debe realizar de forma no disruptiva?</block>
  <block id="9b0ed7965704c34f1d45d89e7afe7bfc" category="list-text">¿El elemento básico se está utilizando de forma activa o contiene principalmente datos que ya no están activos?</block>
  <block id="2f1f874ab85cc95aedb0e31639ddd1be" category="paragraph">Debido a la diversidad de puntos de partida posibles y a los estados finales deseados, póngase en contacto con el soporte de NetApp para que podamos identificar y ayudar a implementar la mejor estrategia en función de su entorno y sus requisitos.</block>
  <block id="9cdd9805effd30bec624c806fd980309" category="summary">Desplazamiento de servicios BeeGFS entre nodos del clúster.</block>
  <block id="f6054493b235622c6d85c56597db1eb1" category="doc">Servicios de conmutación por error y conmutación tras recuperación</block>
  <block id="2c053c4f4aa73d509803b712a335712b" category="paragraph">Los servicios BeeGFS pueden realizar una conmutación por error entre los nodos del clúster para garantizar que los clientes puedan continuar accediendo al sistema de archivos si un nodo experimenta un error o necesita realizar tareas de mantenimiento planificadas. En esta sección se describen distintas formas en las que los administradores pueden recuperar el clúster después de un fallo o mover manualmente servicios entre nodos.</block>
  <block id="07216bb55061288a2fa29cda954742e3" category="section-title">Conmutación por error y conmutación por recuperación</block>
  <block id="23709dbf750335ca35bb098cb16932f2" category="section-title">Conmutación al respaldo (planificada)</block>
  <block id="805e61a2ff2aebdab58587660993241c" category="paragraph">En general, cuando necesite desconectar un solo nodo de archivos para realizar el mantenimiento, querrá mover (o drenar) todos los servicios de BeeGFS de ese nodo. Esto se puede lograr poniendo el nodo en espera en primer lugar:</block>
  <block id="ecbf8d7e7d9f1eb0a529231cebd2199c" category="paragraph"><block ref="45235c2d84b11e465f5ed5176cc9fc73" prefix="" category="inline-code"></block></block>
  <block id="badd2ea7f58914039bb51471883e3461" category="paragraph">Después de verificar utilizando<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> todos los recursos se han reiniciado en el nodo de archivos alternativo, puede apagar o realizar otros cambios en el nodo según sea necesario.</block>
  <block id="1343bdd328b646934d900b04ee8ba9bd" category="section-title">Conmutación tras recuperación (después de una conmutación al respaldo planificada)</block>
  <block id="746bffd8542d5a995ff4e29343881c45" category="paragraph">Cuando esté listo para restaurar los servicios BeeGFS en el nodo preferido, ejecute primero<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Y verifique en la "Lista de nodos" el estado es en espera. Si el nodo se reinició, aparecerá sin conexión hasta que los servicios del clúster estén en línea:</block>
  <block id="91e6580245db1e731f9ba78076973736" category="paragraph">Una vez que el nodo esté en línea, salga del modo de espera con:</block>
  <block id="040901cb649ee5383b238c42c7746fca" category="paragraph">Por último, reubique todos los servicios de BeeGFS en sus nodos preferidos con:</block>
  <block id="6ebfd7088ae3d5d766caee83ef99e7bc" category="section-title">Conmutación tras recuperación (después de una conmutación al respaldo no planificada)</block>
  <block id="e09245effc62059e51f926fad603e413" category="inline-link-macro">resolución de problemas</block>
  <block id="0dd80abc12adacf83c3c27a835b9c7a3" category="paragraph">Si un nodo experimenta un fallo de hardware o de otro tipo, el clúster de alta disponibilidad debería reaccionar automáticamente y mover sus servicios a un nodo en buen estado, lo que proporciona tiempo para que los administradores tomen acciones correctivas. Antes de proceder, consulte <block ref="5e4db6f9f5ecbaadfbb532aac5ccee6e" category="inline-link-macro-rx"></block> de la sección para determinar la causa de la conmutación por error y resolver cualquier problema pendiente. Una vez que el nodo se vuelve a encender y en buen estado, puede continuar con la conmutación tras recuperación.</block>
  <block id="364ed45bbda2e3fd57309efe24fc0d55" category="paragraph">Cuando un nodo se arranca tras un reinicio no planificado (o planificado), los servicios de clúster no se establecen para iniciarse automáticamente, por lo que primero tendrá que conectar el nodo con:</block>
  <block id="f00b2994ca5cfc6ab0328a63736caa02" category="paragraph">A continuación, borre los errores de los recursos y restablezca el historial de cercas del nodo:</block>
  <block id="ac161f403f36186463574a43968aa121" category="paragraph">Verifique en<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> el nodo está en línea y en buen estado. De forma predeterminada, los servicios de BeeGFS no se podrán recuperar automáticamente para evitar que los recursos vuelvan a un nodo que no esté en buenas estado. Cuando esté listo, devuelva todos los recursos del clúster a los nodos preferidos con:</block>
  <block id="a65e0cef92147365de773d870438a30d" category="section-title">Mover servicios de BeeGFS individuales a nodos de archivo alternativos</block>
  <block id="606a28acf3a90904d7e27f3497573da7" category="section-title">Mueva permanentemente un servicio BeeGFS a un nuevo nodo de archivo</block>
  <block id="8f56c19ef179745c1437a4f477337649" category="paragraph">Si desea cambiar de forma permanente el nodo de archivo preferido de un servicio BeeGFS individual, ajuste el inventario de Ansible para ver primero el nodo preferido y volver a ejecutar el libro de estrategia de Ansible.</block>
  <block id="7f86f0b1f1f7dc413a7da5a9a5acb79a" category="paragraph">Por ejemplo, en esta muestra<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> File, ictad22h01 es el nodo de archivo preferido para ejecutar el servicio de gestión BeeGFS:</block>
  <block id="b2d792db6eba9ea2a4bd7ebaf525e9a4" category="paragraph">Si se invierte el pedido, se preferirían los servicios de gestión en ictad22h02:</block>
  <block id="346788f496d57b1e768d1dfaccdb3660" category="section-title">Mueva temporalmente un servicio BeeGFS a otro nodo de archivo</block>
  <block id="bad9cbcf702b276e1564c24e67ad301c" category="paragraph">Generalmente, si un nodo está en proceso de mantenimiento, deberá utilizar los [pasos de conmutación por error y conmutación por recuperación](#failover-and-failback) para mover todos los servicios fuera de ese nodo.</block>
  <block id="0a51cf78eac085426260a02c70378519" category="paragraph">Si por algún motivo necesita mover un servicio individual a un nodo de archivo diferente ejecutado:</block>
  <block id="9adf512d668d8b56c695d172f4de3f90" category="admonition">No especifique recursos individuales ni el grupo de recursos. Especifique siempre el nombre del monitor para el servicio BeeGFS que desea reubicar. Por ejemplo, para mover el servicio de gestión de BeeGFS a ictad22h02, ejecute:<block ref="2349d8eb257904ae75bc6d292598087c" prefix=" " category="inline-code"></block>. Este proceso se puede repetir para mover uno o varios servicios de sus nodos preferidos. Verifique utilizando<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> los servicios se reubicaron o se iniciaron en el nuevo nodo.</block>
  <block id="15bda9336e0e061125e3b40fe7bfbb0f" category="paragraph">Para devolver un servicio BeeGFS a su nodo preferido, borre primero las restricciones de recursos temporales (repita este paso según sea necesario para varios servicios):</block>
  <block id="d5c46792adbb43a012cbc1e858dc8bf4" category="paragraph">A continuación, cuando esté listo para mover realmente los servicios de nuevo a sus nodos preferidos ejecutar:</block>
  <block id="05ccfd1bb05ec0cb0ad0dbc5cfa2b32d" category="paragraph">Nota este comando reubicará los servicios que ya no tengan restricciones temporales de recursos que no estén en sus nodos preferidos.</block>
  <block id="1819205ce38618cd2752bb84e2b73e58" category="summary">Solucionar problemas de un clúster de alta disponibilidad de BeeGFS.</block>
  <block id="d60c463bb4096f3ed4bd1618626dfe10" category="doc">Solucionar problemas</block>
  <block id="b162a91192a0936d7593cb252c65dfd8" category="paragraph">En esta sección se explica cómo investigar y solucionar varios fallos y otros escenarios que pueden surgir al utilizar un clúster de alta disponibilidad de BeeGFS.</block>
  <block id="40327cd11d60bd1f114b3e4566f94e50" category="section-title">Guías de solución de problemas</block>
  <block id="e1c58302972da23d09a5ab5fe221a170" category="section-title">Investigando conmutaciones al respaldo inesperadas</block>
  <block id="4fbaa99fc13cc42ed40e8b05969de8fb" category="paragraph">Cuando un nodo tiene una barrera aplicada de forma inesperada y sus servicios pasan a otro nodo, el primer paso debe ser comprobar si el clúster indica algún error de recurso en la parte inferior de<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block>. Por lo general, no habrá nada presente si la delimitación se ha realizado correctamente y se han reiniciado los recursos en otro nodo.</block>
  <block id="31288ba37f67baa9a96377c197fd16b4" category="paragraph">Por lo general, el siguiente paso será buscar a través de los registros del sistema utilizando<block ref="eed23a3d2310f43954a09887cb36b398" prefix=" " category="inline-code"></block> En cualquiera de los nodos de archivo restantes (los registros de Pacemaker se sincronizan en todos los nodos). Si sabe la hora en que ocurrió el fallo, puede iniciar la búsqueda justo antes de que se produjera el fallo (generalmente se recomienda al menos diez minutos antes):</block>
  <block id="adc8528fced336e7a819071c746b5738" category="paragraph">En las siguientes secciones se muestra el texto común que se puede obtener en los registros para delimitar aún más la investigación.</block>
  <block id="a6dea15cd908ef20a94b7b92df902f0b" category="section-title">Pasos para investigar/resolver</block>
  <block id="d418f50c5ddea28b4ca856017b36cb20" category="section-title">Paso 1: Compruebe si el monitor BeeGFS ha detectado un fallo:</block>
  <block id="a0d295ceecafcdade2e77c52fee836e0" category="paragraph">Si el monitor BeeGFS ha activado la conmutación por error, debería aparecer un error (si no es así, continúe con el siguiente paso).</block>
  <block id="1792a4cca8d37bb062059acbb40ebf88" category="paragraph">En esta instancia, el servicio de BeeGFS meta_08 se detuvo por algún motivo. Para continuar con la resolución de problemas, debemos arrancar ictad22h02 y revisar los registros del servicio en<block ref="45434eee994714888e9eafad4993b0d3" prefix=" " category="inline-code"></block>. Por ejemplo, el servicio BeeGFS puede haber encontrado un error de aplicación debido a un problema interno o al nodo.</block>
  <block id="ba35f78b5ee9757310a818131880e7ba" category="admonition">A diferencia de los registros de Pacemaker, los registros de los servicios BeeGFS no se distribuyen a todos los nodos del clúster. Para investigar estos tipos de errores, son necesarios los registros del nodo original en el que se produjo el error.</block>
  <block id="e7ed0a662a65a2b9a77688262294bdeb" category="paragraph">Entre los posibles problemas que podría generar el monitor se incluyen los siguientes:</block>
  <block id="7cdeb72a25ab193e904385b516b1b346" category="list-text">No se puede acceder a los destinos.</block>
  <block id="b5937b98653f70b6902650183cf4ec74" category="list-text">Descripción: Indica que no se puede acceder a los volúmenes de bloques.</block>
  <block id="2fe85519f178203eb9e17cd7d958eff5" category="list-text">Solución de problemas:</block>
  <block id="a337b1ea21fcd18ca666a6d53d5d43cd" category="list-text">Si también no se pudo iniciar el servicio en el nodo de archivos alternativo, confirme que el nodo de bloque está en buen estado.</block>
  <block id="1a92a4c3328c821522ae4b4f7b7939f4" category="list-text">Compruebe si hay problemas físicos que impidan el acceso a los nodos de bloque desde este nodo de archivos, por ejemplo, adaptadores o cables InfiniBand defectuosos.</block>
  <block id="07d73b1c441d1587365e83eab249cc0e" category="list-text">¡No se puede acceder a la red!</block>
  <block id="640de5e4317b2b6b4cdfc75056c11dc1" category="list-text">Descripción: Ninguno de los adaptadores utilizados por los clientes para conectarse a este servicio BeeGFS estaba en línea.</block>
  <block id="a6fe0c48e93a5942e6a707553dc58b72" category="list-text">Si varios o todos los nodos de archivo se vieron afectados, compruebe si se produjo un error en la red utilizada para conectar los clientes BeeGFS y el sistema de archivos.</block>
  <block id="89af81e10eaa132cd26657feb6c0255d" category="list-text">Compruebe si hay problemas físicos que impidan el acceso a los clientes desde este nodo de archivos, por ejemplo, adaptadores o cables InfiniBand defectuosos.</block>
  <block id="74a668540699bf39afc1015b6ce839e7" category="list-text">El servicio BeeGFS no está activo.</block>
  <block id="d297ccf512793d172de0cfd4051e2e96" category="list-text">Descripción: Un servicio BeeGFS se ha detenido inesperadamente.</block>
  <block id="4937184e80e5bebefae7244965d351b9" category="list-text">En el nodo de archivo que notificó el error, compruebe los registros del servicio BeeGFS afectado para ver si se produjo un fallo. Si esto sucede, abra un caso con el soporte de NetApp para que pueda investigar el bloqueo.</block>
  <block id="feec20659fe99c02d4979b8ad026cc97" category="list-text">Si no se ha informado de errores en el registro de BeeGFS, compruebe los registros del diario para ver si systemd ha registrado un motivo por el que se ha detenido el servicio. En algunos casos, es posible que el servicio BeeGFS no haya recibido la oportunidad de registrar ningún mensaje antes de que se terminara el proceso (por ejemplo, si se ejecutó a alguien)<block ref="c287e2fa9b978b64df6b25bc14f4ebad" prefix=" " category="inline-code"></block>).</block>
  <block id="6c187654c83a0705225e629e5ef0e690" category="section-title">Paso 2: Compruebe si el nodo dejó el clúster de forma inesperada</block>
  <block id="48de5b8ba61031259301e7dcfed5f30f" category="paragraph">En caso de que el nodo sufriera un error de hardware catastrófico (por ejemplo, murió la placa del sistema) o se produjo un error de alerta en el kernel o un problema de software similar, el monitor BeeGFS no informará de este error. En su lugar, busque el nombre de host y debería ver mensajes del Pacemaker que indican que el nodo se ha perdido inesperadamente:</block>
  <block id="e2c890774d7c7d0dbdd940e9e70a6e38" category="section-title">Paso 3: Verifique que Pacemaker pudo cercar el nodo</block>
  <block id="233ac49c948b907a2f3ece7ba249837e" category="paragraph">En todos los escenarios debería ver que Pacemaker intenta cercar el nodo para verificar que está realmente sin conexión (los mensajes exactos pueden variar según la causa del cercado):</block>
  <block id="43878a52c3fd9ee95d536dd53db82be8" category="paragraph">Si la acción de cercado se completa correctamente, verá mensajes como:</block>
  <block id="c9fc2871ff88666659a1639b7bc7a907" category="paragraph">Si la acción de delimitación falló por algún motivo, los servicios BeeGFS no podrán reiniciarse en otro nodo para evitar el riesgo de corrupción de datos. Eso sería un problema para investigar por separado, si, por ejemplo, el dispositivo de cercado (PDU o BMC) era inaccesible o mal configurado.</block>
  <block id="824b5f569e1c282ba489e1d3fe24611f" category="section-title">Acciones de recursos fallidos de direcciones (que se encuentran en la parte inferior del estado de los pc)</block>
  <block id="ac9c4f2d9dc79954795119e7ac4da835" category="inline-link-macro">conmutación tras recuperación tras fallos no planificada</block>
  <block id="899430038aa8ddcfa7ab42a1d1943ea5" category="paragraph">Si falla un recurso necesario para ejecutar un servicio BeeGFS, el monitor BeeGFS activará una conmutación por error. Si esto ocurre, es probable que no haya "acciones de recurso fallidas" en la lista de la parte inferior de<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> y usted debe referirse a los pasos de cómo <block ref="119b29e10d1a1bb55d1b986e2dceaeea" category="inline-link-macro-rx"></block>.</block>
  <block id="afdd1f65895e11b4a9ab295926e39116" category="paragraph">De lo contrario, normalmente sólo deberían haber dos escenarios en los que verá "acciones de recursos fallidas".</block>
  <block id="43c78de0154f6f48f749527f62bfd41c" category="section-title">Escenario 1: Se detectó un problema temporal o permanente con un agente de esgrima y se reinició u movió a otro nodo.</block>
  <block id="b06e37c96b80ada3e042c0997f9d54a6" category="paragraph">Algunos agentes de cercado son más confiables que otros, y cada uno implementará su propio método de monitoreo para garantizar que el dispositivo de cercado esté listo. En particular, el agente de esgrima de Redfish ha sido visto para informar de acciones de recursos fallidas como las siguientes, aunque todavía se muestre iniciado:</block>
  <block id="13ff1974a31501c1a357c51cda2ff685" category="paragraph">No se espera que un agente de delimitación que informe sobre acciones de recursos fallidas en un determinado nodo active una conmutación por error de los servicios BeeGFS que se ejecutan en ese nodo. Solo hay que reiniciar automáticamente en un mismo nodo o en uno distinto.</block>
  <block id="549252a4b6f49c6993519d622a3e9c5d" category="paragraph">Pasos para resolver:</block>
  <block id="51f376a71f801714c5dbbdfa83541a86" category="list-text">Si el agente de cercado se niega sistemáticamente a ejecutarse en todos los nodos o en un subconjunto de ellos, compruebe si dichos nodos pueden conectarse al agente de cercado y compruebe que el agente de cercado esté configurado correctamente en el inventario de Ansible.</block>
  <block id="1ae58017c838c0e0ed1e3299e7c683d5" category="list-text">Por ejemplo, si un agente de cercado Redfish (BMC) se está ejecutando en el mismo nodo que es responsable de cercado, y la gestión del SO y las IP de BMC están en la misma interfaz física, algunas configuraciones de switches de red no permitirán la comunicación entre las dos interfaces (para evitar bucles de red). De forma predeterminada, el clúster de alta disponibilidad intentará evitar colocar agentes de cercado en el nodo que sean responsables de cercado, pero esto puede suceder en algunos escenarios/configuraciones.</block>
  <block id="217b4320fb1b29ae95bb478645ec6ba8" category="list-text">Una vez que se resuelven todos los problemas (o si el problema parece efímero), ejecute<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block> para restablecer las acciones de recursos fallidas.</block>
  <block id="5e2b597167eb07cb64833681dcd53f6f" category="section-title">Escenario 2: El monitor BeeGFS detectó un problema y activó un fallo, pero por algún motivo los recursos no se pudieron iniciar en un nodo secundario.</block>
  <block id="cf41377d64715247d22bef68c671d9dc" category="paragraph">Siempre que la delimitación esté habilitada y que el recurso no se haya bloqueado para detenerse en el nodo original (consulte la sección de solución de problemas "standby (on-fail)"), los motivos más probables incluyen problemas para iniciar el recurso en un nodo secundario debido a lo siguiente:</block>
  <block id="ecbc2fa36aa8e4ccfd535f315ff5a1bc" category="list-text">El nodo secundario ya estaba desconectado.</block>
  <block id="9fc9f95992286a812b388e7c2def3cde" category="list-text">Un problema de configuración física o lógica impidió que el secundario acceda a los volúmenes de bloques utilizados como destinos de BeeGFS.</block>
  <block id="1ffc42a5bdee5039a96dffea4901017d" category="list-text">Para cada entrada de las acciones de recursos fallidas:</block>
  <block id="fb6dc7c10276db82fd903122c9aa6780" category="list-text">Confirme que la acción de recurso fallida fue una operación de inicio.</block>
  <block id="6ec17a9b3e2983ef695c793467180ed8" category="list-text">Según el recurso indicado y el nodo especificado en las acciones de recursos con errores:</block>
  <block id="15cdec9d63ec68e3300810746f7c66c5" category="list-text">Busque y corrija los problemas externos que podrían impedir que el nodo inicie el recurso especificado. Por ejemplo, si no se pudo iniciar la dirección IP de BeeGFS (IP flotante), compruebe que al menos una de las interfaces necesarias está conectada/conectada y cableada al conmutador de red correcto. Si se produce un error en un objetivo de BeeGFS (dispositivo de bloque/volumen de E-Series), compruebe que las conexiones físicas con los nodos de bloque back-end estén conectadas según lo esperado y verifique que los nodos de bloque estén en buen estado.</block>
  <block id="66f0528ed6c9cd01b92486aef88bca25" category="list-text">Si no hay problemas externos obvios y desea un motivo raíz para este incidente, se recomienda abrir un caso con la compatibilidad de NetApp para investigar antes de continuar, ya que los siguientes pasos pueden hacer que sea un desafío/imposible el análisis de causa raíz (RCA).</block>
  <block id="3f79d63c01f8e573f1485641a01784f5" category="list-text">Después de resolver cualquier problema externo:</block>
  <block id="0fc5581e5e588d921d0659c6725c8bb7" category="list-text">Comente cualquier nodo no funcional del archivo Ansible Inventory.yml y vuelva a ejecutar el libro de estrategia de Ansible completo para garantizar que toda la configuración lógica se configure correctamente en los nodos secundarios.</block>
  <block id="837bc4d502bb7c6e4bb1557e18c0d778" category="list-text">Nota: No olvide dejar de comentar estos nodos y volver a ejecutar la tableta playbook una vez que el estado de los nodos sea bueno y esté listo para realizar la conmutación tras recuperación.</block>
  <block id="7198cccc6bdd4a3f49c6f73aecb797e3" category="list-text">También puede intentar recuperar manualmente el clúster:</block>
  <block id="6db4e0b9e5f080b1d47896ae71390476" category="list-text">Vuelva a colocar todos los nodos sin conexión en línea mediante:<block ref="2e6a9bc781ade1dd9ff94654afbc34bd" prefix=" " category="inline-code"></block></block>
  <block id="0292b418af30a3106696db822913b4fd" category="list-text">Borre todas las acciones de recursos fallidas mediante:<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block></block>
  <block id="8177fac49f20d8c76b3afe0ead42fe89" category="list-text">Ejecute el estado del pc y verifique que todos los servicios comiencen según lo esperado.</block>
  <block id="0a584da0f19f70578ae419f6c3de1804" category="list-text">Si es necesario, corre<block ref="31b8a2d98f4312a9e7b7ac373d9cca6a" prefix=" " category="inline-code"></block> para devolver los recursos a su nodo preferido (si está disponible).</block>
  <block id="b34551a00d39152d67273fc8e1fc4a52" category="section-title">Cuestiones comunes</block>
  <block id="e728c5fcf9b4ab50066868a6b637a709" category="section-title">Los servicios de BeeGFS no realizan una conmutación por error ni una conmutación tras recuperación cuando se le solicite</block>
  <block id="07f7fa9ba2b669bb79d185d75b136e12" category="paragraph">*Asunto probable:* la<block ref="960b2f261f11ad1988eea18a4ecc34c9" prefix=" " category="inline-code"></block> se ejecutó el comando de ejecución, pero nunca se terminó correctamente.</block>
  <block id="844f68b15c1713a6baa4b0ec6aa225df" category="paragraph">*Cómo comprobar:* Ejecutar<block ref="5a4892b5d40be89d668321c86afd400b" prefix=" " category="inline-code"></block> Y compruebe si existen restricciones de ubicación con un ID de<block ref="2fcf6d99d76b884a404fa4e359bf2b59" prefix=" " category="inline-code"></block>.</block>
  <block id="9e43dd5b3ec5864eaeb73e8dc9a4a445" category="paragraph">*Cómo resolver:* Ejecutar<block ref="3132f7183339b30b65d4c94ec98e59c6" prefix=" " category="inline-code"></block> a continuación, vuelva a ejecutar<block ref="5a4892b5d40be89d668321c86afd400b" prefix=" " category="inline-code"></block> para verificar que se han eliminado las restricciones adicionales.</block>
  <block id="1950007e622fca4ac1ecb2dca5c5b0ca" category="section-title">Un nodo en el estado del pc muestra "standby (on-fail)" cuando está desactivado el cercado</block>
  <block id="7f73632b6cb42dac5be42f899b8f3075" category="paragraph">*Problema probable:* Pacemaker no pudo confirmar con éxito todos los recursos fueron detenidos en el nodo que falló.</block>
  <block id="62e46498125737c7dea16f67e65f663b" category="paragraph">*Cómo resolver:*</block>
  <block id="2443318955c1e9ac3d484a3a95366847" category="list-text">Ejecución<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> y busque los recursos que no se "hayan iniciado" o que muestren errores en la parte inferior del resultado y resuelva cualquier problema.</block>
  <block id="fde999fddc7a609f9b1112a0d74b811e" category="list-text">Para volver a poner en línea el nodo<block ref="22c6d25b4cef458448bf6ec7b072cfdc" prefix=" " category="inline-code"></block>.</block>
  <block id="0b566700630488a9f296399143b71b21" category="section-title">Después de una conmutación por error inesperada, los recursos muestran "iniciado (en caso de fallo)" en el estado de los pc cuando se activa la delimitación</block>
  <block id="d82216004991d1ee26d8a39d995fd037" category="paragraph">*Problema probable:* se produjo Un problema que provocó una conmutación por error, pero Pacemaker no pudo verificar que el nodo estaba vallado. Esto podría ocurrir porque la delimitación estaba mal configurada o hubo un problema con el agente de cercado (ejemplo: La PDU se desconectó de la red).</block>
  <block id="d9377bb89128ecc3849d522366a1bc0e" category="list-text">Compruebe que el nodo esté apagado.</block>
  <block id="26cf4911b5df9522d0b71ba51aa2797f" category="admonition">Si el nodo que especifique no está apagado pero si ejecuta servicios o recursos del clúster, se producirán errores en los datos o en el clúster.</block>
  <block id="eb7adca6805c8d7130032cd721d69726" category="list-text">Confirmar manualmente la esgrima con:<block ref="5448b9bc8364c2b3f706918cda259325" prefix=" " category="inline-code"></block></block>
  <block id="1c0ee784ecf6c6dae18bd342462b0460" category="paragraph">En este punto, los servicios deben terminar de conmutar por error y reiniciarse en otro nodo en buen estado.</block>
  <block id="144c35532a298805242b9831523175df" category="section-title">Tareas comunes de solución de problemas</block>
  <block id="e78d742ead1e3187a4781d20c9f53692" category="section-title">Reinicie los servicios BeeGFS individuales</block>
  <block id="5bd968465c3ccdeb171ce7ade4907d6f" category="paragraph">Normalmente, si es necesario reiniciar un servicio BeeGFS (por ejemplo, para facilitar un cambio en la configuración), debe hacerlo actualizando el inventario de Ansible y volviendo a ejecutar el libro de estrategia. En algunos casos, puede que sea conveniente reiniciar servicios individuales para facilitar la solución de problemas más rápida, por ejemplo, cambiar el nivel de registro sin tener que esperar a que se ejecute el libro de estrategia completo.</block>
  <block id="57f3d071d972e615cf2b21fc580b3981" category="admonition">A menos que también se añadan cambios manuales al inventario de Ansible, se revertirá la próxima vez que se ejecute el libro de estrategia de Ansible.</block>
  <block id="e6ec687230170238fbff13af150aac11" category="section-title">Opción 1: Reinicio controlado por sistema</block>
  <block id="8bd682031ba8c79bdc3518a66ecb5f1d" category="paragraph">Si existe un riesgo de que el servicio BeeGFS no se reinicie correctamente con la nueva configuración, coloque primero el clúster en modo de mantenimiento para evitar que el monitor BeeGFS detecte que el servicio se detiene y active una conmutación por error no deseada:</block>
  <block id="e445f63138e0cf42d48b191e7212fba5" category="paragraph">Si es necesario, realice cualquier cambio en la configuración de servicios en<block ref="7b2e56941196b9587e16891bfbec2093" prefix=" " category="inline-code"></block> (ejemplo:<block ref="e3cb2c4f0757837b4a51b638bed0ec4d" prefix=" " category="inline-code"></block>) a continuación, utilice systemd para reiniciarlo:</block>
  <block id="fc618f42db9108f58f9c7fc76181a551" category="paragraph">Ejemplo:<block ref="d1adfe915ae154bb103f4a2e2d28183d" prefix=" " category="inline-code"></block></block>
  <block id="b8a88c45f80fb4ad388f6cfe0958b272" category="section-title">Opción 2: Reinicio controlado por marcapasos</block>
  <block id="b28d67df7faeb6762f0262ed21fd5c44" category="paragraph">Si no le preocupa la nueva configuración, puede hacer que el servicio se detenga de forma inesperada (por ejemplo, simplemente cambiando el nivel de registro), o está en una ventana de mantenimiento y no le preocupa el tiempo de inactividad, puede reiniciar el monitor BeeGFS para el servicio que desea reiniciar:</block>
  <block id="1ea90ec9ad2232dc8536efa244b502cd" category="paragraph">Por ejemplo, para reiniciar el servicio de gestión de BeeGFS:<block ref="19191ce739dde363bc25ef750853010b" prefix=" " category="inline-code"></block></block>
  <block id="c94162d41104b03145716ac6946bd39a" category="summary">Use Ansible para volver a configurar el clúster.</block>
  <block id="388a6dd09725cda0da5d81c2d32f9c19" category="doc">Vuelva a configurar el clúster de alta disponibilidad y BeeGFS</block>
  <block id="cb584c33a4eae31ed6d0c6ae575a915c" category="inline-link-macro">Especifique la configuración de nodos de archivos comunes</block>
  <block id="2141a88f2dbe4203823c0a65261cec92" category="paragraph">Por lo general, debe reconfigurar cualquier aspecto del clúster de alta disponibilidad de BeeGFS. Para ello, actualice su inventario de Ansible y vuelva a ejecutar el<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> comando. Esto incluye la actualización de alertas, el cambio de la configuración permanente de la vallado o el ajuste de la configuración del servicio BeeGFS. Estos ajustes se ajustan mediante la<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> puede encontrar un archivo y una lista completa de opciones en la <block ref="bd1503180303c25487957027c3618d2a" category="inline-link-macro-rx"></block> sección.</block>
  <block id="f7f37d848a0be4caeb97d6886778dc2a" category="paragraph">Consulte a continuación para obtener más información sobre opciones de configuración seleccionadas que los administradores deben conocer al realizar tareas de mantenimiento o mantenimiento del clúster.</block>
  <block id="d876616b83b1231cc28d82f157ed29c5" category="section-title">Cómo deshabilitar y activar delimitación</block>
  <block id="22228968b8b77db0d4e57d7cb284feb3" category="paragraph">La cercado se habilita o requiere de forma predeterminada cuando se configura el clúster. En algunos casos, puede que sea conveniente desactivar temporalmente la delimitación para garantizar que los nodos no se cierren accidentalmente al realizar determinadas operaciones de mantenimiento (como la actualización del sistema operativo). Aunque esto se puede desactivar manualmente, hay sacrificios que los administradores deben tener en cuenta.</block>
  <block id="bdb2b6bd7635150b7e92a51e70612e12" category="section-title">OPCIÓN 1: Desactive la esgrima con Ansible (recomendado).</block>
  <block id="619a84cba5006df3e436e2a726ca2871" category="paragraph">Cuando se desactiva el cercado mediante Ansible, la acción en caso de fallo del monitor BeeGFS cambia de "cerca" a "en espera". Esto significa que si el monitor BeeGFS detecta un fallo, intentará poner el nodo en espera y realizar una conmutación por error de todos los servicios de BeeGFS. Fuera de la solución activa de problemas/pruebas esto es normalmente más deseable que la opción 2. La desventaja es que si un recurso no se detiene en el nodo original, se impedirá que se inicie en otro lugar (por lo que normalmente se requiere cercado para los clústeres de producción).</block>
  <block id="0809fe829e193f81980e79631c9c15cc" category="list-text">En su inventario de Ansible en<block ref="24eab3114da61057c831607cf391b3b9" prefix=" " category="inline-code"></block> añada la siguiente configuración:</block>
  <block id="d73646db1bf30029f2486d5b7462cde5" category="list-text">Vuelva a ejecutar el libro de estrategia de Ansible para aplicar los cambios al clúster.</block>
  <block id="50a460b97c563d3429b629b6911db7d5" category="section-title">OPCIÓN 2: Desactive la delimitación manualmente.</block>
  <block id="28850c63d2fb8db15eeb1664c121e11b" category="paragraph">En algunos casos puede que desee deshabilitar temporalmente la delimitación sin volver a leer Ansible, quizás para facilitar la solución de problemas o las pruebas del clúster.</block>
  <block id="e0740d4e01fcc73df3a73294627cd292" category="admonition">En esta configuración si el monitor BeeGFS detecta un error, el clúster intentará detener el grupo de recursos correspondiente. NO activará una conmutación por error completa ni intentará reiniciar ni mover el grupo de recursos afectado a otro host. Para recuperarse, solucione cualquier problema que se pueda ejecutar<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block> o coloque manualmente el nodo en espera.</block>
  <block id="99f83169540f1c3e08a1e696707dcbee" category="list-text">Para determinar si el cercado (stonith) está habilitado o desactivado globalmente, ejecute:<block ref="f9bc36eebaadfbe3971849dbb1a7a291" prefix=" " category="inline-code"></block></block>
  <block id="88653da28715cbac123466935349c7b2" category="list-text">Para desactivar la secuencia de cercado:<block ref="d3749d5705f2a9af97f05b0c5c91b235" prefix=" " category="inline-code"></block></block>
  <block id="79c811c32be072ba96828f7eaf67e191" category="list-text">Para habilitar la ejecución de cercado:<block ref="65795833f6c4653caabc1cbacafe84d8" prefix=" " category="inline-code"></block></block>
  <block id="54dfcc160f4c7fc21df07ee9c7df6f86" category="paragraph">Nota: Este ajuste se anulará la próxima vez que ejecute la tableta Ansible playbook.</block>
  <block id="d60c67e58f8b774cb2aa20f043f8db60" category="summary">Use Ansible para actualizar BeeGFS y el clúster de alta disponibilidad.</block>
  <block id="c53f6cfbd1ec7e63b00c0287a063e28c" category="doc">Actualice el clúster de alta disponibilidad y BeeGFS</block>
  <block id="1d1a2914dac869f373457b417771e6a6" category="paragraph">BeeGFS está versionado siguiendo un<block ref="95d209426d2bead51bc37b6066b6ee21" prefix=" " category="inline-code"></block> Se proporcionan el esquema de versiones y los roles de ha de Ansible de BeeGFS para cada BeeGFS compatible<block ref="708997fbc70843c52165e3f6faed4fa8" prefix=" " category="inline-code"></block> versión (por ejemplo<block ref="4111d90a1d8089aa9621c399414fd198" prefix=" " category="inline-code"></block> y..<block ref="7bfdf60ffcc8e818739972660aeebf71" prefix=" " category="inline-code"></block>). Cada uno de los roles de alta disponibilidad se fija en la versión más reciente del parche de BeeGFS en el momento en que se lanzó la colección Ansible.</block>
  <block id="51e0180a7b3c2158984fbbe6e8f869a0" category="paragraph">Ansible se debe utilizar en todas las actualizaciones de BeeGFS, incluido el desplazamiento entre versiones principales, secundarias y parches de BeeGFS. Para actualizar BeeGFS, primero tendrá que actualizar la colección BeeGFS Ansible, que también incluye las correcciones y mejoras más recientes para la automatización de la puesta en marcha/gestión y el clúster de alta disponibilidad subyacente. Incluso después de actualizar a la última versión de la colección, BeeGFS no se actualizará hasta que<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> se realiza con el<block ref="1c5a0082b7b70fba66dc89c5dcadda70" prefix=" " category="inline-code"></block> configurado.</block>
  <block id="c647c561b083b3d7395174f66f8631ea" category="inline-link-macro">Documentación de actualización de BeeGFS</block>
  <block id="c24ac53eed3b244d067e62d9a64dfd49" category="admonition">Para obtener más información sobre las versiones de BeeGFS, consulte <block ref="8574fc3a2a061b998ddd0369208f121a" category="inline-link-macro-rx"></block>.</block>
  <block id="249c0f5c176707459e70ddb6695a2d0b" category="section-title">Rutas de actualización probadas</block>
  <block id="47d550a414d88378d8af3a8ee7202f43" category="paragraph">Cada versión de la colección BeeGFS se prueba con versiones específicas de BeeGFS para garantizar la interoperabilidad entre todos los componentes. También se realizan pruebas para garantizar que las actualizaciones se pueden realizar desde las versiones de BeeGFS admitidas por la última versión de la colección hasta las admitidas en la última versión.</block>
  <block id="898fd772d03120abb80bc290103408c1" category="cell">Versión original</block>
  <block id="6b109fe64fc40b0f8653da2a76f4622d" category="cell">Actualizar la versión</block>
  <block id="4805ea9349955c3f72d0d2a6e29e9599" category="cell">MultiRail</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">Detalles</block>
  <block id="9197ec103d780b6779cb78eec6afce31" category="cell">7.2.6</block>
  <block id="0cbcbda5109bcde6b94054595b5c2163" category="cell">7.3.2</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">Sí</block>
  <block id="80af1bca395a5729dba29bf239d414de" category="cell">Actualización de la colección beegfs de v3.0.1 a v3.1.0, multirail agregó</block>
  <block id="cd0d3c01d5de47172fb0980b9e484085" category="cell">7.2.8</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">No</block>
  <block id="f8c6df0b95129e4f957da4faa69e9a95" category="cell">Actualizando la colección beegfs de v3.0.1 a v3.1.0</block>
  <block id="90e738eca301c4d89366b1a4d15fe37f" category="cell">7.3.1</block>
  <block id="37ee8dee8daa5fa1f91e93f31f1e4548" category="cell">Actualización mediante la colección beegfs v3.1.0, multirail añadido</block>
  <block id="35aee211b7a94a90469b8820e9b58379" category="cell">Actualice utilizando beegfs Collection v3.1.0</block>
  <block id="390e3e776572a27d6c80365516e8c16b" category="section-title">Pasos de actualización de BeeGFS</block>
  <block id="273ff57e75c54934edf55dce6acbd4fb" category="paragraph">En las siguientes secciones se proporcionan los pasos para actualizar la colección de BeeGFS Ansible y BeeGFS mismo. Preste especial atención a cualquier paso(s) adicional(s) para actualizar BeeGFS versiones mayores o menores.</block>
  <block id="b57e5fe19f7ba63474311a27d676448b" category="section-title">Paso 1: Actualizar BeeGFS Collection</block>
  <block id="733ba000742537e7a4435573aca51393" category="inline-link-macro">Galaxia de ansible</block>
  <block id="2f4c1ac28e39c823ee4c1a07b7cd93aa" category="paragraph">Para actualizaciones de colecciones con acceso a. <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block>, ejecute el siguiente comando:</block>
  <block id="c199206a11a9882502e88de065338656" category="paragraph">Para actualizaciones de colecciones sin conexión, descargue la colección desde <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block> haciendo clic en el deseado<block ref="5ab34c986ae1945ee0c548bc8d6ac4a8" prefix=" " category="inline-code"></block> y después<block ref="80af28150f2ffd9a902b18cd4e9b6656" prefix=" " category="inline-code"></block>. Transfiera el tarball al nodo de control de Ansible y ejecute el siguiente comando.</block>
  <block id="dd26fb41f43f69172e0099b87c9d0732" category="inline-link-macro">Instalando colecciones</block>
  <block id="6aa260cc14fabe54e7e9f6efd513b871" category="paragraph">Consulte <block ref="78e19afa50f5104f13264e857fffab2b" category="inline-link-macro-rx"></block> si quiere más información.</block>
  <block id="e3e48a2ea685760842b2722b48a2e797" category="section-title">Paso 2: Actualizar el inventario de Ansible</block>
  <block id="e6811430a0324887ba2ad63393a262e1" category="inline-link-macro">Notas sobre la actualización de la versión</block>
  <block id="91eaeb6e5e7e4e970687d3f792cb1fc2" category="inline-link-macro">Utilice arquitecturas personalizadas</block>
  <block id="1fd9deaaaf47488f551e416eed092dc4" category="paragraph">Realice las actualizaciones necesarias o deseadas que necesite en los archivos de inventario de Ansible del clúster. Consulte <block ref="45bb05730b6b8d8285ea6a3b0b08136e" category="inline-link-macro-rx"></block> la siguiente sección para obtener información sobre sus requisitos específicos de actualización. Consulte <block ref="cd8d64b4736b3d402448d2252c8caef5" category="inline-link-macro-rx"></block> Para obtener información general sobre la configuración del inventario de alta disponibilidad de BeeGFS.</block>
  <block id="e9bec369ce9e01aa4b52853b96332456" category="section-title">Paso 3: Actualizar el libro de aplicaciones de Ansible (solo al actualizar versiones principales o secundarias)</block>
  <block id="741fd5c03969a4e2dd468f897af24b03" category="paragraph">Si va a moverse entre versiones principales o secundarias, en la<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> archivo que se utiliza para implementar y mantener el clúster y actualice el nombre del<block ref="66b5cc4f55c22b7b05dfd4be1be47aab" prefix=" " category="inline-code"></block> función para reflejar la versión deseada. Por ejemplo, si desea implementar BeeGFS 7.3, esto sería<block ref="7bfdf60ffcc8e818739972660aeebf71" prefix=" " category="inline-code"></block>:</block>
  <block id="800371603b58ee549a4a9674cd231cfd" category="inline-link-macro">Ponga en marcha el clúster de alta disponibilidad de BeeGFS</block>
  <block id="8bb6abf93d767c3eea0b12c8c4b6bbb9" category="paragraph">Para obtener más detalles sobre el contenido de este archivo del libro de estrategia, consulte <block ref="fb53cae6b899ceb0b1bf986adcdc0e3a" category="inline-link-macro-rx"></block> sección.</block>
  <block id="66422423510da7fd29c77f6559cd7ef6" category="section-title">Paso 4: Ejecute la actualización de BeeGFS</block>
  <block id="5c349c42761230bd8e50fff98f6e7508" category="paragraph">Para aplicar la actualización de BeeGFS:</block>
  <block id="a2dd7653f3025e7feb8e282bcc0bde84" category="paragraph">Entre bastidores, el rol de BeeGFS ha se encargará de:</block>
  <block id="2d304ec0e0fbeec292dc41145e2eecb0" category="list-text">Asegúrese de que el clúster esté en estado óptimo en cada servicio BeeGFS ubicado en su nodo preferido.</block>
  <block id="5f143f3872f8df75b9266e40b2272406" category="list-text">Ponga el clúster en modo de mantenimiento.</block>
  <block id="400df38ef11abbe30ea67fa8e7200a0d" category="list-text">Actualice los componentes del clúster de alta disponibilidad (si es necesario).</block>
  <block id="33421319eb71c7eeb0ce5b0e4a6e4b8f" category="list-text">Actualice cada nodo de archivo de uno en uno de los siguientes modos:</block>
  <block id="e8e28076de7654eb24e044afdf734b1a" category="list-text">Colóquela en espera y realice la conmutación al nodo de respaldo de sus servicios en el nodo secundario.</block>
  <block id="428a1ecc41f6178248f2f8dadec2f62b" category="list-text">Actualizar paquetes BeeGFS.</block>
  <block id="8a1d7e8d1dce93a3d4fb9150570283c2" category="list-text">Servicios de respaldo.</block>
  <block id="f4a4c394b32e613eb518abe373f40c37" category="list-text">Mueva el clúster fuera del modo de mantenimiento.</block>
  <block id="2e5a7ec61feb5cc6bfdf6e50d5cc9a86" category="section-title">Actualización desde BeeGFS versión 7.2.6 o 7.3.0</block>
  <block id="3398f8eccca63b60d155b3c42101428c" category="section-title">Cambios en autenticación basada en conexión</block>
  <block id="7202d449c02688973a53bb72a0090f19" category="inline-link-macro">Autenticación basada en conexión BeeGFS</block>
  <block id="334d537e5273e4291972dbb772133d23" category="paragraph">Las versiones de BeeGFS publicadas después de 7.3.1 dejarán de permitir que los servicios se inicien sin especificar ni un<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> o ajuste<block ref="194193db6aa10dc83a871ef82dae32ce" prefix=" " category="inline-code"></block> en el archivo de configuración del servicio. Se recomienda encarecidamente habilitar la seguridad de autenticación basada en conexión. Consulte <block ref="f745eac1796bcd7c76bb4ab7bb03be5b" category="inline-link-macro-rx"></block> si quiere más información.</block>
  <block id="37075250adff19201f1f54be05b5a07a" category="paragraph">De forma predeterminada, la<block ref="59544be57ace17b034c14f8d12510eee" prefix=" " category="inline-code"></block> Los roles generarán y distribuirán este archivo, añadiendo también al nodo de control Ansible en<block ref="d60ea3ba7610ba191573b69dca307efb" prefix=" " category="inline-code"></block>. La<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> el rol también comprobará la presencia de este archivo y lo suministrará a los clientes si está disponible.</block>
  <block id="1ea32c7c84666a27c0f0add65b2c620e" category="admonition">Si la<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> la función no se ha utilizado para configurar clientes, este archivo deberá distribuirse manualmente a cada cliente y a la<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> de la<block ref="1b33ed41c854e3144951352c24ab4653" prefix=" " category="inline-code"></block> conjunto de archivos para utilizarlo. Al actualizar desde una versión anterior de BeeGFS en la que la autenticación basada en conexión no estaba activada, los clientes perderán el acceso a menos que la autenticación basada en conexión esté deshabilitada como parte de la configuración de actualización<block ref="2ff6bdfeb6b3a41d28029b9ff7bdb93c" prefix=" " category="inline-code"></block> pulg<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> (no recomendado).</block>
  <block id="0541656d70a4c4cf414ae5049179dd3e" category="paragraph">Para obtener detalles adicionales y opciones de configuración alternativas, consulte el paso para configurar la autenticación de conexión en <block ref="bd1503180303c25487957027c3618d2a" category="inline-link-macro-rx"></block> sección.</block>
  <block id="c8c3d1dbab26a87a3652e84d9f35d37f" category="summary">¿Cuándo debe utilizar Ansible frente a la herramienta de línea de comandos de pc para gestionar el clúster de alta disponibilidad?</block>
  <block id="932c5a738d1d867e858cd1dbc1391b1a" category="doc">Cuándo usar Ansible frente a la herramienta pc</block>
  <block id="272d3f535988cc62fbddd197f2ce0477" category="paragraph">Todas las tareas de puesta en marcha y reconfiguración del clúster se deben completar con Ansible desde un nodo de control externo de Ansible. Normalmente, los cambios temporales en el estado del clúster (por ejemplo, la colocación de nodos dentro y fuera de espera) se realizarán iniciando sesión en un nodo del clúster (preferiblemente uno que no esté degradado o esté a punto de someterse a tareas de mantenimiento) y utilizando la herramienta de línea de comandos del pc.</block>
  <block id="5b94af0d2c18b35c22f5cfa622f91a3c" category="paragraph">La modificación de cualquier configuración del clúster, incluidos los recursos, las restricciones, las propiedades y los propios servicios de BeeGFS, siempre debe realizarse con Ansible. Mantener una copia actualizada del inventario y el libro de estrategia de Ansible (lo ideal para un control de origen para realizar un seguimiento de los cambios) forma parte del mantenimiento del clúster. Si necesita realizar cambios en la configuración, actualice el inventario y vuelva a ejecutar el libro de aplicaciones de Ansible que importa el rol de alta disponibilidad de BeeGFS.</block>
  <block id="636c6afe41e34a0f4dc30a8fee8de25c" category="paragraph">El rol de alta disponibilidad manejará colocar el clúster en modo de mantenimiento y, a continuación, hará los cambios necesarios antes de reiniciar BeeGFS o los servicios de clúster para aplicar la nueva configuración. Dado que normalmente no es necesario reiniciar el nodo completo fuera de la puesta en marcha inicial, Ansible se considera un procedimiento "seguro", pero siempre es un procedimiento recomendado durante las ventanas de mantenimiento o fuera de las horas, en caso de que se deban reiniciar los servicios de BeeGFS. Normalmente, estos reinicios no deben causar errores en la aplicación, pero pueden afectar al rendimiento (que algunas aplicaciones pueden manejar mejor que otras).</block>
  <block id="cfe79eee27daf73a913f7b76cbb46461" category="paragraph">La repetición de la operación de Ansible también es una opción cuando desea devolver todo el clúster a un estado completamente óptimo y, en algunos casos, puede recuperar el estado del clúster con más facilidad que con los pc. Especialmente durante una emergencia en la que el clúster está inactivo por algún motivo, una vez que todos los nodos se vuelven a ejecutar Ansible puede recuperar el clúster de forma más rápida y fiable que intentar usar los pc.</block>
  <block id="23bc11ca7e09a55b459ef424efb98c36" category="summary">Utilice pc para ver el estado del clúster.</block>
  <block id="d4c39d91a1df6c7a7094c35722ec3ed5" category="doc">Examine el estado del clúster</block>
  <block id="b6330a3d35150021353dc39d5bf1899a" category="paragraph">Ejecutando<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Desde cualquiera de los nodos del clúster es la forma más sencilla de ver el estado general del clúster y el estado de cada recurso (como los servicios BeeGFS y sus dependencias). En esta sección se describe lo que encontrará en el resultado del<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> comando.</block>
  <block id="a58022af0d3ce83b3b4031643fcdb7be" category="section-title">Comprender el resultado de<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block></block>
  <block id="24b70b7dc179eb742a98eca1b4c954b3" category="paragraph">Ejecución<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> En cualquier nodo de clúster en el que se hayan iniciado los servicios de clúster (Pacemaker y Corosync). La parte superior del resultado le mostrará un resumen del clúster:</block>
  <block id="9e1d70fa0d8e4964c3bd135b73fa8375" category="paragraph">En la siguiente sección se enumeran los nodos del clúster:</block>
  <block id="ce0c86ab66a5ecdcc820da60194c7abc" category="paragraph">Esto indica notablemente cualquier nodo que esté en espera o sin conexión. Los nodos en espera siguen participando en el clúster, pero se marcan como no aptos para ejecutar los recursos. Los nodos que están sin conexión indican que los servicios de clúster no se están ejecutando en ese nodo, ya sea debido a que se detuvo manualmente o porque el nodo se reinició/apague.</block>
  <block id="39dd7b2f17eda84e2e8059bb568493c9" category="admonition">Cuando se inician por primera vez los nodos, se detienen los servicios del clúster y se deben iniciar manualmente para evitar que se reproduzcan accidentalmente los recursos de un nodo que no está en buen estado.</block>
  <block id="cbc566d6b815d43dd99c76ca8f2fd4f8" category="paragraph">Si los nodos están en espera o sin conexión debido a un motivo no administrativo (por ejemplo, un fallo), se mostrará texto adicional junto al estado del nodo entre paréntesis. Por ejemplo, si está desactivada la delimitación y un recurso encuentra un error que verá<block ref="1db3c4bcbb494ae3b1b2e86c57842a69" prefix=" " category="inline-code"></block>. Otro estado posible es<block ref="3fd6d1573d7af30709095c1a01f1fdd9" prefix=" " category="inline-code"></block>, que se verá brevemente como un nodo está siendo vallado, pero persistirá si falló la cercado indicando que el clúster no puede confirmar el estado del nodo (esto puede bloquear que los recursos comiencen en otros nodos).</block>
  <block id="56cfcb8bfa2e43de0547ffbf4a2edd0e" category="paragraph">En la siguiente sección se muestra una lista de todos los recursos del clúster y sus estados:</block>
  <block id="45caf63eb71a242bf4ef160a8aeeb2a4" category="paragraph">De forma similar a los nodos, se mostrará texto adicional junto al estado del recurso entre paréntesis si hay problemas con el recurso. Por ejemplo, si Pacemaker solicita una detención de recursos y no puede completarse dentro del tiempo asignado, Pacemaker intentará cercar el nodo. Si se desactiva la delimitación o se produce un error en la operación de delimitación, el estado del recurso será<block ref="bb38152bf8b813a142650a06ad87363e" prefix=" " category="inline-code"></block> Y Pacemaker no podrá iniciarlo en un nodo diferente.</block>
  <block id="028c86c0d3bdc4a78f8123e9fad41847" category="paragraph">Vale la pena destacar que los clusters de ha de BeeGFS utilizan una serie de agentes de recursos de OCFP personalizados optimizados de BeeGFS. En particular, el monitor BeeGFS es responsable de activar una conmutación por error cuando los recursos de BeeGFS en un nodo determinado no están disponibles.</block>
  <block id="647328604bd666deba44b0caaea998a2" category="summary">Obtenga información sobre cómo administrar los clústeres de alta disponibilidad de BeeGFS después de haberse puesto en marcha.</block>
  <block id="0aa1ffb15625f418cfc560deda2535bb" category="doc">Descripción general, conceptos clave y terminología</block>
  <block id="d051e95d54ee33ed5c79e05f582bab59" category="paragraph">Esta sección está destinada a administradores de clústeres que deben gestionar clústeres de alta disponibilidad de BeeGFS una vez que se han puesto en marcha. Incluso los que estén familiarizados con los clústeres de alta disponibilidad de Linux deben leer esta guía detenidamente, ya que hay varias diferencias en cómo gestionar el clúster, especialmente en lo que respecta a la reconfiguración debido al uso de Ansible.</block>
  <block id="612b7c650263f39248b97e7e57b35a77" category="section-title">Conceptos clave</block>
  <block id="db7e5dec439a7c83d48d86330a62e954" category="inline-link-macro">términos y conceptos</block>
  <block id="f0ca7f454ca467a752ad7b5f66747b70" category="paragraph">Mientras que algunos de estos conceptos se introducen en el principal <block ref="9a256c21d0775c8b23b592e82da8914c" category="inline-link-macro-rx"></block> Página, es útil reintroducirlos en el contexto de un clúster de alta disponibilidad de BeeGFS:</block>
  <block id="8961c26dabe98c278717f1cb0fc25fdc" category="paragraph">**Nodo de clúster:** servidor que ejecuta los servicios Pacemaker y Corosync y que participa en el clúster ha.</block>
  <block id="e0a3a06b3c015009967896eb40327e82" category="paragraph">**Nodo de archivo:** un nodo de clúster utilizado para ejecutar uno o más servicios de gestión, metadatos o almacenamiento de BeeGFS.</block>
  <block id="1985ebdeb71d83b6b551914e77b2b178" category="paragraph">**Nodo de bloque:** Un sistema de almacenamiento E-Series de NetApp que proporciona almacenamiento basado en bloques a los nodos de ficheros. Estos nodos no participan en el clúster de alta disponibilidad de BeeGFS porque proporcionan sus propias funcionalidades de alta disponibilidad independientes. Cada nodo consta de dos controladoras de almacenamiento que proporcionan alta disponibilidad en la capa de bloques.</block>
  <block id="31a3205f29074295100fad4351661826" category="paragraph">**Servicio BeeGFS:** un servicio de gestión, metadatos o almacenamiento de BeeGFS. Cada nodo de archivo ejecutará uno o más servicios que usarán volúmenes en el nodo de bloque para almacenar sus datos.</block>
  <block id="495f4cf25a1d9d4e5a1258aafbbf0c8d" category="paragraph">**Elementos básicos:** una puesta en marcha estandarizada de nodos de archivos BeeGFS, nodos de bloque E-Series y servicios BeeGFS que se ejecutan en ellos simplifican el escalado de un clúster/sistema de archivos de alta disponibilidad de BeeGFS siguiendo una arquitectura verificada de NetApp. También se admiten clústeres de alta disponibilidad personalizados, pero a menudo siguen un método de elementos básicos similar para simplificar el escalado.</block>
  <block id="f1816719094f9c5af3f9f2666c1c5666" category="paragraph">**BeeGFS ha Cluster:** un número escalable de nodos de archivo utilizados para ejecutar servicios BeeGFS respaldados por nodos de bloque para almacenar los datos de BeeGFS de forma muy disponible. Desarrollado a partir de componentes de código abierto demostrados en el sector Pacemaker y Corosync con Ansible para el paquete y la puesta en marcha.</block>
  <block id="830f6f39f3eb0533714fc986605bb0fc" category="paragraph">**Servicios de Cluster Server:** se refiere a los servicios Pacemaker y Corosync que se ejecutan en cada nodo que participa en el cluster. Tenga en cuenta que es posible que un nodo no ejecute ningún servicio BeeGFS y solo participe en el clúster como nodo "tiebreaker" en el caso de que solo haya necesidad de dos nodos de archivo.</block>
  <block id="ac47f8eb4b50e1f3fefe94fafff761c2" category="paragraph">**Recursos de clúster:** para cada servicio BeeGFS que se ejecuta en el clúster, verá un recurso de supervisión BeeGFS y un grupo de recursos que contiene recursos para los objetivos BeeGFS, direcciones IP (IP flotantes) y el servicio BeeGFS mismo.</block>
  <block id="25d0c377de7b7699ce796352723a7a41" category="paragraph">**Ansible:** una herramienta para el aprovisionamiento de software, la gestión de la configuración y la puesta en marcha de aplicaciones, lo que permite la infraestructura como código. Así es como los clústeres de alta disponibilidad de BeeGFS se empaquetan para simplificar el proceso de puesta en marcha, reconfiguración y actualización de BeeGFS en NetApp.</block>
  <block id="53ece6444fc3a7adacd61f55a3d5e410" category="paragraph">**pc:** una interfaz de línea de comandos disponible desde cualquiera de los nodos de archivos del clúster utilizados para consultar y controlar el estado de los nodos y recursos del clúster.</block>
  <block id="1ed63b060fea1b0497535f402b308312" category="section-title">Terminología común</block>
  <block id="d3d43886ce330c5bc1abf87c9da84517" category="paragraph">**Failover:** cada servicio BeeGFS tiene un nodo de archivo preferido en el que se ejecutará a menos que dicho nodo falle. Cuando un servicio BeeGFS se ejecuta en un nodo de archivo no preferido/secundario, se dice que está en conmutación por error.</block>
  <block id="360fc740d5a934107e93d720053a8a24" category="paragraph">**Failback:** el acto de mover servicios BeeGFS de un nodo de archivo no preferido de nuevo a su nodo preferido.</block>
  <block id="1687b43e3f76609bd3a5dda1cdbd29b3" category="paragraph">**Par de alta disponibilidad:** dos nodos de archivo que pueden acceder al mismo conjunto de nodos de bloque se denominan a veces pares de alta disponibilidad. Este es un término común que se emplea en NetApp para hacer referencia a dos controladoras de almacenamiento o nodos que se pueden «sustituir» entre sí.</block>
  <block id="3663bc32267b225ac55e52a4e99f2b3c" category="inline-link-macro">modo de mantenimiento</block>
  <block id="39560dcdbcd94c46104949cdc818ff92" category="paragraph">**Modo de mantenimiento:** deshabilita la supervisión de todos los recursos e impide que Pacemaker mueva o administre de otro modo los recursos del clúster (consulte también la sección en <block ref="f0a78cef389e4c877fc593c4dc0dd05c" category="inline-link-macro-rx"></block>).</block>
  <block id="e7f8a11794ad2275f244bec012ef84de" category="paragraph">**Clúster de alta disponibilidad:** uno o más nodos de archivo que ejecutan servicios BeeGFS que pueden conmutar por error entre varios nodos del clúster para crear un sistema de archivos BeeGFS de alta disponibilidad. A menudo, los nodos de archivo se configuran en pares de alta disponibilidad que pueden ejecutar un subconjunto de los servicios de BeeGFS del clúster.</block>
  <block id="014e0772632604acc6760e28c820cb22" category="summary">Descripción general de la solución de problemas</block>
  <block id="818c6e601a24f72750da0f6c9b8ebe28" category="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incidentidunt ut labore et dolore magna aliqua.</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="summary">Información general de la actualización</block>
  <block id="86cd3363bcd965ea6807e544cdb56311" category="summary">Compruebe la implementación del sistema de archivos antes de colocar el sistema en producción.</block>
  <block id="0c947320dda2aecdd9ad8baca329d8a9" category="doc">Verifique la implementación de BeeGFS</block>
  <block id="9f4d5d32220ec3141c624637c9a8b89f" category="paragraph">Antes de poner el sistema de archivos BeeGFS en producción, realice algunas comprobaciones de verificación.</block>
  <block id="09b37befd9a82a1583041aaff8b9a03a" category="list-text">Inicie sesión en cualquier cliente y ejecute lo siguiente para garantizar que todos los nodos esperados estén presentes o sean accesibles, no se han notificado inconsistencias ni otros problemas:</block>
  <block id="a1729ed32ceab91f7ef692e7af48a6b8" category="list-text">Apague todo el clúster y, a continuación, reinícielo. Desde cualquier nodo de archivo ejecute lo siguiente:</block>
  <block id="989e28705c44d76a13ea323790377850" category="list-text">Coloque cada nodo en espera y compruebe que los servicios de BeeGFS pueden conmutar por error a nodos secundarios. Para realizar este inicio de sesión en cualquiera de los nodos de archivo y ejecute lo siguiente:</block>
  <block id="ba2b2e2a9229fbcedccdb09d825096ee" category="inline-link-macro">Verificación del diseño</block>
  <block id="3c8e1266f80cdbaf6dd8600cff74e6a5" category="list-text">Utilizar herramientas de evaluación del rendimiento como IOR y MDTest para verificar que el rendimiento del sistema de archivos cumple las expectativas. En la se pueden encontrar ejemplos de pruebas y parámetros comunes utilizados con BeeGFS <block ref="0ec650ae704c14f404555ee540b16de5" category="inline-link-macro-rx"></block> De BeeGFS en Arquitectura verificada de NetApp.</block>
  <block id="fdb55059a4337ca76c138af7ad303efa" category="paragraph">Las pruebas adicionales deben realizarse en función de los criterios de aceptación definidos para una instalación/emplazamiento particular.</block>
  <block id="71a6b27b610785178635f3c7fea0dc9c" category="summary">Puesta en marcha y gestión de clústeres de alta disponibilidad de BeeGFS mediante Ansible.</block>
  <block id="03d8a35d2c337d83e9a0c791c0bde873" category="doc">Descripción general del libro de estrategia de Ansible</block>
  <block id="dd3429f2a44e55e208032b591c258877" category="paragraph">En las secciones anteriores se han realizado los pasos necesarios para crear un inventario de Ansible que represente un clúster de alta disponibilidad de BeeGFS. En esta sección se presenta la automatización de Ansible desarrollada por NetApp para poner en marcha y gestionar el clúster.</block>
  <block id="531369b10b19be4aa811f6b1b1abfc32" category="section-title">Ansible: Conceptos clave</block>
  <block id="c4c6df2bdb8451df5f63cc2602cd3266" category="paragraph">Antes de continuar, es útil estar familiarizado con algunos conceptos clave de Ansible:</block>
  <block id="0a4d7a775f170dc43fae102dc8eed0f1" category="list-text">Las tareas que se deben ejecutar con un inventario de Ansible se definen en lo que se conoce como *playbook*.</block>
  <block id="503c50788505311e2737ca28bcfc6d1b" category="list-text">La mayoría de las tareas en Ansible están diseñadas para ser *idempotente*, lo que significa que pueden ejecutarse varias veces para verificar que la configuración/estado deseada todavía se aplica sin romper las cosas ni hacer actualizaciones innecesarias.</block>
  <block id="fb3edd793b0a4233a87fc2742a893d8d" category="list-text">La unidad más pequeña de ejecución en Ansible es un *módulo*.</block>
  <block id="d30cef0e8eb4eaf16c7181329c0d06bd" category="list-text">Los libros de estrategia habituales utilizan varios módulos.</block>
  <block id="424107bb38bc62e70c34a281a355ca1d" category="list-text">Ejemplos: Descargue un paquete, actualice un archivo de configuración, inicie/habilite un servicio.</block>
  <block id="b34cf1156d6d4fc5d2020447509756c9" category="list-text">NetApp distribuye módulos para automatizar los sistemas E-Series de NetApp.</block>
  <block id="a5a68481f09270734c66ad9ff1dcd0af" category="list-text">La automatización compleja se empaquetará mejor como rol.</block>
  <block id="4eac750d0b9763378029ed193c50648c" category="list-text">Básicamente, un formato estándar para distribuir un libro de aplicaciones reutilizable.</block>
  <block id="caa4d8cd3e05670bd54bb0281f679498" category="list-text">NetApp distribuye roles para hosts Linux y sistemas de archivos BeeGFS.</block>
  <block id="1aa532e3c0c6ac72094492dd5d4ad8fa" category="section-title">Rol de ha de BeeGFS para Ansible: Conceptos clave</block>
  <block id="8313d0dcd5307c834d7d37f194d4ea32" category="inline-link-macro">Colección de Ansible E-Series de NetApp para BeeGFS</block>
  <block id="8694b9bbf06f92b8fb6a129f90967b56" category="paragraph">Toda la automatización necesaria para poner en marcha y gestionar cada versión de BeeGFS en NetApp se presenta como un rol de Ansible y se distribuye como parte de la <block ref="0d95f34d028d609c5e44d4c47f78ca03" category="inline-link-macro-rx"></block>:</block>
  <block id="e14542ae9d29391a92cc14f6b44e67fd" category="list-text">Este papel se puede considerar como un lugar entre un motor de *instalador* y un motor de *implementación/administración* moderno para BeeGFS.</block>
  <block id="3bcab18a67a5ea90f159f8f472ab0f9d" category="list-text">Aplica una infraestructura moderna como prácticas de código y filosofías para simplificar la gestión de infraestructura de almacenamiento a cualquier escala.</block>
  <block id="82877b38f579bedd3acfc034e6aa2a8e" category="inline-link-macro">Kubespray</block>
  <block id="ec0d4c87ba519deb5bdc3bec080e5fc1" category="list-text">Similar a cómo <block ref="e56eacf8ed0ebfb267e63f1ff54fa855" category="inline-link-macro-rx"></block> El proyecto permite a los usuarios poner en marcha/mantener una distribución completa de Kubernetes para la infraestructura informática de escalado horizontal.</block>
  <block id="34681b6b5fc6e725199f30a154956754" category="list-text">Este rol es el formato *definido por software* que utiliza NetApp para empaquetar, distribuir y mantener BeeGFS en soluciones NetApp.</block>
  <block id="3c359db1a2bcb271a8a28e3381057655" category="list-text">Esforzarse por crear una experiencia “similar a un dispositivo” sin necesidad de distribuir una distribución entera de Linux o una imagen grande.</block>
  <block id="ebc3365fe74d7c659b1f0298995f6d39" category="list-text">Incluye agentes de recursos en clúster compatibles con Open Cluster Framework (OCF) de NetApp para objetivos BeeGFS personalizados, direcciones IP y supervisión que proporcionan una integración inteligente con Pacemaker/BeeGFS.</block>
  <block id="8af5165ce6aabae36357e63702ba3fbf" category="list-text">Esta función no se limita a la puesta en marcha de la «automatización», sino que está destinada a gestionar todo el ciclo de vida del sistema de archivos, incluidos:</block>
  <block id="444e2df3560fe0281204fd385d895403" category="list-text">Aplicar cambios y actualizaciones de configuración por servicio o para todo el clúster.</block>
  <block id="61ef90c42824e8e8c92d69c04046a94b" category="list-text">Automatizar la reparación y recuperación del clúster después de resolver problemas de hardware.</block>
  <block id="bb8450666975061db9804d65dbb5afbf" category="list-text">Simplificación del ajuste del rendimiento con valores predeterminados establecidos en función de amplias pruebas con BeeGFS y volúmenes de NetApp.</block>
  <block id="fded9f625af9335e3b78e65d6fd6abac" category="list-text">Verificación y corrección de deriva de configuración.</block>
  <block id="16a4e0aca277107b3401d2d33d4e5c00" category="inline-link-macro">Clientes de BeeGFS</block>
  <block id="1c82d73e983ef595a7c60ff4647716a7" category="paragraph">NetApp también proporciona un rol de Ansible para <block ref="b6cde77df9fbd5f549a35216e2ea351f" category="inline-link-macro-rx"></block>, Que se puede utilizar opcionalmente para instalar BeeGFS y montar sistemas de archivos en nodos de cálculo/GPU/inicio de sesión.</block>
  <block id="31a21a1e42c30056168ee5a4cca695a9" category="summary">Especifique qué tareas se deben ejecutar para poner en marcha el clúster de alta disponibilidad de BeeGFS mediante un libro de aplicaciones.</block>
  <block id="aca5a5a6b413ed0913ad90f87766df63" category="paragraph">En esta sección se describe cómo montar el libro de estrategia estándar utilizado para poner en marcha/gestionar BeeGFS en NetApp.</block>
  <block id="b3254ab5c14c4bb06dbb987f8ee20900" category="section-title">Cree el libro de aplicaciones de Ansible</block>
  <block id="dc1e1a7b77e4fce07756f071e5ec7d8b" category="paragraph">Cree el archivo<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="a3b34c0871dc2fd51eec5559b68f709d" category="inline-link-macro">repr</block>
  <block id="3b4e65c5ca327e9a010b0e69fb90e476" category="list-text">Defina primero un conjunto de tareas (comúnmente denominado a) <block ref="6d76655a02e5cb4ca885a92d78a5ab31" category="inline-link-macro-rx"></block>) Que solo se debe ejecutar en los nodos de bloques E-Series de NetApp. Utilizamos una tarea de pausa para preguntar antes de ejecutar la instalación (para evitar la ejecución accidental de playbook) y, a continuación, importar la<block ref="504ead1cde99fc3bc223588114102919" prefix=" " category="inline-code"></block> función. Esta función se ocupa de aplicar cualquier configuración general del sistema definida en<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block> o individual<block ref="7011fddbea4410953d6718ccf9ef966a" prefix=" " category="inline-code"></block> archivos.</block>
  <block id="19c06a0dc65b61c783f73d77e193957e" category="list-text">Defina la reproducción que se ejecutará en todos los nodos de archivos y bloques:</block>
  <block id="25296aae8975fe74b18a42af79a293d3" category="list-text">En esta aplicación podemos definir opcionalmente un conjunto de «tareas previas» que se deben ejecutar antes de poner en marcha el clúster de alta disponibilidad. Esto puede ser útil para verificar/instalar requisitos previos como Python. También podemos inyectar comprobaciones previas al vuelo, por ejemplo, verificar que las etiquetas de Ansible proporcionadas son compatibles:</block>
  <block id="adcd434b091e5725531891ba91d50193" category="list-text">Por último, este juego importa el rol de ha de BeeGFS para la versión de BeeGFS que desea implementar:</block>
  <block id="d1b15e5b42308e0128908c431c40f477" category="inline-link-macro">guía de actualización</block>
  <block id="7e10b750e783312f0439de308f7b7f5d" category="admonition">Se mantiene un rol de ha de BeeGFS para cada versión principal.secundaria de BeeGFS admitida. Esto permite a los usuarios elegir cuándo desean actualizar versiones principales o secundarias. Actualmente BeeGFS 7.3.x <block ref="b8974e83e3e52aff89dd9fef2fd40433" prefix="(" category="inline-code"></block>) O BeeGFS 7.2.x. <block ref="a89433e176d102073aaa272a94fc99a0" prefix="(" category="inline-code"></block>) son compatibles. De forma predeterminada, ambos roles implementarán la versión más reciente del parche de BeeGFS en el momento de su publicación, aunque los usuarios pueden optar por anular este parche e implementar el último parche si lo desean. Consulte la información más reciente <block ref="55cf38a4d7e02b8bb50d2f2516e38095" category="inline-link-macro-rx"></block> para obtener más detalles.</block>
  <block id="cf0e39575a3cd74789827d1f8d28bcb0" category="list-text">Opcional: Si desea definir tareas adicionales, tenga en cuenta si las tareas deben ser dirigidas<block ref="a181a603769c1f98ad927e7367c7aa51" prefix=" " category="inline-code"></block> Los hosts (incluidos los sistemas de almacenamiento E-Series) o solo los nodos de archivos. Si es necesario, defina una nueva reproducción dirigida específicamente a los nodos de archivo mediante<block ref="0c748da7ba6880eb7537e471415afd58" prefix=" " category="inline-code"></block>.</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">aquí</block>
  <block id="abd8b7e36cb7499818727f42837b0025" category="paragraph">Haga clic en <block ref="01ba4d718d4b882a06a17b3dab000fe7" category="inline-link-macro-rx"></block> por ejemplo, un archivo de libro de estrategia completo.</block>
  <block id="c6def9892d45d8f594a1141d759cff35" category="section-title">Instale las colecciones Ansible de NetApp</block>
  <block id="f996e211f2d82b62da74abbaa175d7bc" category="paragraph">Se mantiene la colección BeeGFS para Ansible y todas las dependencias <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block>. En su nodo de control de Ansible, ejecute el siguiente comando para instalar la versión más reciente:</block>
  <block id="9a603171be277ec1f9319dc83b272723" category="paragraph">Aunque normalmente no se recomienda, también es posible instalar una versión específica de la colección:</block>
  <block id="cb5da77fc5fc3c2fdb8aeff46789a9ca" category="section-title">Ejecute el libro de aplicaciones</block>
  <block id="440d2c1c46f7c70d35f630781d07e912" category="paragraph">Desde el directorio del nodo de control de Ansible que contiene el<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> y..<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> ejecute el libro de estrategia de la siguiente forma:</block>
  <block id="b7a14d8dfd866e91a40ba8804324679a" category="paragraph">Según el tamaño del clúster, la puesta en marcha inicial puede tardar más de 20 minutos. Si se produce un error en la puesta en marcha por algún motivo, solo tiene que corregir los problemas (p. ej., un cableado incorrecto, nodo no se inició, etc.) y reiniciar el libro de estrategia de Ansible.</block>
  <block id="508ccac845ca75d6cdda20dfa455a2bd" category="inline-link-macro">configuración común de nodos de archivos</block>
  <block id="2c96dc448de9d0218bb361afae4689c8" category="inline-link-macro">Función de cliente de BeeGFS</block>
  <block id="bdc9f2542f62454c22369d7525b55e74" category="paragraph">Al especificar <block ref="24f8b4d23bbf0a3339e16ecc2414c31b" category="inline-link-macro-rx"></block>, Si elige la opción predeterminada para que Ansible administre automáticamente la autenticación basada en la conexión, un<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> usado como secreto compartido ahora se puede encontrar en<block ref="8e9df790452dc085676f10b7754aa94b" prefix=" " category="inline-code"></block> (de forma predeterminada). Cualquier cliente que necesite acceder al sistema de archivos tendrá que utilizar este secreto compartido. Esto se controla automáticamente si los clientes se configuran mediante el <block ref="a21671c2fbc0de7b779bee85584513db" category="inline-link-macro-rx"></block>.</block>
  <block id="40df644de3579bec4038eafb77eb26fe" category="summary">Opcionalmente, Ansible se puede usar para configurar los clientes de BeeGFS y montar el sistema de archivos.</block>
  <block id="107dafc3c3dfc88c15a7700fd40a35dc" category="doc">Implemente clientes BeeGFS</block>
  <block id="fc9048a17c6ddc968465bcc02c0ea486" category="inline-link-macro">Rol de Ansible</block>
  <block id="dcce328dbfa187984479bbc5ace17bf2" category="paragraph">Para acceder a los sistemas de archivos BeeGFS es necesario instalar y configurar el cliente BeeGFS en cada nodo que necesite montar el sistema de archivos. En esta sección se documenta cómo realizar estas tareas mediante el útil disponible <block ref="0ceebef54e9df7cedfb22dd6dcf5ed37" category="inline-link-macro-rx"></block>.</block>
  <block id="2106244b87f596d4fefd89f77dae13da" category="section-title">Cree el archivo de inventario de cliente</block>
  <block id="f4bf34ee26e45437b7b34ee3858d3f39" category="list-text">Si es necesario, configure SSH sin contraseñas desde el nodo de control de Ansible a cada uno de los hosts que desea configurar como clientes BeeGFS:</block>
  <block id="7dc2ac40c1549980b4ac09d940856f47" category="list-text">Inferior<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Cree un archivo para cada cliente BeeGFS denominado<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> con el siguiente contenido, rellene el texto del marcador de posición con la información correcta para su entorno:</block>
  <block id="689b0940ce8c21b1ecd3dafd9cc19d56" category="list-text">Incluya de manera opcional uno de los siguientes elementos si desea utilizar los roles de recogida de hosts E-Series de NetApp para configurar las interfaces InfiniBand o Ethernet para que los clientes se conecten a los nodos de archivos BeeGFS:</block>
  <block id="13252baac98263adb995638740670156" category="inline-link-macro">InfiniBand (uso de IPoIB)</block>
  <block id="4ec9f0d4c55bed99ab83189074c79fda" category="list-text">Si el tipo de red es <block ref="ce64f086b1422863947177e8ac3c3f3f" category="inline-link-macro-rx"></block>:</block>
  <block id="703a1e1ae0933c0197e1615ce5751d82" category="inline-link-macro">RDMA sobre Ethernet convergente (roce)</block>
  <block id="e8f5d6c59a43e4d1004ee930d690ba27" category="list-text">Si el tipo de red es <block ref="513b838786f4a360fbbf4a58f2a48329" category="inline-link-macro-rx"></block>:</block>
  <block id="1e6c082cb30ec9603b75d0e43e10ed58" category="inline-link-macro">Ethernet (solo TCP, sin RDMA)</block>
  <block id="022fdafc43fcb01f91b57ea09f74ecea" category="list-text">Si el tipo de red es <block ref="0d1150d6d50cb438873f5f691ec395a3" category="inline-link-macro-rx"></block>:</block>
  <block id="825f3be2c17c36c0e4901143db982773" category="list-text">Cree un archivo nuevo<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> Y especifique el usuario que Ansible debe usar para conectarse a cada cliente y la contraseña que Ansible debe usar para el escalado de privilegios (esto requiere<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> sea raíz o tenga privilegios sudo):</block>
  <block id="c3ee5ddf91e65773d3e9d27f9e627350" category="inline-link-macro">Documentación de Ansible</block>
  <block id="c5a4ae1aa23001e8780b413f175b50b3" category="admonition">No almacene contraseñas en texto sin formato. En su lugar, utilice Ansible Vault (consulte <block ref="f2e33a881c3eb75b68333af99119c0b8" category="inline-link-macro-rx"></block> Para cifrar contenido con Ansible Vault) o usar el<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> al ejecutar el libro de estrategia.</block>
  <block id="848f64fc57104cb2b416f6102d34e699" category="list-text">En la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> File, enumera todos los hosts que deben configurarse como clientes BeeGFS en<block ref="fc2e11772a55c48ed2b4ec7bc5d94664" prefix=" " category="inline-code"></block> Agrupe y, a continuación, consulte los comentarios en línea y elimine los comentarios de cualquier configuración adicional necesaria para crear el módulo de kernel de cliente BeeGFS en su sistema:</block>
  <block id="42d868a1eb5776ce2eb9b95938bcc056" category="inline-link-macro">Compatibilidad con RDMA</block>
  <block id="743c079a390bacd58f1ec66c241c688e" category="admonition">Cuando utilice los controladores Mellanox OFED, asegúrese de que beegfs_client_ofed_include_path apunta al "header include path" correcto para su instalación de Linux. Para obtener más información, consulte la documentación de BeeGFS para <block ref="a36a0245ff208157cbdf93cd51fc1311" category="inline-link-macro-rx"></block>.</block>
  <block id="c378775497a55638adcb42719d8daddb" category="list-text">En la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> Archivo, enumere los sistemas de archivos BeeGFS que desea montar en cualquiera de los definidos previamente<block ref="b63119da730344b345cdc8f62a4711e9" prefix=" " category="inline-code"></block>:</block>
  <block id="69e81fdce48c1bfa30329304eaa6d50d" category="inline-link-macro">autenticación de conexión</block>
  <block id="eeaa045faacfe7ac3ff3c860c9ddb470" category="list-text">A partir de BeeGFS 7.2.7 y 7.3.1 <block ref="770c4b58b3b364c4ac52cf5cc555453f" category="inline-link-macro-rx"></block> se debe configurar o deshabilitar explícitamente. Dependiendo de cómo elija configurar la autenticación basada en la conexión al especificar <block ref="24f8b4d23bbf0a3339e16ecc2414c31b" category="inline-link-macro-rx"></block>, es posible que tenga que ajustar la configuración del cliente:</block>
  <block id="a7d7def0ef1d6627e10199d423565e7e" category="list-text">De forma predeterminada, la puesta en marcha del clúster de alta disponibilidad configurará automáticamente la autenticación de conexiones y generará un<block ref="cd304377fdc20285a5aa94e55ae85aa7" prefix=" " category="inline-code"></block> Que se colocará/mantendrá en el nodo de control de Ansible en<block ref="eee2923df30539b680421ca53d7c066b" prefix=" " category="inline-code"></block>. De forma predeterminada, la función de cliente BeeGFS está configurada para leer/distribuir este archivo a los clientes definidos en<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block>, y no se necesita ninguna acción adicional.</block>
  <block id="cb7223c9ecb20da5826418267937cb4b" category="list-text">Para obtener información sobre las opciones avanzadas, consulte la lista completa de valores predeterminados que se incluyen con la <block ref="1507a901cf67edf9930d46c852b1993d" category="inline-link-macro-rx"></block>.</block>
  <block id="f4c29fbb6bcbcc6c55ae76c0a5254687" category="list-text">Si decide especificar un secreto personalizado con<block ref="8b76cf2fb65e09dad03ca686be5cd464" prefix=" " category="inline-code"></block> especifique en la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> también archivo:</block>
  <block id="2f01d79351dcc30d05b4a5a46dee42df" category="list-text">Si decide deshabilitar la autenticación basada en conexión completamente con<block ref="6c8dd8672ca377e74101ad236282225a" prefix=" " category="inline-code"></block>, especifique que en la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> también archivo:</block>
  <block id="4debabcfd87e8aaf710a4ef0b5fc0fbc" category="inline-link-macro">Documentación completa del cliente de BeeGFS</block>
  <block id="be564dd8130b7faafb95d140037162bb" category="paragraph">Para obtener una lista completa de los parámetros admitidos y detalles adicionales, consulte la <block ref="28ce7a1eece2b507c973d3cca2a82121" category="inline-link-macro-rx"></block>. Para ver un ejemplo completo de un inventario de cliente, haga clic en <block ref="b0d51f66522ad4d9697fdf435a95c97a" category="inline-link-macro-rx"></block>.</block>
  <block id="da7e04a55b40629ae3a62baa9635b36d" category="section-title">Cree el archivo del libro de aplicaciones del cliente BeeGFS</block>
  <block id="964a26fa475bbef370601a9a9fb613cb" category="list-text">Cree un archivo nuevo<block ref="34bd6e27c43e6508a64d0a1bf093c7d2" prefix=" " category="inline-code"></block></block>
  <block id="ac25f4ce0e4e52459d58c2db4ebda280" category="list-text">Opcional: Si desea utilizar los roles de la recogida de hosts de E-Series de NetApp para configurar interfaces para que los clientes se conecten a sistemas de archivos BeeGFS, importe el rol correspondiente al tipo de interfaz que está configurando:</block>
  <block id="9f7ee0cead06efb0babbaca7b021e3ed" category="list-text">Si utiliza InfiniBand (IPoIB):</block>
  <block id="54b431528476178eb45a6c2570eff415" category="list-text">Si utiliza RDMA over Converged Ethernet (roce):</block>
  <block id="ea7cb942473ffddb52c2661da2f3b951" category="list-text">Si utiliza Ethernet (solo TCP, no RDMA):</block>
  <block id="975fc05779caaf583c3a8ab6b5c5adf1" category="list-text">Por último, importe la función de cliente de BeeGFS para instalar el software cliente y configurar los montajes del sistema de archivos:</block>
  <block id="02870b17064b23fcbf2e080b9624fd6d" category="paragraph">Para ver un ejemplo completo de un libro de aplicaciones del cliente, haga clic en <block ref="dee50bfc7f141fd7ad52d525c94ac7f5" category="inline-link-macro-rx"></block>.</block>
  <block id="354895762186e608f5675b1498c26501" category="section-title">Ejecute el libro de aplicaciones del cliente BeeGFS</block>
  <block id="831a82eacd2203b1049bc6c01826fbef" category="paragraph">Para instalar/crear el cliente y montar BeeGFS, ejecute el siguiente comando:</block>
  <block id="0d4f2647b7895adb046a3392c35f6828" category="summary">Pasos necesarios para instalar y cablear el hardware utilizado para ejecutar BeeGFS en NetApp.</block>
  <block id="7cb1df0e9acb4e346f49d40865ebd99f" category="doc">Instale y conecte el cableado de la tornillería</block>
  <block id="d0dde32750edec525fffdeacdfe54a80" category="section-title">Planifique la instalación</block>
  <block id="694daa4aca75c61a285846a5ec0b4b0c" category="paragraph">Cada sistema de archivos BeeGFS consistirá en un número determinado de nodos de archivo en los que se ejecutan servicios BeeGFS mediante el almacenamiento de fondo proporcionado por un número determinado de nodos de bloque. Los nodos de archivos están configurados en uno o varios clústeres de alta disponibilidad para proporcionar tolerancia a fallos en los servicios BeeGFS. Cada nodo de bloque ya es un par de alta disponibilidad activo-activo. El número mínimo de nodos de archivo admitidos en cada clúster de alta disponibilidad es de tres y el número máximo de nodos de archivo admitidos en cada clúster es de diez. Los sistemas de archivos BeeGFS pueden escalar más allá de diez nodos mediante la puesta en marcha de varios clústeres de alta disponibilidad independientes que funcionan en conjunto para proporcionar un espacio de nombres único del sistema de archivos.</block>
  <block id="bb4d2a6e482d18af607ee0f07c23d049" category="paragraph">Normalmente, cada clúster de alta disponibilidad se implementa como una serie de «elementos básicos» donde hay algún número de nodos de archivo (servidores x86) conectados directamente a un cierto número de nodos de bloques (normalmente sistemas de almacenamiento E-Series). Esta configuración crea un clúster asimétrico, en el que los servicios BeeGFS sólo pueden ejecutarse en determinados nodos de archivo que tienen acceso al almacenamiento de bloques de fondo utilizado para los destinos BeeGFS. El equilibrio de los nodos de archivo a bloque en cada elemento básico y el protocolo de almacenamiento que se utiliza para las conexiones directas dependen de los requisitos de una instalación concreta.</block>
  <block id="f1fafc095d6233cf2f9c8d299f6427bb" category="paragraph">Una arquitectura de cluster de alta disponibilidad alternativa utiliza una estructura de almacenamiento (también conocida como red de área de almacenamiento o SAN) entre los nodos de archivo y de bloque para establecer un cluster simétrico. Esto permite que los servicios de BeeGFS se ejecuten en cualquier nodo de archivo en un clúster de alta disponibilidad en particular. Como los clústeres simétricos en general no son tan rentables debido al hardware SAN adicional, esta documentación presupone el uso de un clúster asimétrico desplegado como una serie de uno o más bloques de construcción.</block>
  <block id="edda5f6836a1cf72ee14894e512b7707" category="admonition">Asegúrese de que la arquitectura del sistema de archivos deseada para un despliegue de BeeGFS en particular está bien comprendida antes de continuar con la instalación.</block>
  <block id="767202c8efedcb9c8edf20f9fce9818d" category="section-title">Hardware en rack</block>
  <block id="14511f2f5564650d129ca7cabc333278" category="inline-link-macro">bloque</block>
  <block id="d5e81e99079cfbb27d893365b01c6733" category="paragraph">Al planificar la instalación, es importante que todo el equipo de cada bloque de construcción esté montado en rack adyacente. La práctica recomendada es que los nodos de archivo estén montados en rack inmediatamente encima de los nodos de bloque en cada bloque básico. Siga la documentación de los modelos de archivo y. <block ref="3876eb55ee0ffaac1627ebbb7ea8fad8" category="inline-link-macro-rx"></block> los nodos que usa mientras instala rieles y hardware en el rack.</block>
  <block id="39979c4d8cb83fc0443baa4ff7f48f07" category="paragraph">Ejemplo de un solo elemento básico:</block>
  <block id="53536705172b0f4e5a21ed9d9fc90a82" category="inline-image-macro">ejemplo de bloque de construcción</block>
  <block id="ca5a698e3f013f50588c49da25109e06" category="paragraph"><block ref="ca5a698e3f013f50588c49da25109e06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98ac29120ce31a8b9f17cc6bcad239b1" category="paragraph">Ejemplo de una instalación de BeeGFS de gran tamaño en la que hay varios elementos básicos en cada clúster de alta disponibilidad y varios clústeres de alta disponibilidad en el sistema de archivos:</block>
  <block id="4ffad59982a5f378d3b3c700a5c67ab0" category="inline-image-macro">Ejemplo de implementación de BeeGFS</block>
  <block id="10f70f19704206d8c2cee1fae42f7dea" category="paragraph"><block ref="10f70f19704206d8c2cee1fae42f7dea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bdc136e73217b9254f82f3e521e32772" category="section-title">Nodos de archivos de cable y bloques</block>
  <block id="f6f19d063d8a1cc74be9ed77236d08df" category="inline-link-macro">Basado en BeeGFS de segunda generación en la arquitectura verificada de NetApp</block>
  <block id="db4f6b855be71292c9b3189eb2262efb" category="paragraph">Normalmente, se conectan directamente los puertos HIC de los nodos de bloque de E-Series al adaptador de canal de host designado (para protocolos InfiniBand) o al adaptador de bus de host (para el canal de fibra y otros protocolos) de los nodos de archivo. La forma exacta de establecer estas conexiones dependerá de la arquitectura del sistema de archivos deseada, aquí se muestra un ejemplo <block ref="8f90ef59daa0d8291cb239d8abcbaf5e" category="inline-link-macro-rx"></block>:</block>
  <block id="7abaa17b7cccf26fc7842558cbe75332" category="inline-image-macro">Ejemplo de archivo BeeGFS para bloquear el cableado de nodos</block>
  <block id="d396a30c828f1c32943bda80a19c5f6e" category="paragraph"><block ref="d396a30c828f1c32943bda80a19c5f6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40bc85e53495ab0b176af4ef17ea6072" category="section-title">Conecte los nodos de archivo a la red de cliente</block>
  <block id="1899ae951504892f3420f88e3162b84d" category="paragraph">Cada nodo de archivo tendrá un número de puertos InfiniBand o Ethernet designados para el tráfico del cliente BeeGFS. Dependiendo de la arquitectura que tenga cada nodo de archivo tendrá una o varias conexiones a una red cliente/almacenamiento de alto rendimiento, potencialmente a varios switches para obtener redundancia y un mayor ancho de banda. A continuación se muestra un ejemplo de cableado de cliente mediante switches de red redundantes, donde los puertos resaltados en verde oscuro frente al verde claro se conectan a switches separados:</block>
  <block id="fc65aa085b4e51500efefd3612c95154" category="inline-image-macro">Ejemplo de cableado de cliente BeeGFS</block>
  <block id="971ecb443b0122884394e2d0f475486a" category="paragraph"><block ref="971ecb443b0122884394e2d0f475486a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="90a31af51bc017a18f8f032fa49cf901" category="section-title">Conecte la red y la alimentación de la administración</block>
  <block id="b213f1ea719142ad3112dd64e712e06a" category="paragraph">Establezca las conexiones de red necesarias para la red dentro y fuera de banda.</block>
  <block id="2f967ed85c3e532e8aee39997f97a27c" category="paragraph">Conecte todas las fuentes de alimentación asegurándose de que cada nodo de archivo y bloque tenga conexiones a varias unidades de distribución de alimentación para obtener redundancia (si está disponible).</block>
  <block id="90791b7e8bfac5f0631992c1a7269f5e" category="summary">Configure un nodo de control de Ansible para poner en marcha y gestionar el sistema de archivos.</block>
  <block id="9cdd817721bc924d0da9d43995b6cf7d" category="doc">Configure el nodo de control de Ansible</block>
  <block id="31996051b4f5b99834fd90885ae099c1" category="paragraph">Un nodo de control de Ansible es una máquina física o virtual Linux que se usa para gestionar el clúster. Debe cumplir los siguientes requisitos:</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">requisitos</block>
  <block id="f9f0cf5dce62e750681c867304153570" category="list-text">Conozca la <block ref="2ce06b74e1489f63ffccf27e38243dd4" category="inline-link-macro-rx"></block> Para la función de alta disponibilidad de BeeGFS, incluidas las versiones instaladas de Ansible, Python y cualquier paquete adicional de Python.</block>
  <block id="13f2a3097f055e043d74b20940df2658" category="inline-link-macro">Requisitos del nodo de control de Ansible</block>
  <block id="5f4740da5b8ab13112ebf332f879cc6e" category="list-text">Conozca al funcionario <block ref="37e11d19f014e84f10fff4770a09b235" category="inline-link-macro-rx"></block> incluye las versiones del sistema operativo.</block>
  <block id="2bce5080fcc3d6b8a54a49745dd28d52" category="list-text">Tienen acceso SSH y HTTPS a todos los nodos de archivos y bloques.</block>
  <block id="63115803566871887df2b7864b03edba" category="paragraph">Encontrará los pasos detallados para la instalación <block ref="84ce541b3fd5c60f6335f3a2ccb7ca82" category="inline-link-macro-rx"></block>.</block>
  <block id="9635e0061cd355a35e70799e909727af" category="summary">Pasos manuales necesarios para configurar nodos de archivos y bloques antes de ejecutar Ansible.</block>
  <block id="f5878e619c266b2ac6254dd1e4d95bfb" category="doc">Configure los nodos de archivos y bloques</block>
  <block id="5515295c9721b17faa0365ab7a888791" category="section-title">Nodos de archivos</block>
  <block id="d3f9f418681aaa08eb617366f4e167e0" category="section-title">Configurar el controlador de administración de la placa base (BMC)</block>
  <block id="d387b972fad59cf81f9a534bd8f6c654" category="paragraph">Un controlador de administración en placa base (BMC), conocido a veces como procesador de servicios, es el nombre genérico para la capacidad de administración fuera de banda integrada en varias plataformas de servidor que pueden proporcionar acceso remoto aunque el sistema operativo no esté instalado o sea accesible. Los proveedores suelen comercializar esta funcionalidad con su propia Marca. Por ejemplo, en el Lenovo SR665, el BMC se conoce como controlador XClaridad Lenovo (XCC).</block>
  <block id="9f9fca437c1db2135d8b5e17bdc36ff6" category="paragraph">Siga la documentación del proveedor del servidor para habilitar las licencias necesarias para acceder a esta funcionalidad y asegurarse de que el BMC está conectado a la red y configurado de forma adecuada para el acceso remoto.</block>
  <block id="d4519b3f996eace0908217fda1966da8" category="admonition">Si desea utilizar la cercado basada en BMC con Redfish, asegúrese de que Redfish esté activado y de que se pueda acceder a la interfaz BMC desde el sistema operativo instalado en el nodo de archivo. Es posible que se requiera una configuración especial en el conmutador de red si el BMC y el sistema operativo comparten la misma interfaz de red física.</block>
  <block id="f9fa015b01242f44a7319213f0a01ff2" category="section-title">Ajuste la configuración del sistema</block>
  <block id="93f3e5d94e30643aac7f8755a6dcfeb4" category="inline-link-macro">modelos de nodos de archivos verificados</block>
  <block id="eb1a924be6e65601b1d6529fe8917db5" category="paragraph">Utilizando la interfaz de configuración del sistema (BIOS/UEFI), asegúrese de que los ajustes se han establecido para maximizar el rendimiento. La configuración exacta y los valores óptimos variarán en función del modelo de servidor que se esté utilizando. Se proporciona orientación <block ref="7b8ecd3bdebb7b3647e8c8482129e950" category="inline-link-macro-rx"></block>, de lo contrario, consulte la documentación del proveedor del servidor y las mejores prácticas basadas en su modelo.</block>
  <block id="b9a7b8c50025e62b9e91f9baf3ba2304" category="section-title">Instale un sistema operativo</block>
  <block id="9c116e10343ac4205ebd3cb830c40df8" category="paragraph">Instale un sistema operativo compatible según los requisitos del nodo de archivo enumerados <block ref="e53a200e1bdbb9fa297205d4a1608879" category="inline-link-macro-rx"></block>. Consulte los pasos adicionales que se indican a continuación según su distribución de Linux.</block>
  <block id="a82007c47b25723539a00ff94e8b3d27" category="section-title">Red Hat</block>
  <block id="0123fb5bcbcd68deb7c43ec913e70705" category="inline-link">Cómo registrar y suscribirse a un sistema RHEL</block>
  <block id="29f7e22c9a0b8d15ea802eee7a5e07cf" category="inline-link">Cómo limitar las actualizaciones</block>
  <block id="5ab261ccc77c613b4430d72688133ef7" category="paragraph">Utilice RedHat Subscription Manager para registrar y suscribirse al sistema para permitir la instalación de los paquetes necesarios desde los repositorios oficiales de Red Hat y para limitar las actualizaciones a la versión compatible de Red Hat:<block ref="77a4421cc9f01b777ceaeda595865c3c" prefix=" " category="inline-code"></block>. Para ver instrucciones, consulte<block ref="2e2e1be81972e19947d90393d5319b6e" category="inline-link-rx"></block> y.. <block ref="bbd834e2960f33a50fb102fd4d31a6d9" category="inline-link-rx"></block>.</block>
  <block id="9a7877d2d6f43233661b52c31362cb32" category="paragraph">Active el repositorio de Red Hat que contiene los paquetes necesarios para la alta disponibilidad:</block>
  <block id="5ea84babe2cd259121a70aff2652769b" category="section-title">Configure la red de gestión</block>
  <block id="45f7cb03ff15b64d9405b68be6bdcc97" category="paragraph">Configure las interfaces de red necesarias para permitir la administración en banda del sistema operativo. Los pasos exactos dependerán de la distribución y versión específicas de Linux que se esté utilizando.</block>
  <block id="6c2e3de482271e18e34375218bcbbfcd" category="admonition">Compruebe que SSH esté habilitado y que todas las interfaces de gestión sean accesibles desde el nodo de control de Ansible.</block>
  <block id="ab2b3440ca9e61bb50d98cdd593fea31" category="section-title">Actualice el firmware de HCA y HBA</block>
  <block id="bc8be72fdc9d6054f356bb2b7f80fd12" category="inline-link-macro">Matriz de interoperabilidad de NetApp</block>
  <block id="6f1e172b7de497aa7887fcbcb7ee6023" category="paragraph">Comprobar que todos los HBA y HCA estén ejecutando versiones de firmware compatibles mostradas en la <block ref="8b59326e9a63a3b8d68c843e238b964b" category="inline-link-macro-rx"></block> y actualícelo si es necesario. También se pueden encontrar recomendaciones adicionales para los adaptadores NVIDIA ConnectX <block ref="e53a200e1bdbb9fa297205d4a1608879" category="inline-link-macro-rx"></block>.</block>
  <block id="48206a73aaea76911a94b52a97986f4a" category="section-title">Nodos de bloques</block>
  <block id="76752be68c87426437dc7d4a501b481c" category="inline-link-macro">Póngase en marcha con E-Series</block>
  <block id="871d3d62a8d11ed96c7c911ca5961c83" category="paragraph">Siga los pasos a. <block ref="4525dc880e156901740411dc7fd56b26" category="inline-link-macro-rx"></block> para configurar el puerto de gestión en cada controladora del nodo de bloque y, opcionalmente, establezca el nombre de la cabina de almacenamiento para cada sistema.</block>
  <block id="20c7fe47a0acb373f79e663a36dd1e25" category="admonition">No será necesario realizar ninguna configuración adicional más allá de garantizar que todos los nodos de bloques sean accesibles desde el nodo de control de Ansible. La configuración del sistema restante se aplicará/mantendrá con Ansible.</block>
  <block id="c25698c0b0a8b21ec89a22a39d05b4e4" category="summary">Especifique la configuración de los nodos de bloque individuales con variables de host (host_var).</block>
  <block id="007670379f88b0b437948cd7ffd18854" category="doc">Configure nodos de bloques individuales</block>
  <block id="c04b45b2e867c15ec034a753c3caad42" category="paragraph">Esta sección recorre la relleno de un<block ref="e401274046660da23cecf42c63b0dc71" prefix=" " category="inline-code"></block> archivo de cada nodo de bloque del clúster. Estos archivos sólo deben contener una configuración exclusiva de un nodo de bloque determinado. Esto incluye normalmente:</block>
  <block id="718e1c8b260f855e4dfed258432c772c" category="list-text">El nombre del sistema (como se muestra en System Manager).</block>
  <block id="d6535083366c5efbc468368177b26a11" category="list-text">La URL de HTTPS para una de las controladoras (se utiliza para gestionar el sistema mediante su API DE REST).</block>
  <block id="d34a9e5f2aea0e08afe426c3db560f6f" category="list-text">Qué nodos de archivo de protocolo de almacenamiento utilizan para conectarse a este nodo de bloque.</block>
  <block id="ac7d8826ccdecec74ae70f73a19ab9d6" category="list-text">Configurar los puertos de tarjeta de interfaz del host (HIC), como las direcciones IP (si son necesarias).</block>
  <block id="3990d1c8eb99844fa4339dea97a4f692" category="inline-link-macro">Planifique el sistema de archivos</block>
  <block id="46180093758c495f215bf2ac0b7a86d4" category="paragraph">Hacer referencia al esquema de direccionamiento IP definido en <block ref="357e0adc4a9895d7fb0741a56cb66937" category="inline-link-macro-rx"></block> para cada nodo de bloque del clúster, cree un archivo<block ref="9a669560bf11c3e8770f91d615f47c78" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="80eb8027c5428b5220f76ca5617cdbef" category="list-text">En la parte superior, especifique el nombre del sistema y la URL de HTTPS para una de las controladoras:</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="inline-link-macro">protocolo</block>
  <block id="d1ac4a3f6cf15e4c501caf76560363b8" category="list-text">Seleccione la <block ref="42254e7bd4c71b16c1c0d21e675ced23" category="inline-link-macro-rx"></block> los nodos de archivo utilizarán para conectarse a este nodo de bloque:</block>
  <block id="c2e9d327966d74c358df1c68e849c85b" category="list-text">Protocolos compatibles:<block ref="9df22f196a33acd0b372fe502de51211" prefix=" " category="inline-code"></block>,<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>,<block ref="e05fe30750d3ea262a610d17ebc07019" prefix=" " category="inline-code"></block>,<block ref="a8a64cef262a04de4872b68b63ab7cd8" prefix=" " category="inline-code"></block>,<block ref="7aee267b2c70d17165e6fa56dc01795a" prefix=" " category="inline-code"></block>,<block ref="11104f7e32c1e7884522b538834ffd9a" prefix=" " category="inline-code"></block>,<block ref="0ab2fb14820281e536188e7478368635" prefix=" " category="inline-code"></block>,<block ref="99e6ba7d601220dd39e915ce4c6ff74c" prefix=" " category="inline-code"></block>,<block ref="384fddfa43cdca25e66ad1b9a278e6c7" prefix=" " category="inline-code"></block>.</block>
  <block id="0c5c276a533c6231e1004931dde34c40" category="list-text">Según el protocolo en uso, los puertos HIC pueden necesitar una configuración adicional. Si es necesario, se debe definir la configuración de puertos de HIC para que la entrada superior de la configuración de cada controladora se corresponda con el puerto físico más a la izquierda de cada controladora y el puerto inferior al puerto que se encuentra en el extremo derecho. Todos los puertos requieren una configuración válida incluso si no están en uso actualmente.</block>
  <block id="95e06a898133e12b42adf8c80aafb2f7" category="admonition">Consulte también la siguiente sección si utiliza InfiniBand HDR (200 GB) o roce de 200 GB con nodos de bloque EF600.</block>
  <block id="2a6f3123e92916a549d4843b0432ee15" category="list-text">Para iSCSI:</block>
  <block id="b405e253b7123d507b950877cb495779" category="list-text">Para Iser:</block>
  <block id="3becb61841658038a043e3eca2dc705e" category="list-text">Para NVMe/IB:</block>
  <block id="5f42fe6193c58ec9a447a090be2e17b8" category="list-text">Para NVMe/roce:</block>
  <block id="4b9c9e1cc0a87604a342176becdb9d29" category="list-text">Los protocolos FC y SAS no requieren configuración adicional. SRP no se recomienda correctamente.</block>
  <block id="55876228853abf632dec9346a4f372ec" category="inline-link-macro">documentación</block>
  <block id="d487c72028a8f41291fa35df82cfe348" category="paragraph">Para obtener opciones adicionales para configurar los puertos HIC y los protocolos de host, incluida la capacidad de configurar CHAP iSCSI, consulte la <block ref="03b4e8c5a2a4120cb0ea20ad53010d79" category="inline-link-macro-rx"></block> Incluido con la colección SANtricity. Tenga en cuenta que al implementar BeeGFS, el pool de almacenamiento, la configuración de volumen y otros aspectos del aprovisionamiento del almacenamiento se configurarán en otra parte y no se deberán definir en este archivo.</block>
  <block id="ca752ddde33be986f431e89edb589ac1" category="paragraph">Haga clic en <block ref="4b43b7669fad4b5b712c0fa73fdf7e2c" category="inline-link-macro-rx"></block> para obtener un ejemplo de un archivo de inventario completo que representa un solo nodo de bloque.</block>
  <block id="bb3b75abe4dc6581c40f5061474bb17f" category="section-title">Mediante InfiniBand HDR (200 GB) o roce de 200 GB con nodos de bloque de EF600 de NetApp:</block>
  <block id="f8de92059efc82f4fcf167cc78595c49" category="paragraph">Para utilizar InfiniBand HDR (200 GB) con EF600, se debe configurar una segunda IP "virtual" para cada puerto físico. Este es un ejemplo de la forma correcta de configurar una cabina EF600 equipada con la tarjeta InfiniBand HDR de doble puerto:</block>
  <block id="7b56de51b6636ae6d5c0129d3aa799db" category="summary">Especifique la configuración de nodos de archivos comunes mediante variables de grupo (group_var).</block>
  <block id="db3a70a0b14fbd38f2ad1025900202fe" category="paragraph">La configuración que debería Apple para todos los nodos de archivo se define en<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block>. Normalmente incluye:</block>
  <block id="8a78a1a399a517e776a6453f500e5c3c" category="list-text">Información detallada sobre cómo conectarse e iniciar sesión en cada nodo de archivo.</block>
  <block id="d749e2ca3efe2efbf2d8495c53fa6cb8" category="list-text">Configuración de red común.</block>
  <block id="01166eafe622404b58002e5aa76ca528" category="list-text">Si se permiten reinicios automáticos.</block>
  <block id="109b40c80787d84c2b222ada208f2967" category="list-text">Cómo deben configurarse los estados de firewall y selinux.</block>
  <block id="cd29db396a81799f9eb0187ecae937b1" category="list-text">Configuración de clústeres, incluidas las alertas y las cercas.</block>
  <block id="8b4f60df6198db9d4eb1c6bbb19def6d" category="list-text">Ajuste del rendimiento.</block>
  <block id="8ae73df7c749e2eb45a156f0c39fcc04" category="list-text">Configuración de servicio de BeeGFS común.</block>
  <block id="787446c6f7e5e0f4a50705b5035eba79" category="admonition">Las opciones establecidas en este archivo también pueden definirse en nodos de archivos individuales; por ejemplo, si se están usando modelos de hardware mixtos o tiene contraseñas diferentes para cada nodo. La configuración en nodos de archivo individuales tendrá prioridad sobre la configuración de este archivo.</block>
  <block id="0971602076ba9dff100f7cfc2d9e6059" category="paragraph">Cree el archivo<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="84531cf8a820148a6599e174baf94979" category="list-text">Indique cómo debe autenticarse el nodo de Ansible Control con los hosts remotos:</block>
  <block id="ec6e88f08b026e04d1ce5f5f31493b21" category="inline-link-macro">Cifrado de contenido con Ansible Vault</block>
  <block id="2d33afd54604fb6475c44a1bc47fe2b1" category="admonition">Especialmente en entornos de producción, no almacene contraseñas en texto sin formato. En su lugar, use Ansible Vault (consulte <block ref="37147a1e5d41497ae56472e8a2868a2a" category="inline-link-macro-rx"></block>) o el<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> al ejecutar el libro de estrategia. Si la<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> es ya el usuario raíz. puede omitir de forma opcional el<block ref="424240cd4e5c359372b7f199431603d5" prefix=" " category="inline-code"></block>.</block>
  <block id="0a94da3169c04bc12f2c561654269433" category="list-text">Si está configurando IP estáticas en interfaces ethernet o InfiniBand (por ejemplo, IP de clúster) y varias interfaces se encuentran en la misma subred IP (por ejemplo, si ib0 está usando 192.168.1.10/24 e ib1 está usando 192.168.1.11/24), Para que el soporte multihost funcione correctamente, se deben configurar reglas y tablas de enrutamiento IP adicionales. Sólo tiene que activar el enlace de configuración de la interfaz de red proporcionado de la siguiente forma:</block>
  <block id="502d35f94d5c17779c9050bbed75f65f" category="list-text">Al poner en marcha el clúster, según el protocolo de almacenamiento, puede que sean necesarios el reinicio de los nodos para facilitar la detección de dispositivos de bloques remotos (volúmenes de E-Series) o aplicar otros aspectos de la configuración. De forma predeterminada, los nodos se preguntará antes de reiniciar, pero puede permitir que los nodos se reinicien automáticamente especificando lo siguiente:</block>
  <block id="ff31dc05d095d346c18f3e8f2d758fe0" category="list-text">De forma predeterminada, después de un reinicio, para asegurarse de que los dispositivos de bloque y otros servicios estén listos, Ansible esperará hasta el sistema<block ref="dbd7cb25a43d1cd2bbc3bac871dad694" prefix=" " category="inline-code"></block> se alcanza antes de continuar con la implementación. En algunos casos, cuando se utiliza NVMe/IB, es posible que este no sea el tiempo suficiente para inicializar, detectar y conectarse a dispositivos remotos. Esto puede provocar que la implementación automatizada continúe prematuramente y falle. Para evitar esto cuando se usa NVMe/IB, también se debe definir lo siguiente:</block>
  <block id="c41782825542f82199bd141519f37211" category="list-text">Para comunicarse con los servicios de clúster de BeeGFS y ha se necesitan varios puertos de firewall. A menos que desee configurar manualmente el firmwwall (no se recomienda), especifique lo siguiente para crear zonas de firewall necesarias y abrir puertos automáticamente:</block>
  <block id="2514951e199c5ba1bae751dec2faccfa" category="list-text">En este momento, SELinux no es compatible y se recomienda que el estado se configure como desactivado para evitar conflictos (especialmente cuando RDMA está en uso). Establezca lo siguiente para asegurarse de que SELinux esté desactivado:</block>
  <block id="97a322f05bd6e92c24c84cd8a09de904" category="list-text">Configure la autenticación de modo que los nodos de archivo puedan comunicarse, ajustando los valores predeterminados según sea necesario según las directivas de su organización:</block>
  <block id="7d49ca11d08f7d0ad6093098705db056" category="list-text">Según la <block ref="357e0adc4a9895d7fb0741a56cb66937" category="inline-link-macro-rx"></block> Especifique la IP de administración de BeeGFS para este sistema de archivos:</block>
  <block id="e69d5d030b5267144694edd30e58fa4b" category="admonition">Aunque aparentemente redundante,<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block> Es importante cuando escala el sistema de archivos BeeGFS más allá de un único clúster de alta disponibilidad. Los clústeres de alta disponibilidad posteriores se ponen en marcha sin un servicio de gestión de BeeGFS adicional y se señalan en el servicio de gestión proporcionado por el primer clúster.</block>
  <block id="d6521cd21608c38eda94ff4b2607ebac" category="list-text">Habilite las alertas de correo electrónico si lo desea:</block>
  <block id="369512731d385e76ab6ae5702e43d88e" category="list-text">Se recomienda encarecidamente habilitar la delimitación; de lo contrario, se puede bloquear que los servicios se inicien en nodos secundarios cuando se produzca un error en el nodo principal.</block>
  <block id="679f9b26ee84fb8a265eb6a80d1141b0" category="list-text">Active la delimitación de forma global especificando lo siguiente:</block>
  <block id="2b86513417433b960c2a9628820cce70" category="inline-link-macro">propiedad del clúster</block>
  <block id="a4a918a45181164207929d52aec36aec" category="inline-link-macro">valores predeterminados</block>
  <block id="bcc67e5cda8ee1e21250342139467d00" category="list-text">Nota: Cualquier soporte <block ref="1f696c148c590f4530f1598592f9a4b4" category="inline-link-macro-rx"></block> también se puede especificar aquí si es necesario. Normalmente no es necesario ajustar estos ajustes, ya que el rol de ha de BeeGFS se incluye con una serie de pruebas bien probadas <block ref="d630d35a07d393b0d4bb83a7523d1703" category="inline-link-macro-rx"></block>.</block>
  <block id="8cb3e998c7b1e4cbe36289f2177363b5" category="list-text">A continuación, seleccione y configure un agente de cercado:</block>
  <block id="bc6b3ed04c45895c341d99b6765c1caa" category="list-text">OPCIÓN 1: Para habilitar la cercado mediante unidades de distribución de energía (PDU) APC:</block>
  <block id="94ebb967d1a890978b9758e3f2aac3bb" category="list-text">OPCIÓN 2: Para habilitar la esgrima mediante las API Redfish proporcionadas por Lenovo XCC (y otros BMCs):</block>
  <block id="7f2e85da597afbbb84c30c58c72fc4a2" category="inline-link-macro">Documentación de redhat</block>
  <block id="18c5e5e72191184c4e18d312bc7fafef" category="list-text">Para obtener más información sobre la configuración de otros agentes de cercado, consulte <block ref="611005f72b088bb8cef495741d6f0861" category="inline-link-macro-rx"></block>.</block>
  <block id="3a6d72343adc910bbcf2be9191e40f88" category="list-text">El rol de ha de BeeGFS puede aplicar muchos parámetros de ajuste diferentes para ayudar a optimizar aún más el rendimiento. Entre ellos se incluyen la optimización de la utilización de la memoria del núcleo y la E/S del dispositivo en bloque, entre otros parámetros. La función se entrega con un conjunto razonable de <block ref="d9492c5c01c77d55ea71bf758fca3c1e" category="inline-link-macro-rx"></block> En función de la prueba con nodos de bloques E-Series de NetApp, pero de forma predeterminada, no se aplican a menos que se especifique:</block>
  <block id="1242eea64a7ebfd7464359e597a4ec62" category="inline-link-macro">parámetros de ajuste del rendimiento</block>
  <block id="dbfad90b96c293c6b7b2b93be168cfd5" category="list-text">Si es necesario, también especifique aquí cualquier cambio en el ajuste del rendimiento predeterminado. Vea el completo <block ref="66aaf5e6618940d3ade7aede35016480" category="inline-link-macro-rx"></block> para obtener detalles adicionales.</block>
  <block id="e535abe8b416a666cd34177ff6bbe395" category="list-text">Para garantizar que las direcciones IP flotantes (a veces conocidas como interfaces lógicas) utilizadas para los servicios BeeGFS puedan conmutar por error entre nodos de archivos, todas las interfaces de red deben tener un nombre coherente. De forma predeterminada, el kernel genera nombres de interfaz de red, lo cual no garantiza la generación de nombres coherentes, incluso en modelos de servidor idénticos con adaptadores de red instalados en las mismas ranuras PCIe. Esto también es útil cuando se crean inventarios antes de que el equipo se despliegue y se conozcan los nombres de las interfaces generadas. Para garantizar nombres de dispositivos coherentes, basados en un diagrama de bloque del servidor o.<block ref="6efa276570b668a53eaf7bf29c69d544" prefix=" " category="inline-code"></block> Output, especifique la asignación de dirección PCIe a interfaz lógica deseada del siguiente modo:</block>
  <block id="b577b9bc7da15f148c6521018b1c26f7" category="list-text">Para interfaces de red InfiniBand (IPoIB):</block>
  <block id="10b951f140b750e6d3b9a61a2aa51fc1" category="list-text">Para interfaces de red Ethernet:</block>
  <block id="e71729643558be7be36227d3edb537a5" category="admonition">Para evitar conflictos cuando se cambia el nombre de las interfaces (evitando que se le cambie el nombre), no debe utilizar ningún nombre predeterminado potencial como eth0, ens9f0, ib0 o ibs4f0. Una convención de nomenclatura común consiste en usar "e" o "i" para Ethernet o InfiniBand, seguido del número de ranura PCIe y una letra para indicar el puerto. Por ejemplo, el segundo puerto de un adaptador InfiniBand instalado en la ranura 3 sería: I3b.</block>
  <block id="62e75ccd7f725aa6905f33580950953f" category="admonition">Si va a utilizar un modelo de nodo de archivos verificado, haga clic en <block ref="3d76a23cff20eb55b7795ee99a64cc43" category="inline-link-macro-rx"></block> Asignaciones de puerto lógico a dirección PCIe de ejemplo.</block>
  <block id="49d63ad68018ca272cf3bfe9a0843371" category="list-text">Opcionalmente, especifique la configuración que debe aplicarse a todos los servicios de BeeGFS del clúster. Se pueden encontrar los valores de configuración predeterminados <block ref="a57cc720fc0e96a52cf3201e2484ee55" category="inline-link-macro-rx"></block>, y la configuración por servicio se especifica en otra parte:</block>
  <block id="1644ff30bfdd323dac0e52e1620614b2" category="list-text">Servicio de gestión de BeeGFS:</block>
  <block id="c9c23b537bdcdcf7e82ad149d3e28ab1" category="list-text">Servicios de metadatos BeeGFS:</block>
  <block id="b292484ec320b2afcb3a63fdbff30bd3" category="list-text">Servicios de almacenamiento de BeeGFS:</block>
  <block id="d636cd57abce18fc564705e1931029aa" category="list-text">A partir de BeeGFS 7.2.7 y 7.3.1 <block ref="770c4b58b3b364c4ac52cf5cc555453f" category="inline-link-macro-rx"></block> se debe configurar o deshabilitar explícitamente. Hay algunas formas de configurar esto con la puesta en marcha basada en Ansible:</block>
  <block id="2beb66fd9b0c065cfc742ee53ee1055d" category="list-text">De forma predeterminada, la implementación configurará automáticamente la autenticación de conexión y generará un<block ref="cd304377fdc20285a5aa94e55ae85aa7" prefix=" " category="inline-code"></block> Se distribuirá a todos los nodos de archivos y se utilizará con los servicios BeeGFS. Este archivo también se colocará/mantendrá en el nodo de control Ansible en<block ref="eee2923df30539b680421ca53d7c066b" prefix=" " category="inline-code"></block> donde se debe mantener (de forma segura) para reutilizarlo con clientes que necesiten acceder a este sistema de archivos.</block>
  <block id="a6eacd255bbcfb7c0ed5589f3f4b3b80" category="list-text">Para generar una nueva clave, especifique<block ref="34efb4240137e7a93d7ad83bde309514" prefix=" " category="inline-code"></block> Al ejecutar el libro de estrategia de Ansible. Nota esto se ignora si un<block ref="8b76cf2fb65e09dad03ca686be5cd464" prefix=" " category="inline-code"></block> está definido.</block>
  <block id="4d93b986f0992f2770f494a3ced4bd11" category="inline-link-macro">Rol de BeeGFS ha</block>
  <block id="ce622ce5379468ed5a0a2f78bbabe2ab" category="list-text">Para obtener información sobre las opciones avanzadas, consulte la lista completa de valores predeterminados que se incluyen con la <block ref="ef9c73fbbdc1b0f81755fa896cdced03" category="inline-link-macro-rx"></block>.</block>
  <block id="ca03fa9d55c2bc9aa4bb21f10949f48a" category="list-text">Se puede utilizar un secreto personalizado definiendo lo siguiente en<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block>:</block>
  <block id="00d80f50123e52756def9093de1ba2aa" category="list-text">La autenticación de conexión se puede deshabilitar completamente (NO se recomienda):</block>
  <block id="b8a5eb74062e4ce8ebe0914712be3ae2" category="paragraph">Haga clic en <block ref="632283d8f4d8d92337070d81c0b8ed5f" category="inline-link-macro-rx"></block> para obtener un ejemplo de un archivo de inventario completo que representa la configuración común de nodos de archivos.</block>
  <block id="74acf7796c51f1f58661f8cf66f5b969" category="section-title">Usar InfiniBand HDR (200 GB) con nodos de bloque de EF600 de NetApp:</block>
  <block id="9e152ebb462ebe95f96d2711a934ec01" category="paragraph">Para utilizar InfiniBand HDR (200 GB) con EF600, el administrador de subredes debe admitir la virtualización. Si los nodos de archivos y bloques se conectan mediante un switch, deberá habilitarse en el administrador de subredes de la estructura general.</block>
  <block id="11f007a0a372dd0901653de91029d3d8" category="inline-link-macro">configurar las interfaces de almacenamiento del nodo de archivo</block>
  <block id="7d8267855776cbf28fdb280b86e18730" category="paragraph">Si los nodos de bloque y archivo se conectan directamente mediante InfiniBand, una instancia de<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> debe configurarse en cada nodo de archivo para cada interfaz conectada directamente a un nodo de bloque. Esto se realiza especificando<block ref="a983fd54df8f83bdfdc5756fe288aa56" prefix=" " category="inline-code"></block> cuando <block ref="b7aaae639ec3dcbad23b6be7de000276" category="inline-link-macro-rx"></block>.</block>
  <block id="458626752c0cbe26a6b491b0f013e5e6" category="paragraph">Actualmente, la versión de la bandeja de entrada de<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> El suministro con distribuciones de Linux compatibles no admite la virtualización. En su lugar, es necesario instalar y configurar la versión de<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> De Mellanox OpenFabrics Enterprise Distribution (OFED). A pesar de que todavía se admite la puesta en marcha con Ansible, se requieren algunos pasos adicionales:</block>
  <block id="b13b4c123d075f5df5e6f618489fde5f" category="inline-link-macro">requisitos tecnológicos</block>
  <block id="42bc30626d8bda33040bd0a59cebee54" category="list-text">Con curl o la herramienta que desee, descargue los paquetes para la versión de OpenSM que se indica en el <block ref="ae114c21b1e7dc7681f7c73b9450ef94" category="inline-link-macro-rx"></block> Sección del sitio web de Mellanox al<block ref="4d67f7bc650c0237a4f14903bb4e32de" prefix=" " category="inline-code"></block> directorio. Por ejemplo:</block>
  <block id="df1f716d0a26eb697eb7605722643850" category="list-text">Inferior<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> defina la siguiente configuración:</block>
  <block id="03a96e493f11c9bdee76520257a1462d" category="summary">Especifique la configuración de los nodos de archivos individuales con variables de host (host_var).</block>
  <block id="021fa309ed559d86433974a82c934acb" category="doc">Configurar nodos de archivos individuales</block>
  <block id="882d9f125986842da2dd0a55dab49692" category="paragraph">Esta sección recorre la relleno de un<block ref="6ec1b7d2e07359817e585e3cab8e078f" prefix=" " category="inline-code"></block> archivo para cada nodo de archivo del clúster. Estos archivos sólo deben contener una configuración exclusiva de un nodo de archivo concreto. Esto incluye normalmente:</block>
  <block id="3a67b6422642abadfa758fc6684f8438" category="list-text">Definición de la IP o el nombre de host que Ansible debe usar para conectarse al nodo.</block>
  <block id="fc0fd95b8cee27585e1c24e4d4a97663" category="list-text">Configurar interfaces adicionales e IP de clúster utilizadas para los servicios de clúster de alta disponibilidad (Pacemaker y Corosync) para comunicarse con otros nodos de archivo. De forma predeterminada, estos servicios utilizan la misma red que la interfaz de gestión, pero deberían estar disponibles interfaces adicionales para la redundancia. La práctica común es definir IP adicionales en la red de almacenamiento, lo que evita la necesidad de un clúster o una red de gestión adicionales.</block>
  <block id="d3bb2cb10c3de19eafb23408d3a400a6" category="list-text">El rendimiento de cualquier red utilizada para la comunicación del clúster no es crítico en cuanto al rendimiento del sistema de archivos. Con la configuración predeterminada del clúster, por lo general una red de al menos 1 Gbps ofrecerá un rendimiento suficiente para las operaciones del clúster, como la sincronización de los estados de nodo y la coordinación de los cambios de estado de los recursos del clúster. Las redes lentas/ocupadas pueden hacer que los cambios en el estado de los recursos tarden más de lo habitual y, en casos extremos, podrían resultar en que los nodos se expulsen del clúster si no pueden enviar latidos en un período de tiempo razonable.</block>
  <block id="a557d06b3a2f8ed98f967366125754a4" category="list-text">Configurar las interfaces utilizadas para conectarse a los nodos de bloques sobre el protocolo deseado (por ejemplo, iSCSI/Iser, NVMe/IB, NVMe/roce, FCP, etc.)</block>
  <block id="346674dbd97098838f5327dc1e5c9c18" category="paragraph">Hacer referencia al esquema de direccionamiento IP definido en <block ref="9b15c2b73cdd7b8794597878cdbf2b1c" category="inline-link-macro-rx"></block> para cada nodo de archivo del clúster, cree un archivo<block ref="29c5616b1b8c32726b3152860a451439" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="625cd1f9698fddb4256f18db4fbe2c9f" category="list-text">En la parte superior, especifique la IP o el nombre de host que Ansible debe usar a SSH del nodo y gestiónelo:</block>
  <block id="2c411df90af25473ca34f96c5d61fdbd" category="list-text">Configure las IP adicionales que se puedan usar para el tráfico del clúster:</block>
  <block id="caec0146669daf8b955fbc692dce520b" category="list-text">Indique qué IP se deben utilizar para el tráfico del clúster con las IP preferidas más alta:</block>
  <block id="8ab316490a957aa5fb5fe572defa9604" category="admonition">Los IPS configurados en el paso dos no se utilizarán como IP de clúster a menos que estén incluidos en el<block ref="736da50e459ba4f3c37629db79164765" prefix=" " category="inline-code"></block> lista. Esto le permite configurar IP/interfaces adicionales con Ansible que pueden utilizarse para otros fines si así lo desea.</block>
  <block id="fe608507c9e692b58aed73b8f11125e4" category="list-text">Si el nodo de archivo tiene que comunicarse con los nodos de bloque a través de un protocolo basado en IP, se deberán configurar las IP en la interfaz adecuada y con todos los paquetes necesarios para instalar y configurar ese protocolo.</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="inline-link-macro">ISCSI</block>
  <block id="e38ebb7478bbd7c30fcefbdd68c36a12" category="list-text">Si se utiliza <block ref="c46eb98747333d3b3d4803c99165252d" category="inline-link-macro-rx"></block>:</block>
  <block id="04363472361fdfa664dfcfdfa289d7f8" category="inline-link-macro">Iser</block>
  <block id="25d076d8b955ae9a10c335a6a41c5dac" category="list-text">Si se utiliza <block ref="fa0a3baed35abd76cdb7d05d37537402" category="inline-link-macro-rx"></block>:</block>
  <block id="10c103240eb7689c62b54e419902d174" category="inline-link-macro">NVMe/IB</block>
  <block id="17e6fab71004356520b6a05746233689" category="list-text">Si se utiliza <block ref="cb33aa2303f4543f0ddc6cc084dc11e2" category="inline-link-macro-rx"></block>:</block>
  <block id="bb0b9e255a3bf215a4f994ef912a5fd7" category="inline-link-macro">NVMe/roce</block>
  <block id="7b049824318ebce7d5761f9928468034" category="list-text">Si se utiliza <block ref="dcd6a35349a26dd7f2ff0413151122c4" category="inline-link-macro-rx"></block>:</block>
  <block id="7de7f0266a638e2b92287e19c3daa0c0" category="list-text">Otros protocolos:</block>
  <block id="26bcb9f1cb6f391f4b2c18e676bb458d" category="inline-link-macro">NVMe/FC</block>
  <block id="22c518d1512a40bae5f92e178ec69be7" category="list-text">Si se utiliza <block ref="20d003b59b6b0f29fbb82550734ddf9c" category="inline-link-macro-rx"></block>, no es necesario configurar interfaces individuales. La implementación del clúster BeeGFS detectará automáticamente los requisitos de protocolo e instalará/configurará según sea necesario. Si utiliza una estructura para conectar nodos de archivos y bloques, asegúrese de que los switches se dividen correctamente siguiendo las prácticas recomendadas de NetApp y del proveedor del switch.</block>
  <block id="cfaa375bf6c7f9fcc1bc04d4f30c9154" category="inline-link-macro">NetApp</block>
  <block id="59153461462a6c82d6207480cde38687" category="list-text">El uso de FCP o SAS no requiere la instalación ni la configuración de software adicional. Si utiliza FCP, asegúrese de que los switches se dividen correctamente a continuación <block ref="6839ca80f3cddcad48af8ac7c3fe1eba" category="inline-link-macro-rx"></block> y las prácticas recomendadas de su proveedor del switch.</block>
  <block id="31887cc493f03e51b901bf0def837d66" category="list-text">No se recomienda el uso de SRP IB en este momento. Utilice NVMe/IB o Iser en función de lo que admita su nodo de bloque E-Series.</block>
  <block id="02613a7c8b7a72805b5196cbf7ed0def" category="paragraph">Haga clic en <block ref="6ff86e054594e10fe2118d48eb3fbd14" category="inline-link-macro-rx"></block> para obtener un ejemplo de un archivo de inventario completo que representa un solo nodo de archivo.</block>
  <block id="310ccb00662c7e9dcc32789c0d9b1b7a" category="section-title">Avanzado: Alternar los adaptadores VPI NVIDIA ConnectX entre Ethernet y modo InfiniBand</block>
  <block id="dcc92cf452bd744849cd00433f6a6065" category="inline-link-macro">Herramientas Mellanox Firmare (MFT)</block>
  <block id="ed6cbc43ac185fea723a14d38091893c" category="paragraph">Los adaptadores NVIDIA ConnectX-Virtual Protocol Interconnect&amp;reg; (VPI) admiten InfiniBand y Ethernet como capa de transporte. El cambio entre modos no se negocia automáticamente y se debe configurar mediante el<block ref="366fe119442ebda85ac564541700d0b5" prefix=" " category="inline-code"></block> herramienta incluida en<block ref="a55706c70f646ff289a7f6fb8ddc1353" prefix=" " category="inline-code"></block>, un paquete de código abierto que forma parte de <block ref="c5b5fd4585af953450ea07aa852104bf" category="inline-link-macro-rx"></block>. El cambio del modo de los adaptadores solo debe realizarse una vez. Esto se puede realizar manualmente o incluso en el inventario de Ansible como parte de las interfaces configuradas con el<block ref="d6ca1855b29b160948694322764a86cb" prefix=" " category="inline-code"></block> sección del inventario, para que se compruebe/aplique automáticamente.</block>
  <block id="2b4c9bc157bda4a68fe7b673b411f9cd" category="paragraph">Por ejemplo, para cambiar una interfaz actual en modo InfiniBand a Ethernet, se puede utilizar para roce:</block>
  <block id="f352db79870cb8a06a0551761aba6955" category="list-text">Especifique para cada interfaz que desee configurar<block ref="366fe119442ebda85ac564541700d0b5" prefix=" " category="inline-code"></block> como una asignación (o diccionario) que especifica<block ref="ced82128b540acaf7a5a55ad007dc9fc" prefix=" " category="inline-code"></block> donde<block ref="ecb5fc74e9cd1f249d43a2bdbf2f239d" prefix=" " category="inline-code"></block> Viene determinado por el número de puerto de HCA de la interfaz. La<block ref="ecb5fc74e9cd1f249d43a2bdbf2f239d" prefix=" " category="inline-code"></block> el valor se puede determinar ejecutando<block ref="2ea620f2a9b9bed90c46047fef7e151b" prefix=" " category="inline-code"></block> Y agregando 1 al último número desde el nombre de la ranura PCI y convirtiendo a decimal.</block>
  <block id="070b28e93cab063481c989d1404f9835" category="list-text">Por ejemplo dado<block ref="92c00058a177a7a840386578304e1345" prefix=" " category="inline-code"></block> (2 + 1 -&gt; puerto HCA 3) -&gt;<block ref="f5e96e67a1ff914902859c7140e258c6" prefix=" " category="inline-code"></block>:</block>
  <block id="5656da44562ac70934e97182890aa356" category="inline-link-macro">Documentación de la colección de hosts E-Series de NetApp</block>
  <block id="62a3f60b673661ad66352505cb4f5f47" category="paragraph">Para obtener información adicional, consulte <block ref="9ec6c7f8da9119d3e119ae207cfbe732" category="inline-link-macro-rx"></block> para el tipo/protocolo de interfaz que utiliza.</block>
  <block id="2636cdb2e4c8c163e637fb4b1be7ef57" category="summary">Especifique la configuración de nodos de bloque común con las variables de grupo (group_var).</block>
  <block id="42379f3693325579ec45c17436f3fa30" category="doc">Especifique la configuración de nodo de bloque común</block>
  <block id="f3b82d936104a57a294cfa3abe47b556" category="paragraph">La configuración que debería Apple a todos los nodos de bloque se define en<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block>. Normalmente incluye:</block>
  <block id="8265488ffd9c98f3bf95687c608f6db9" category="list-text">Detalles sobre cómo el nodo de control Ansible debe conectarse a los sistemas de almacenamiento E-Series que se utilizan como nodos de bloques.</block>
  <block id="e6a6b0e56e4888732076684459908257" category="list-text">Las versiones de firmware, NVSRAM y de unidad que deben ejecutar los nodos.</block>
  <block id="432cd2d056edf811cddfd42fe9367df2" category="list-text">Configuración global, que incluye la configuración de caché, la configuración de hosts y la configuración de cómo deben aprovisionarse los volúmenes.</block>
  <block id="b34cde4ef9da9f08725d6c62977d706a" category="admonition">Las opciones establecidas en este archivo también pueden definirse en nodos de bloques individuales; por ejemplo, si se están utilizando modelos de hardware mixtos o tiene contraseñas diferentes para cada nodo. La configuración en nodos de bloque individuales tendrá prioridad sobre la configuración de este archivo.</block>
  <block id="6afa815954c372aee339049211ead69a" category="paragraph">Cree el archivo<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="35604a35256cdb2079414a606f693bc3" category="list-text">Ansible no utiliza SSH para conectarse a los nodos de bloques y, en su lugar, utiliza API DE REST. Para lograrlo, debemos establecer:</block>
  <block id="c4cb5f6ece988910c4cb1a90025fb6fd" category="list-text">Especifique el nombre de usuario y la contraseña para gestionar cada nodo. El nombre de usuario puede omitirse opcionalmente (y, de forma predeterminada, admin), si no es posible especificar cualquier cuenta con privilegios de administrador. Especifique también si los certificados SSL deben verificarse o ignorarse:</block>
  <block id="4b47eaf1cc2e42fd7841edf5ee136cf9" category="admonition">No se recomienda enumerar las contraseñas en texto sin formato. Use el almacén de Ansible o proporcione el<block ref="b59049923d63016545b743560345fa56" prefix=" " category="inline-code"></block> Al ejecutar Ansible con distribuidores de valor añadido de --extra.</block>
  <block id="7a48384bf61ccc1cd67f79e20b2946b0" category="list-text">Opcionalmente, especifique qué firmware de la controladora, NVSRAM y firmware de la unidad se debe instalar en los nodos. Deberá descargarse en el<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> directorio antes de ejecutar Ansible. El firmware de la controladora E-Series y NVSRAM se pueden descargar <block ref="66d434b6c80c5839cd158404e9040bf6" category="inline-link-macro-rx"></block> y el firmware de la unidad <block ref="289e1473afcefdacfca9006e22cec3f7" category="inline-link-macro-rx"></block>:</block>
  <block id="9f068c46b4a825d808c2c9767e358bf4" category="admonition">Si se especifica esta configuración, Ansible actualizará automáticamente todo el firmware, incluido el reinicio de las controladoras (si es necesario) sin ningún aviso adicional. Se espera que esto no sea disruptivo para la I/o del host de BeeGFS, pero podría provocar un descenso temporal del rendimiento.</block>
  <block id="e34a3cd38452267edb183f6fec7d3128" category="list-text">Ajuste los valores predeterminados de configuración global del sistema. BeeGFS en NetApp suele recomendar las opciones y valores que se incluyen en esta lista, pero se pueden ajustar en caso necesario:</block>
  <block id="959afa15d8283f663da6fb31c0931335" category="list-text">Configure las opciones predeterminadas de aprovisionamiento de volúmenes globales. BeeGFS en NetApp suele recomendar las opciones y valores que se incluyen en esta lista, pero se pueden ajustar en caso necesario:</block>
  <block id="36aa3776a01484babb7b935f0790e38d" category="list-text">Si es necesario, ajuste el orden en el que Ansible seleccionará las unidades para los pools de almacenamiento y los grupos de volúmenes, teniendo en cuenta las siguientes prácticas recomendadas:</block>
  <block id="9ddcb68f677516aceffc3293429a25e8" category="list-text">Enumere cualquier unidad (potencialmente menor) que se deben usar para los volúmenes de metadatos o gestión primero, y los volúmenes de almacenamiento en último lugar.</block>
  <block id="6857ed48db753853948c52afd2297877" category="list-text">Asegúrese de equilibrar el orden de selección de las unidades en los canales de unidad disponibles según los modelos de bandeja de discos/compartimento de unidades. Por ejemplo, con EF600 y sin expansiones, las unidades 0-11 están en el canal de unidades 1 y las unidades 12-23 están en el canal de unidades. Por lo tanto, una estrategia para equilibrar la selección de conducción es seleccionar<block ref="22527cd74d7cc7f48375817974dc1712" prefix=" " category="inline-code"></block> 99:0, 99:23, 99:1, 99:22, etc. En el caso de que haya más de un compartimento, el primer dígito representa el ID de bandeja de unidades.</block>
  <block id="1f28da07b9b1480e254e0e0fe280f3a2" category="paragraph">Haga clic en <block ref="85c5b5287ec04e7c836b5655b59fd26c" category="inline-link-macro-rx"></block> para obtener un ejemplo de un archivo de inventario completo que representa la configuración común de nodos de bloques.</block>
  <block id="234c05131256028f5ab7ea9b87261ff3" category="summary">El inventario de Ansible es un conjunto de archivos de configuración que definen el clúster de alta disponibilidad de BeeGFS deseado.</block>
  <block id="e520383c76f5e72226ebb572b987380c" category="doc">Descripción general del inventario de Ansible</block>
  <block id="7a1eabc3deb7fd02ceb1e16eafc41073" category="inline-link-macro">inventario</block>
  <block id="283c77f47e33325beac16dfcff1fbdc4" category="inline-link-macro">subdirectorios/archivos</block>
  <block id="3a6e55a49a2cdf7c86076b810d565fc2" category="paragraph">Se recomienda seguir las prácticas de Ansible estándar para organizar el <block ref="6c37acba8ff27fe32f3259d928e2df83" category="inline-link-macro-rx"></block>, incluido el uso de <block ref="0b746a370389b97701184b02d91b44b0" category="inline-link-macro-rx"></block> en lugar de almacenar todo el inventario en un archivo.</block>
  <block id="21c8e198e85188d23c3e8ec1332bc84c" category="paragraph">El inventario de Ansible para un único clúster de alta disponibilidad de BeeGFS está organizado de la siguiente forma:</block>
  <block id="d79b9038c2ea4a7f408423c177fcd3c2" category="paragraph"><block ref="d79b9038c2ea4a7f408423c177fcd3c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8c57469570cfaa1ea4910df225230163" category="admonition">Dado que un único sistema de archivos BeeGFS puede abarcar varios clústeres de alta disponibilidad, es posible que las instalaciones de gran tamaño tengan varios inventarios de Ansible. Por lo general, no se recomienda intentar definir varios clústeres de alta disponibilidad como un único inventario de Ansible para evitar problemas.</block>
  <block id="1b1ad4049313d49cd09961eea7b62a6f" category="list-text">En el nodo de control de Ansible, cree un directorio vacío que contendrá el inventario de Ansible para el clúster de BeeGFS que desea implementar.</block>
  <block id="697c53131c77d1cf7ff864d4f02aca2d" category="list-text">Si su sistema de archivos contendrá en algún momento varios clústeres de alta disponibilidad, se recomienda crear primero un directorio para el sistema de archivos y, a continuación, subdirectorios para el inventario que represente cada clúster de alta disponibilidad. Por ejemplo:</block>
  <block id="aa4b0754e84122851b5c983186feaa49" category="list-text">En el directorio que contiene el inventario del clúster de alta disponibilidad que desea implementar, cree dos directorios<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> y..<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> y dos archivos<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> y..<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block>.</block>
  <block id="20034aab6a0bc59dc9804ff9d5960982" category="paragraph">En las siguientes secciones se describe la definición del contenido de cada uno de estos archivos.</block>
  <block id="cd3a8919c565c37be6e50322a583eac4" category="summary">Planifique la puesta en marcha del sistema de archivos antes de crear el inventario de Ansible.</block>
  <block id="6ec9184bd478b3b836d1c92fa51f1baa" category="paragraph">Antes de implementar el sistema de archivos, debe definir qué direcciones IP, puertos y otra configuración serán necesarias para todos los nodos de archivos, nodos de bloques y servicios BeeGFS que se ejecuten en el clúster. Aunque la configuración exacta variará en función de la arquitectura del clúster, esta sección define las prácticas recomendadas y los pasos a seguir que son aplicables.</block>
  <block id="229ad1ff2fa862e1fa317520fe78ad42" category="list-text">Si utiliza un protocolo de almacenamiento basado en IP (como Iser, iSCSI, NVMe/IB o NVMe/roce) para conectar nodos de archivos a nodos de bloques, rellene la siguiente hoja de datos para cada elemento básico. Cada conexión directa en un único bloque de creación debería tener una subred única y no debería haber superposición con subredes utilizadas para la conectividad cliente-servidor.</block>
  <block id="b55e37e80a68661366be8c4377b13489" category="cell">Nodo de archivo</block>
  <block id="90c8d508b315842cddaf605e8e068d6f" category="cell">Puerto IB</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="cell">Dirección IP</block>
  <block id="d7f9ab96aecba4fb98ecf8831eb0a462" category="cell">Nodo de bloques</block>
  <block id="b9549a36d11b47e2d2f9389f6363ff8e" category="cell">IP física</block>
  <block id="0611f793ccd40e910f3d7f82c1bb6d66" category="cell">Virtual IP (solo para EF600 con HDR IB)</block>
  <block id="6d68d27a364d17c3c6b36281d161a34e" category="cell">&lt;HOSTNAME&gt;</block>
  <block id="2feb1f8d58fa960c8d2635cb910ad7ec" category="cell">&lt;PORT&gt;</block>
  <block id="a87d961719c43a8065ad6f09b292f547" category="cell">&lt;IP/SUBNET&gt;</block>
  <block id="5d52f332806d779c548497e97b6050ed" category="admonition">Si los nodos de archivo y bloque de cada bloque de creación están conectados directamente, a menudo puede reutilizar las mismas IP/esquema para varios bloques de creación.</block>
  <block id="0eca8abaad32a83698b54d0fcea93ad3" category="list-text">Independientemente de si utiliza InfiniBand o RDMA sobre Ethernet convergente (roce) para la red de almacenamiento, rellene la siguiente hoja de datos para determinar los rangos de IP que se usarán para los servicios de clúster de alta disponibilidad, los servicios de archivos BeeGFS y los clientes para comunicarse:</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">Específico</block>
  <block id="8433249cf732856c8ef7700f591da923" category="cell">Puerto InfiniBand</block>
  <block id="5c43713485260d7759e7710e65d5b181" category="cell">Dirección IP o rango</block>
  <block id="0c2bd0118b2766abe77c40b1bd393b44" category="cell">IP(s) de clúster de BeeGFS</block>
  <block id="c4aa072ba75aa28cd14308257fee1a08" category="cell">&lt;INTERFACE(s)&gt;</block>
  <block id="65b5aefed3041b5dccc318ffe87431b7" category="cell">&lt;RANGE&gt;</block>
  <block id="ae709a18a45df821c97f171d87abda05" category="cell">Gestión de BeeGFS</block>
  <block id="1ec0a19ea7a783b022b53265dd90c383" category="cell">&lt;IP(s)&gt;</block>
  <block id="c7725fe17ccf0fe6dfa72467bca22d07" category="cell">Metadatos de BeeGFS</block>
  <block id="d01488abddf6343d229f4a687a740a9d" category="cell">Almacenamiento de BeeGFS</block>
  <block id="7b0215ed75674e2bc6f9d23b5db3a59a" category="cell">Clientes BeeGFS</block>
  <block id="0353e2599d6ca03a78f42855abe0a6f4" category="list-text">Si utiliza una sola subred IP, solo será necesaria una hoja de datos; de lo contrario, rellene también una hoja de cálculo para la segunda subred.</block>
  <block id="c19e3d6f1cb2b9ed96d0553ef0363080" category="list-text">En función de lo anterior, para cada bloque de creación del clúster, rellene la siguiente hoja de trabajo que define qué servicios de BeeGFS se ejecutará. Para cada servicio, especifique los nodos de archivo preferidos/secundarios, el puerto de red, las IP flotantes, la asignación de zonas NUMA (si es necesario) y qué nodos de bloque se usarán para sus destinos. Consulte las siguientes directrices al rellenar la hoja de trabajo:</block>
  <block id="501d4d9b0f3910c0d30a4a828247f2b0" category="list-text">Especifique los servicios BeeGFS como cualquiera de los dos<block ref="5670713387ceeca6a99ea4c5d6381de9" prefix=" " category="inline-code"></block>,<block ref="adc521b987f8d17684929a7814fb39a6" prefix=" " category="inline-code"></block>, o.<block ref="13e9e938499f52dc5dd76a5f625aef19" prefix=" " category="inline-code"></block> Donde ID representa un número único en todos los servicios BeeGFS de ese tipo en este sistema de archivos. Esta convención simplificará la referencia a esta hoja de trabajo en secciones posteriores mientras crea archivos para configurar cada servicio.</block>
  <block id="d5164729d98e85db7b7cb0282c74163d" category="list-text">Los puertos para los servicios BeeGFS sólo deben ser únicos en un bloque de construcción en particular. Asegúrese de que los servicios con el mismo número de puerto no pueden ejecutarse nunca en el mismo nodo de archivo para evitar conflictos de puertos.</block>
  <block id="8a18a5a52ba3b55c805c94f8ac3889c9" category="list-text">Si los servicios necesarios pueden utilizar volúmenes de más de un nodo de bloque o un pool de almacenamiento (y no todos los volúmenes deben ser propiedad de la misma controladora). Múltiples servicios también pueden compartir la misma configuración de nodo de bloque o pool de almacenamiento (se definirán los volúmenes individuales en una sección posterior).</block>
  <block id="80a7df0cf1674016cc4cc2588c911429" category="cell">Servicio BeeGFS (nombre de archivo)</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Puerto</block>
  <block id="b1cddc6c78e92a26b8976dc97327d412" category="cell">IP flotantes</block>
  <block id="72159601fc6c3d952cc9825d610ddd68" category="cell">Zona NUMA</block>
  <block id="40cf615dcacf5ec5faf6a3cdf1ff5a6e" category="cell">Del banco de almacenamiento</block>
  <block id="cdd25d91a2d0aca59a80f91cfe9af9de" category="cell">Controladora propietaria</block>
  <block id="7428caa4314139d517357edc7bd85e13" category="cell">&lt;SERVICE TYPE&gt;_&lt;ID&gt;.yml</block>
  <block id="05dbd6a9ac1e738536c568b9c76b6d9f" category="cell">&lt;PREFERRED FILE NODE&gt; &lt;SECONDARY FILE NODE(s)&gt;</block>
  <block id="ce434f7769160d97da3ed0d746a4d983" category="cell">&lt;INTERFACE&gt;:&lt;IP/SUBNET&gt; &lt;INTERFACE&gt;:&lt;IP/SUBNET&gt;</block>
  <block id="0f9b262f92ad6ba4a547abbe4c98c80b" category="cell">&lt;NUMA NODE/ZONE&gt;</block>
  <block id="9746b3183301bae601d6d3e7479f01f9" category="cell">&lt;BLOCK NODE&gt;</block>
  <block id="b95d182f851d32de39590b07917d6dc2" category="cell">&lt;STORAGE POOL/VOLUME GROUP&gt;</block>
  <block id="fe1341a187350b5203bdf2c08baa2ac8" category="cell">&lt;A OR B&gt;</block>
  <block id="78ff65afbf92a15cd30dea91aefc1e9b" category="inline-link-macro">mejores prácticas</block>
  <block id="b7121c47f4a8776d685a934610733179" category="inline-link-macro">Defina los bloques de creación de BeeGFS</block>
  <block id="08c2f9ff46580776f9142eb9c3d6b0e0" category="paragraph">Para obtener más información sobre las convenciones estándar, las mejores prácticas y las hojas de trabajo de ejemplo rellenadas, consulte la <block ref="6c990eb84b6c73f7ec3bccc8ae7c61c0" category="inline-link-macro-rx"></block> y.. <block ref="64afa0eccccf9220480b7ad5801765a6" category="inline-link-macro-rx"></block> Secciones de BeeGFS en Arquitectura verificada de NetApp.</block>
  <block id="9df40d55a663f7c179e328bf937587fe" category="summary">Los servicios BeeGFS se configuran mediante variables de grupo (Group_var).</block>
  <block id="973cf6ca298b6ecfb5f2f3290ca4cd2f" category="doc">Defina el servicio de gestión de BeeGFS</block>
  <block id="a461b810f49c26d9dc6d92a1e3a344bc" category="paragraph">En esta sección se describe la definición del servicio de gestión de BeeGFS. En los clústeres de alta disponibilidad solo debe haber un servicio de este tipo para un sistema de archivos concreto. La configuración de este servicio incluye la definición:</block>
  <block id="a9da9d90de8c8b13991c884b03f76658" category="list-text">El tipo de servicio (gestión).</block>
  <block id="164d597920f7afac5bd1bc14b783ff41" category="list-text">Definir cualquier configuración que sólo se debe aplicar a este servicio BeeGFS.</block>
  <block id="9e4755a30f0ec19b232cf1ce068ab8d4" category="list-text">Configuración de una o varias IP flotantes (interfaces lógicas) en las que se puede acceder a este servicio.</block>
  <block id="b966cc65076783762d4b37aff48e5a1f" category="list-text">Especificar dónde y cómo debe almacenar un volumen datos para este servicio (el objetivo de gestión de BeeGFS).</block>
  <block id="88f6eb5599f1011262d2e828fed66c41" category="paragraph">Cree un archivo nuevo<block ref="096c36ebf1ab8bf90e099d6808eb57d0" prefix=" " category="inline-code"></block> y haciendo referencia a la <block ref="357e0adc4a9895d7fb0741a56cb66937" category="inline-link-macro-rx"></block> sección rellenarla de la siguiente forma:</block>
  <block id="66969fa0d9af9f38ebaa31ea1c4b7051" category="list-text">Indique que este archivo representa la configuración de un servicio de administración de BeeGFS:</block>
  <block id="968fc19eb9be6283a0d5f79c8536f855" category="list-text">Defina cualquier configuración que se deba aplicar sólo a este servicio BeeGFS. Esto no suele ser necesario para el servicio de gestión a menos que necesite habilitar cuotas, sin embargo, con cualquier parámetro de configuración admitido de<block ref="025b9ec9690bfeefef6aedbac6e66c87" prefix=" " category="inline-code"></block> se puede incluir. Nota los siguientes parámetros se configuran automáticamente u otros lugares y no se deben especificar aquí:<block ref="02a09b36e77ebbfe1d499e597daef0d5" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, y.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="71529044e633eb2a4b25c87eb3ea0358" category="list-text">Configure uno o varios IP flotantes que utilizarán otros servicios y clientes para conectarse a este servicio (esto establecerá automáticamente BeeGFS<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block> opción):</block>
  <block id="db6bbb0bcb13fc624704b26d5d879534" category="list-text">Opcionalmente, especifique una o varias subredes IP permitidas que se pueden utilizar para la comunicación saliente (esto establecerá automáticamente BeeGFS<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block> opción):</block>
  <block id="8e19ae7e081dee60d1c86f207028684b" category="list-text">Especifique el objetivo de gestión de BeeGFS en el que este servicio almacenará datos de acuerdo con las siguientes directrices:</block>
  <block id="e0f52cfdc30da3e272257c8783119a56" category="list-text">Se puede utilizar el mismo nombre de pool de almacenamiento o grupo de volúmenes para varios servicios/objetivos de BeeGFS; asegúrese de utilizar el mismo<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>,<block ref="2d0e37110968341728e47095df64a19c" prefix=" " category="inline-code"></block>,<block ref="48658e2ad8eaaf7daff452601ea618db" prefix=" " category="inline-code"></block>, y.<block ref="e241a8daa5b8e1af3b82b1e1a8ec24a9" prefix=" " category="inline-code"></block> la configuración de cada uno (los volúmenes enumerados para cada servicio deben ser diferentes).</block>
  <block id="94028cf43ef8dc903051e90ad2eec0bb" category="list-text">Los tamaños de los volúmenes se deben especificar como un porcentaje del pool de almacenamiento/grupo de volúmenes y el total no debe ser superior a 100 en todos los servicios/volúmenes que utilizan un pool de almacenamiento/grupo de volúmenes en particular. Nota cuando se usan SSD, se recomienda dejar espacio libre en el grupo de volúmenes para maximizar el rendimiento de SSD y la vida útil (haga clic en <block ref="99b1e1c34bffd297f45567902e8c3aee" category="inline-link-macro-rx"></block> para obtener más detalles).</block>
  <block id="339c4b049c3a7e5cdf355daceda6f43a" category="list-text">Haga clic en <block ref="0a71609ed00bd9652e70cd5b106f9ae3" category="inline-link-macro-rx"></block> para obtener una lista completa de las opciones de configuración disponibles para<block ref="8ca968d07b3817015da8919c700152f5" prefix=" " category="inline-code"></block>. Tenga en cuenta algunas opciones como<block ref="9ed39e2ea931586b6a985a6942ef573e" prefix=" " category="inline-code"></block>,<block ref="67b3dba8bc6778101892eb77249db32e" prefix=" " category="inline-code"></block>,<block ref="99bd6603c88a46584bf9b94ffab3d6c9" prefix=" " category="inline-code"></block>,<block ref="db137bf87e9c1a766b82885236ac8b87" prefix=" " category="inline-code"></block>, y.<block ref="7951c85f8306dda4792beb0e6a356282" prefix=" " category="inline-code"></block> y los nombres de volúmenes se generan automáticamente y no se deben especificar aquí.</block>
  <block id="1511cb861f1160e48d8e9c07e416cd1a" category="paragraph">Haga clic en <block ref="ffb907e2c03168946e1e4d8df77e6e36" category="inline-link-macro-rx"></block> Para obtener un ejemplo de un archivo de inventario completo que representa un servicio de administración de BeeGFS.</block>
  <block id="0badcf73673abd8a3f15cc4e386caafa" category="doc">Defina el servicio de almacenamiento BeeGFS</block>
  <block id="624bf455f36c44a126036391cd39a75c" category="paragraph">En esta sección se describe la definición del servicio de almacenamiento de BeeGFS. Al menos debe haber un servicio de este tipo en los clústeres de alta disponibilidad para un sistema de archivos determinado. La configuración de este servicio incluye la definición:</block>
  <block id="e03fff2a92d72a09b4f9f5d0e895d1fd" category="list-text">El tipo de servicio (almacenamiento).</block>
  <block id="e5e9883649f056a718503df3542a70d4" category="list-text">Especificar dónde/cómo deben ser los volúmenes para almacenar datos para este servicio (los destinos de almacenamiento BeeGFS).</block>
  <block id="cdfd2c4f30392a3ec71bccb64a57b50c" category="paragraph">Haciendo referencia a <block ref="357e0adc4a9895d7fb0741a56cb66937" category="inline-link-macro-rx"></block> cree un archivo en<block ref="a16ac980b359b788a73d8add9202cc6f" prefix=" " category="inline-code"></block> para cada servicio de almacenamiento del clúster y rellene los siguientes pasos:</block>
  <block id="204caa9915a25307074d637daed7faba" category="list-text">Indique este archivo que representa la configuración de un servicio de almacenamiento BeeGFS:</block>
  <block id="d03efed3ebed6860068fb8a5123ef4c6" category="list-text">Defina cualquier configuración que se deba aplicar sólo a este servicio BeeGFS. Al mínimo debe especificar el puerto TCP y UDP deseado, sin embargo, cualquier parámetro de configuración compatible desde<block ref="8a87bdd1964512794d560f1af3699fa1" prefix=" " category="inline-code"></block> también se puede incluir. Nota los siguientes parámetros se configuran automáticamente u otros lugares y no se deben especificar aquí:<block ref="6ea5464abdaaa0243bf0db8481a9a52b" prefix=" " category="inline-code"></block>,<block ref="facec0675a87a8e14bef255e83e40f1e" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, y.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="b0e2ab52d86028182775498a8ba8dcc3" category="list-text">Especifique los objetivos de almacenamiento de BeeGFS en los que este servicio almacenará datos de acuerdo con las siguientes directrices (también configurará automáticamente el<block ref="facec0675a87a8e14bef255e83e40f1e" prefix=" " category="inline-code"></block> opción):</block>
  <block id="b18c6fe32d4f2f076f7c708ea5be89c1" category="paragraph">Haga clic en <block ref="7bc3fba5853c696254cf4264774b5d50" category="inline-link-macro-rx"></block> Para obtener un ejemplo de un archivo de inventario completo que representa un servicio de almacenamiento BeeGFS.</block>
  <block id="29ee3861e1e5ac6fa4281c3c3fddd958" category="doc">Defina el servicio de metadatos BeeGFS</block>
  <block id="60513084f53d0d484c55e212d6a9248e" category="paragraph">En esta sección se describe la definición del servicio de metadatos de BeeGFS. Al menos debe haber un servicio de este tipo en los clústeres de alta disponibilidad para un sistema de archivos determinado. La configuración de este servicio incluye la definición:</block>
  <block id="ef1af77af85196869032232af1a07f87" category="list-text">El tipo de servicio (metadatos).</block>
  <block id="fc266b5cc64e2d259e49bb24b0c186d0" category="list-text">Especificar dónde y cómo debe almacenar un volumen datos para este servicio (el objetivo de metadatos BeeGFS).</block>
  <block id="4494ebe8f3eb1cbaae48657b9f5a6ae3" category="paragraph">Haciendo referencia a <block ref="357e0adc4a9895d7fb0741a56cb66937" category="inline-link-macro-rx"></block> cree un archivo en<block ref="3ffe66d0860049a5a100c385493d4997" prefix=" " category="inline-code"></block> para cada servicio de metadatos del clúster y rellene los siguientes pasos:</block>
  <block id="9cef1e732270bc660ef17d29df58c49c" category="list-text">Indique que este archivo representa la configuración de un servicio de metadatos BeeGFS:</block>
  <block id="d1bbe7b3631d4fdecc7637f7f28f2cd9" category="list-text">Defina cualquier configuración que se deba aplicar sólo a este servicio BeeGFS. Al mínimo debe especificar el puerto TCP y UDP deseado, sin embargo, cualquier parámetro de configuración compatible desde<block ref="672e512128cc9536bcf9f16964b20c49" prefix=" " category="inline-code"></block> también se puede incluir. Nota los siguientes parámetros se configuran automáticamente u otros lugares y no se deben especificar aquí:<block ref="6ea5464abdaaa0243bf0db8481a9a52b" prefix=" " category="inline-code"></block>,<block ref="dbca95678907e2f2bf827d44042c16c5" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, y.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="d3de182528701519a47cbe276590393a" category="list-text">Especifique el destino de metadatos BeeGFS en el que este servicio almacenará datos de acuerdo con las siguientes directrices (también configurará automáticamente el<block ref="dbca95678907e2f2bf827d44042c16c5" prefix=" " category="inline-code"></block> opción):</block>
  <block id="df5fc0ef6e9aaec0f45d18fdd7ee8f12" category="paragraph">Haga clic en <block ref="c59646481b474fffe5bc2a736ab8653d" category="inline-link-macro-rx"></block> Para obtener un ejemplo de un archivo de inventario completo que representa un servicio de metadatos BeeGFS.</block>
  <block id="e20d89701cb46cf38953e6dc25a2dc3d" category="summary">Especifique qué nodos de archivo pueden ejecutar cada servicio BeeGFS mediante el archivo Inventory.yml.</block>
  <block id="02e4c76e0e6e5414c70765451a79b37c" category="doc">Asigne servicios BeeGFS a los nodos de archivo</block>
  <block id="3e99717578ba1478873bc5c3269e4086" category="paragraph">Especifique qué nodos de archivo pueden ejecutar cada servicio BeeGFS mediante<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> archivo.</block>
  <block id="24c07a5a77746e85d21882c88bdd5b03" category="paragraph">En esta sección se explica cómo crear la<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> archivo. Esto incluye una lista de todos los nodos de bloque y especificar qué nodos de archivo pueden ejecutar cada servicio BeeGFS.</block>
  <block id="5ee7bf1a42518812c2b87b463bf96a31" category="paragraph">Cree el archivo<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> y rellenarlo de la siguiente manera:</block>
  <block id="7aec62cda467a76d024911e74e1fec38" category="list-text">Desde la parte superior del archivo, cree la estructura de inventario estándar de Ansible:</block>
  <block id="5923f18af043b9957bf5541e595cc0f5" category="list-text">Cree un grupo que contenga todos los nodos de bloques que participan en este clúster de alta disponibilidad:</block>
  <block id="b084d86d2b539345bcda62aaa5bceb0f" category="list-text">Cree un grupo que contendrá todos los servicios BeeGFS del clúster y los nodos de archivo que los ejecutarán:</block>
  <block id="eec391bff48a7ed3bbf30e3280fbe9e3" category="list-text">Para cada servicio BeeGFS del clúster, defina los nodos de archivos preferidos y secundarios que deben ejecutar ese servicio:</block>
  <block id="e26a68a8ce5809998083f351bf56677e" category="paragraph">Haga clic en <block ref="00544a89e642f3f5a354362c58d52f2e" category="inline-link-macro-rx"></block> para obtener un ejemplo de un archivo de inventario completo.</block>
  <block id="cc211dfb7bfb2c913740671716097933" category="summary">La solución BeeGFS en NetApp combina el sistema de archivos BeeGFS en paralelo con los sistemas de almacenamiento E-Series de NetApp para obtener una infraestructura fiable, escalable y rentable que pueda adaptarse a las cargas de trabajo más exigentes.</block>
  <block id="49274a22f777d8ee156d9a597e66731d" category="doc">Descripción general y requisitos</block>
  <block id="4fde5e2673b7e14764688237d98539a4" category="paragraph">Use cualquier sistema de almacenamiento E/EF-Series de NetApp como nodos de bloque BeeGFS y servidores x86 como nodos de archivos BeeGFS cuando ponga en marcha clústeres de alta disponibilidad BeeGFS con Ansible.</block>
  <block id="a526fbfd670633e8a75f4085dc1aa978" category="admonition">Las definiciones de la terminología utilizada en esta sección se pueden encontrar en la <block ref="9a256c21d0775c8b23b592e82da8914c" category="inline-link-macro-rx"></block> página.</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">Introducción</block>
  <block id="58d7101385af8eaef1dc397806989cbb" category="inline-link-macro">Arquitecturas verificadas de NetApp</block>
  <block id="976f0d8cf9d3940cf8e3b455ac2a745a" category="paragraph">Aunque <block ref="debdb16c2fe7cca1eb7f522c443894ec" category="inline-link-macro-rx"></block> al proporcionar configuraciones de referencia predefinidas y orientación sobre la configuración, algunos clientes y partners pueden preferir diseñar arquitecturas personalizadas que se adapten mejor a requisitos concretos o a preferencias de hardware. Una de las principales ventajas de elegir BeeGFS en NetApp es la capacidad de poner en marcha clústeres de alta disponibilidad de disco compartido BeeGFS mediante Ansible, lo que simplifica la gestión del clúster y mejora la fiabilidad con componentes de alta disponibilidad creados por NetApp. La puesta en marcha de arquitecturas BeeGFS personalizadas en NetApp todavía se realiza con Ansible, lo que mantiene un enfoque similar al de los dispositivos en una gama flexible de hardware.</block>
  <block id="ddda17ba962e180630c243fddd448b5f" category="paragraph">En esta sección, se describen los pasos generales necesarios para poner en marcha sistemas de archivos BeeGFS en hardware de NetApp y el uso de Ansible para configurar los sistemas de archivos BeeGFS. Para obtener más información sobre las mejores prácticas relacionadas con el diseño de sistemas de archivos BeeGFS y ejemplos optimizados, consulte <block ref="debdb16c2fe7cca1eb7f522c443894ec" category="inline-link-macro-rx"></block> sección.</block>
  <block id="6d2bf94f38d1fdf840fe9b231866899c" category="section-title">Visión General de la implementación</block>
  <block id="00298d02a62e3ad710061bdb858bc72b" category="paragraph">Generalmente, la implementación de un sistema de archivos BeeGFS incluye los siguientes pasos:</block>
  <block id="a3f59792a4244ec442fe3d6689ce5a5d" category="list-text">Configuración inicial:</block>
  <block id="bed2a4653b2c422bf2632c104da5c873" category="list-text">Instalar/cablear la tornillería.</block>
  <block id="a2d48c839c25c269a71b232a366cdfbc" category="list-text">Configure los nodos de archivos y bloques.</block>
  <block id="e8ec50ce42367b5c2125ba84ee0b2b07" category="list-text">Configure un nodo de control Ansible.</block>
  <block id="1166a5354ac02035abc5f968f7ed4570" category="list-text">Defina el sistema de archivos BeeGFS como un inventario de Ansible.</block>
  <block id="45a41d17b919852e176b0bef9ba18dde" category="list-text">Ejecute Ansible contra los nodos de archivos y bloques para poner en marcha BeeGFS.</block>
  <block id="b29828241f384dfaa560eb24d45c7035" category="list-text">Opcionalmente para configurar clientes y montar BeeGFS.</block>
  <block id="3b5256e7140e65040f9635a6b8b884ee" category="paragraph">Las siguientes secciones tratarán estos pasos con más detalle.</block>
  <block id="216c2fbf006b3f1ca9acdd60d04a9b4b" category="paragraph">Ansible gestiona todas las tareas de configuración y aprovisionamiento del software, incluidas:</block>
  <block id="fd699aca3f31bc5416fca3a153cc4779" category="list-text">Crear/asignar volúmenes en nodos de bloques.</block>
  <block id="7565e19b34a4d2460620720a599da376" category="list-text">Formateo/ajuste de volúmenes en nodos de archivo.</block>
  <block id="8744d71fb56c3e75f875de0a416ea912" category="list-text">Instalar/configurar software en nodos de archivos.</block>
  <block id="dcc4901f1f1938989ed2264f42fd1104" category="list-text">Establecer el clúster de alta disponibilidad y configurar los recursos de BeeGFS y los servicios del sistema de archivos.</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="section-title">Requisitos</block>
  <block id="077a8397a5f4ba0711faf87b91f8906c" category="paragraph">Ya está disponible el soporte para BeeGFS en Ansible <block ref="e5bec9f043c86b9afcbef28a688a4cdd" category="inline-link-macro-rx"></block> Como un conjunto de funciones y módulos que automatizan la implementación y gestión integral de clústeres de alta disponibilidad de BeeGFS.</block>
  <block id="5207de659c47ed66a8f04540f2cf7d28" category="paragraph">BeeGFS se versión siguiendo un esquema de control de versiones &lt;major&gt;.&lt;minor&gt;.&lt;patch&gt; y la colección mantiene roles para cada versión compatible de &lt;major&gt;.&lt;minor&gt; de BeeGFS, por ejemplo BeeGFS 7.2 o BeeGFS 7.3. A medida que se publican actualizaciones de la colección, la versión de revisión de cada rol se actualizará para señalar la última versión disponible de BeeGFS para esa rama de versión (por ejemplo: 7.2.8). Cada versión de la colección también está probada y compatible con distribuciones y versiones específicas de Linux, actualmente Red Hat para nodos de archivos, y RedHat y Ubuntu para clientes. No se admite la ejecución de otras distribuciones; no se recomienda ejecutar otras versiones (especialmente otras versiones principales).</block>
  <block id="ff58765d6c48f433685b2f9354c057ed" category="section-title">Nodo de control de Ansible</block>
  <block id="267dc210028d3a563bde0eb07ca563a0" category="paragraph">Este nodo contendrá el inventario y los libros de estrategia utilizados para gestionar BeeGFS. Requiere:</block>
  <block id="fa364b2fe46e5e06529d637ca126add1" category="list-text">Ansible 6.x (núcleo de Ansible 2.13)</block>
  <block id="3ac4555ed79bcb16976991998d5a957c" category="list-text">Python 3.6 (o posterior)</block>
  <block id="44ebd117631269d8cc52eda82b890ecc" category="list-text">Paquetes de Python (pip): Ipaddr y netaddr</block>
  <block id="8486bce50d4152772da3c4531a015ab8" category="paragraph">También es recomendable configurar SSH sin contraseñas desde el nodo de control en todos los clientes y nodos de archivos BeeGFS.</block>
  <block id="5bca534f5a45c18ffc0306e63b306c62" category="section-title">Nodos de archivo BeeGFS</block>
  <block id="db9f63f8d00e9b524f09cf9c3bdce9c6" category="paragraph">Los nodos de archivo deben ejecutar RedHat 8.4 y tener acceso al repositorio ha que contenga los paquetes requeridos (marcapaso, corosync, valla-agents-all, Resource-agents). Por ejemplo, se puede ejecutar el siguiente comando para habilitar el repositorio apropiado en RedHat 8:</block>
  <block id="676b08aacbe937f16d558f23d90b29da" category="section-title">Nodos de cliente BeeGFS</block>
  <block id="dc203cff346fc33ab19584264833d533" category="paragraph">Hay disponible un rol de Ansible para el cliente BeeGFS para instalar el paquete de cliente BeeGFS y gestionar los montajes BeeGFS. Esta función se ha probado con RedHat 8.4 y Ubuntu 22.04.</block>
  <block id="2e0da5c1c3cbd1cda1312f57209c96e4" category="inline-link-macro">Distribución y kernel de Linux compatibles con BeeGFS</block>
  <block id="b44b294130612c32e5f179fb81f347ec" category="paragraph">Si no utiliza Ansible para configurar el cliente BeeGFS y montar BeeGFS, any <block ref="ed8f85054917a214583881f0e58e2825" category="inline-link-macro-rx"></block> puede utilizarse.</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">Los avisos legales proporcionan acceso a las declaraciones de copyright, marcas comerciales, patentes y mucho más.</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Avisos legales</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Derechos de autor</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="inline-link"></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marcas comerciales</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP, el logotipo de NETAPP y las marcas enumeradas en la página de marcas comerciales de NetApp son marcas comerciales de NetApp, Inc. Los demás nombres de empresas y productos son marcas comerciales de sus respectivos propietarios.</block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Estadounidenses</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Puede encontrar una lista actual de las patentes propiedad de NetApp en:</block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Política de privacidad</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">Código abierto</block>
  <block id="9b73989307c1975dfa4d5e1581e4afe8" category="paragraph">Los archivos de notificación proporcionan información sobre los derechos de autor y las licencias de terceros que se utilizan en software de NetApp.</block>
  <block id="cc1ba14f8dc9bd7ba20e2aa654cde10b" category="inline-link">Aviso sobre el sistema operativo SANtricity E-Series/EF-Series</block>
  <block id="2dae7f81af3097152530b0bc519d7eb1" category="paragraph"><block ref="2dae7f81af3097152530b0bc519d7eb1" category="inline-link-rx"></block></block>
  <block id="d02afad2b9d23614832a35187b8296bf" category="summary">En este sitio se documenta cómo poner en marcha y gestionar BeeGFS en NetApp.</block>
  <block id="745f22cbd412f2eab6c6bf95417e8b09" category="doc">Lo que se incluye en este sitio</block>
  <block id="f3ea919081d7ce9021ea4cd631632407" category="paragraph">En este sitio se documenta cómo poner en marcha y gestionar BeeGFS en NetApp mediante arquitecturas verificadas de NetApp (NVA) y arquitecturas personalizadas. Los diseños de NVA se han probado exhaustivamente y proporcionan a los clientes configuraciones de referencia y directrices de tamaño para minimizar los riesgos de la puesta en marcha y acelerar el plazo de comercialización. NetApp también admite arquitecturas BeeGFS personalizadas que se ejecutan en hardware de NetApp, lo que ofrece a los clientes y partners flexibilidad para diseñar sistemas de archivos que cumplan una amplia gama de requisitos. Ambos métodos aprovechan Ansible para la puesta en marcha, lo que proporciona un enfoque similar al de los dispositivos para gestionar BeeGFS a cualquier escala en una variedad flexible de hardware.</block>
  <block id="c8a0fcd1a15bb039926f56fd15ce82e9" category="summary">Términos y conceptos que se aplican a BeeGFS en la solución de NetApp.</block>
  <block id="5d146c3fd3b69782d69f66b386b88a4c" category="doc">Términos y conceptos</block>
  <block id="5710fc980ad3cc07a2d53a30f8e42802" category="paragraph">Los siguientes términos y conceptos se aplican a BeeGFS en la solución de NetApp.</block>
  <block id="55f7d3580cdac035324d4348b9dac05b" category="inline-link-macro">Administre clústeres BeeGFS</block>
  <block id="0d06184de569870cd5818ae2e6c4a6ac" category="admonition">Consulte <block ref="0671020dd7d3d7a323a3eef6d8b61659" category="inline-link-macro-rx"></block> Para obtener detalles adicionales sobre términos y conceptos específicos para interactuar con clústeres de alta disponibilidad (ha) de BeeGFS.</block>
  <block id="cf5f3091e30dee6597885d8c0e0c357f" category="cell">Duración</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Descripción</block>
  <block id="0a40e3c91a3a55c9a37428c6d194d0e5" category="paragraph">IA</block>
  <block id="10a99475af71a950df10ae4fb41e6b27" category="paragraph">Inteligencia artificial.</block>
  <block id="206b11a774f63418bae21625e6f6d2fb" category="paragraph">Inventario de Ansible</block>
  <block id="4278d92c9bdf11d430a86f440cffbb06" category="paragraph">Estructura de directorio que contiene archivos YAML que se utilizan para describir el clúster de ha de BeeGFS deseado.</block>
  <block id="396262ee936f3d3e26ff0e60bea6cae0" category="paragraph">BMC</block>
  <block id="20e7cb5fddc6ef60deff83e38954fc9c" category="paragraph">Controlador de administración de la placa base. En ocasiones se conoce como procesador de servicio.</block>
  <block id="399cda935f5cb9e0b94eaf42309257fb" category="paragraph">nodos de bloques</block>
  <block id="56977f2bee9d2716e5224e95ceb72839" category="paragraph">Sistemas de almacenamiento.</block>
  <block id="fac04ca68a48af91f0290001604a2463" category="paragraph">clientes</block>
  <block id="3e3cee1fd1e1de5762df25400f62794a" category="paragraph">Nodos del clúster HPC que ejecuta aplicaciones que deben utilizar el sistema de archivos. En ocasiones, también se denomina nodos de computación o GPU.</block>
  <block id="f5ce9f5cb682a1f863d5a8c51ac28683" category="paragraph">DL</block>
  <block id="3a113e532fcdd400cdf83ef62ac9d9de" category="paragraph">Aprendizaje profundo.</block>
  <block id="c404903bef63acba3e3abe370e09474f" category="paragraph">nodos de archivos</block>
  <block id="2118e5d99e7b7d309a8f82e52f89ab22" category="paragraph">Servidores de archivos BeeGFS.</block>
  <block id="594c16ca0695f6665d7cf4971707adf6" category="paragraph">HA</block>
  <block id="b5c55115b0714618209ee9459023bad1" category="paragraph">Alta disponibilidad.</block>
  <block id="a25baf723f95fbcbceae8399b638f108" category="paragraph">HIC</block>
  <block id="2d5307a091565cb524b7c0a2c48a1588" category="paragraph">Tarjeta de interfaz del host.</block>
  <block id="2f569257101cf136a49d983584bfc44f" category="paragraph">HPC</block>
  <block id="9a3968cd0518e869657fa99f060cd8f2" category="paragraph">Informática de alto rendimiento.</block>
  <block id="06a52007ec390481940877b63a4b7c61" category="paragraph">Cargas de trabajo de tipo HPC</block>
  <block id="221d47451f4f42c2e516a414798b6e1e" category="paragraph">Las cargas de trabajo de estilo HPC suelen caracterizarse por la necesidad de múltiples nodos de computación o GPU que necesiten acceder al mismo conjunto de datos en paralelo para facilitar una tarea de entrenamiento o computación distribuida. Estos conjuntos de datos a menudo constan de archivos de gran tamaño que se deben dividir entre varios nodos de almacenamiento físico para eliminar los cuellos de botella de hardware tradicionales, lo que evitaría el acceso simultáneo a un único archivo.</block>
  <block id="d01fd9b01e9dde8bd3dc247afbfb7218" category="paragraph">ML</block>
  <block id="65abbc2190f8ea8522de3b7df3397302" category="paragraph">Aprendizaje automático.</block>
  <block id="85587c49afa2ea2adacd4bbcdb57d064" category="paragraph">NLP</block>
  <block id="1e8218217ed7a37de1bd5f394a253db8" category="paragraph">Procesamiento de Lenguaje Natural.</block>
  <block id="04808383df00e6501c912f8fae661f73" category="paragraph">NLU</block>
  <block id="f0f701867a5e02fa406b05e22df7ae03" category="paragraph">Comprensión del lenguaje natural.</block>
  <block id="af33781ae5dd2f5ffb194a90989038a8" category="paragraph">ARQUITECTURA VALIDADA DE NETAPP</block>
  <block id="4119dd754c8118aa6a1bb36f194a2f52" category="paragraph">El programa NetApp Verified Architecture (NVA) proporciona configuraciones de referencia y directrices de tamaño para cargas de trabajo específicas y casos prácticos. Estas soluciones han sido probadas exhaustivamente y están diseñadas para minimizar los riesgos de la puesta en marcha y acelerar el plazo de comercialización.</block>
  <block id="67d6c06d21e47a4c86e1be15e327370e" category="paragraph">red de almacenamiento/red de cliente</block>
  <block id="7829f14ded222e6be0bb1a1d28e8f977" category="paragraph">Red utilizada por los clientes para comunicarse con el sistema de archivos BeeGFS. A menudo, se trata de la misma red que se utiliza para la interfaz de paso de mensajes (MPI) en paralelo y otra comunicación de aplicaciones entre nodos de clúster HPC.</block>
  <block id="e3b88cba18358b065044f4788449026b" category="summary">Soporte de soluciones para el sistema de archivos en clúster paralelo BeeGFS que se ejecuta en un almacenamiento de E-Series de NetApp de alto rendimiento y baja latencia. Una solución de HPC rentable, fácil de gestionar y de gran disponibilidad, con el soporte de NetApp.</block>
  <block id="28e8b3e83af233fe7085ba954fc6fd36" category="doc">BeeGFS en NetApp con almacenamiento E-Series</block>
  <block id="883ccbea6264c3d9c8ea56267b290a0a" category="summary">La configuración de software de BeeGFS en NetApp incluye componentes de red BeeGFS, nodos de bloque EF600, nodos de archivos BeeGFS, grupos de recursos y servicios BeeGFS.</block>
  <block id="e366b0b441e75fcafac2db7ff979a799" category="doc">Configuración de software</block>
  <block id="dea1b03288253149cb4c55f3c4f10e3e" category="section-title">Configuración de red BeeGFS</block>
  <block id="391f99769ce2b9374f0421ace7ce5ac5" category="paragraph">La configuración de red BeeGFS consta de los siguientes componentes.</block>
  <block id="f05f92f283e258444df8e73ac9508c74" category="list-text">*IP flotantes* las IP flotantes son un tipo de dirección IP virtual que se puede enrutar dinámicamente a cualquier servidor de la misma red. Varios servidores pueden tener la misma dirección IP flotante, pero sólo puede estar activa en un servidor en un momento dado.</block>
  <block id="76a7e91177d008d5a202ef507a9049d7" category="paragraph">Cada servicio de servidor BeeGFS tiene su propia dirección IP que puede moverse entre nodos de archivo en función de la ubicación de ejecución del servicio de servidor BeeGFS. Esta configuración de IP flotante permite que cada servicio conmute por error de manera independiente al otro nodo de archivo. El cliente simplemente necesita conocer la dirección IP de un servicio BeeGFS concreto; no necesita saber qué nodo de archivo está ejecutando ese servicio en ese momento.</block>
  <block id="527f436644c629cc1f2330d74c5c29b4" category="list-text">*Configuración de hosts múltiples del servidor BeeGFS* para aumentar la densidad de la solución, cada nodo de archivo tiene varias interfaces de almacenamiento con IP configuradas en la misma subred IP.</block>
  <block id="5a19238d05fdcdb09e439e41a0a94349" category="paragraph">Es necesario configurar más para asegurarse de que esta configuración funciona de la forma esperada con el paquete de redes de Linux, ya que, de forma predeterminada, es posible responder las solicitudes a una interfaz en otra interfaz si sus IP se encuentran en la misma subred. Además de otros inconvenientes, este comportamiento predeterminado hace que sea imposible establecer o mantener correctamente las conexiones RDMA.</block>
  <block id="e7a28f6c997a9c0eba41eb574b5f829c" category="paragraph">La puesta en marcha basada en Ansible gestiona el apriete del comportamiento de la ruta inversa (RP) y del protocolo de resolución de direcciones (ARP), junto con la garantía de cuándo se inician y se detienen las IP flotantes; las reglas y rutas IP correspondientes se crean de forma dinámica para permitir que la configuración de red de múltiples hosts funcione correctamente.</block>
  <block id="99e50b7bb7e3ca73eb910eaf99c6f100" category="list-text">*Configuración multi-rail de cliente BeeGFS* _Multi-rail_ se refiere a la capacidad de una aplicación para utilizar múltiples “rieles” de red independientes para aumentar el rendimiento.</block>
  <block id="24cb2caf398043c3ad552915f0ec2b22" category="paragraph">Si bien BeeGFS puede utilizar RDMA para la conectividad, BeeGFS utiliza IPoIB para simplificar la detección y establecimiento de conexiones RDMA. Para permitir que los clientes BeeGFS utilicen varias interfaces InfiniBand, puede configurar cada cliente con una dirección IP ubicada en una subred diferente y, a continuación, configurar las interfaces preferidas para la mitad de los servicios de servidor BeeGFS en cada subred.</block>
  <block id="89b4732ecad8d523a7b684af09ad56ee" category="paragraph">En el siguiente diagrama, las interfaces resaltadas en verde claro se encuentran en una subred IP (por ejemplo,<block ref="7cef287dacfa3692b6efc37f4ca39736" prefix=" " category="inline-code"></block>) y las interfaces de color verde oscuro se encuentran en otra subred (por ejemplo,<block ref="2a298c9255d4013ca9132c446207b890" prefix=" " category="inline-code"></block>).</block>
  <block id="12ec3f7db1a39d49d76e159a6fc9be24" category="paragraph">En la siguiente figura se muestra el equilibrio del tráfico en varias interfaces de cliente BeeGFS.</block>
  <block id="8336bf936a644f2a0962fc710a65d3db" category="paragraph"><block ref="8336bf936a644f2a0962fc710a65d3db" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02eef1a6d9aefa452755edb315057e27" category="paragraph">Debido a que cada archivo de BeeGFS suele estar segado en múltiples servicios de almacenamiento, la configuración multicanal permite al cliente conseguir un mayor rendimiento del que es posible con un único puerto InfiniBand. Por ejemplo, el siguiente ejemplo de código muestra una configuración común de segmentación de archivos que permite al cliente equilibrar el tráfico entre ambas interfaces:</block>
  <block id="7a11ff2c7aa2ff0eccecba650f1db9f5" category="paragraph">El uso de dos subredes IPoIB es una distinción lógica. Puede usar una sola subred InfiniBand física (red de almacenamiento) si lo desea.</block>
  <block id="315faf76d806cf96ff685ed2e65a9d16" category="inline-link">Soporte para RDMA BeeGFS</block>
  <block id="96002ab5a7c353b76ef0cc2e390f7131" category="admonition">Se ha añadido soporte multi-rail en BeeGFS 7.3.0 para permitir el uso de múltiples interfaces IB en una única subred de IPoIB. El diseño de BeeGFS en la solución de NetApp se desarrolló antes de la disponibilidad general de BeeGFS 7.3.0, por lo que se demuestra el uso de dos subredes IP para usar dos interfaces IB en los clientes BeeGFS. Una ventaja del método de subred IP múltiple es que se elimina la necesidad de configurar el modo de multicentrado en los nodos cliente de BeeGFS (para obtener más información, consulte<block ref="bb2f67f854c27129a1f13b908e56ca65" category="inline-link-rx"></block>).</block>
  <block id="b28b500a27afaa858536ee53a4c02d91" category="section-title">Configuración de nodos de bloques de EF600</block>
  <block id="6e88eb560b5c117f0226888b924af1c5" category="paragraph">Los nodos de bloques constan de dos controladoras RAID activo/activo con acceso compartido al mismo conjunto de unidades. Por lo general, cada controladora tiene la mitad de los volúmenes configurados en el sistema, pero puede sustituir la otra controladora según sea necesario.</block>
  <block id="674757e2095af366602187ca856f8ec4" category="paragraph">El software multivía en los nodos de archivos determina la ruta activa y optimizada para cada volumen y se mueve automáticamente a la ruta alternativa en caso de que se produzca un fallo en un cable, un adaptador o una controladora.</block>
  <block id="458cd7cdbda7e7a38853eae8ce0e9662" category="paragraph">El siguiente diagrama muestra el diseño de la controladora en los nodos de bloques de EF600.</block>
  <block id="896dfe770f6add65f01e361850b05b91" category="paragraph"><block ref="896dfe770f6add65f01e361850b05b91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4adca73c8e2d619dedc4eb6a42bc966" category="paragraph">Para facilitar la solución de alta disponibilidad de disco compartido, los volúmenes se asignan a los dos nodos de archivo para que puedan hacerse cargo entre sí según sea necesario. En el siguiente diagrama se muestra un ejemplo de cómo se configura el servicio BeeGFS y la propiedad de volumen preferida para obtener el máximo rendimiento. La interfaz a la izquierda de cada servicio BeeGFS indica la interfaz preferida que los clientes y otros servicios utilizan para ponerse en contacto con él.</block>
  <block id="3a7342602381a86e862da535061f4da7" category="paragraph"><block ref="3a7342602381a86e862da535061f4da7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1bff1512ad9e19d6469659f6a916a7e" category="paragraph">En el ejemplo anterior, los clientes y los servicios de servidor prefieren comunicarse con el servicio de almacenamiento 1 mediante la interfaz i1b. El servicio de almacenamiento 1 utiliza la interfaz i1a como ruta preferida para comunicarse con sus volúmenes (Storage_tgt_101, 102) en la controladora A del primer nodo de bloque. Esta configuración hace uso del ancho de banda PCIe bidireccional completo disponible para el adaptador InfiniBand y logra un mejor rendimiento a partir de un adaptador HDR InfiniBand de doble puerto del que sería posible con PCIe 4.0 de otro modo.</block>
  <block id="f4fa0385d373373f4ab191231ead5909" category="section-title">Configuración de nodos de archivos BeeGFS</block>
  <block id="5e2d5eb9f991b81a298fb57212c715fe" category="paragraph">Los nodos de archivos BeeGFS se configuran en un clúster de alta disponibilidad para facilitar la conmutación por error de los servicios BeeGFS entre varios nodos de archivos.</block>
  <block id="f409d0a0c329860646597bbcc45fcc4b" category="inline-link">Formación de Red Hat para complementos de alta disponibilidad</block>
  <block id="48a9bfc91c9cb5a8f6f7fc37080d3b95" category="paragraph">El diseño de clúster de alta disponibilidad se basa en dos proyectos de alta disponibilidad de Linux ampliamente utilizados: Corosync para la pertenencia a clústeres y Pacemaker para la administración de recursos de clúster. Para obtener más información, consulte<block ref="a896e9cb42c24f9ab5c574f54ad83b08" category="inline-link-rx"></block>.</block>
  <block id="79b70ba13b6d273b53c66d816a15830d" category="paragraph">NetApp es autor y creó varios agentes de recursos de marco de clúster abierto (OCF) ampliados para permitir que el clúster inicie y supervise de forma inteligente los recursos de BeeGFS.</block>
  <block id="ff07f4dbc22a6f0ecb4a11bfb6136d40" category="section-title">Clústeres de alta disponibilidad de BeeGFS</block>
  <block id="7a189557128751d94f2d8bca38ccf462" category="paragraph">Normalmente, cuando se inicia un servicio BeeGFS (con o sin ha), deben existir algunos recursos:</block>
  <block id="3f1f71800ded6b59769a66de67dd7d86" category="list-text">Direcciones IP donde se puede acceder al servicio, generalmente configuradas por Network Manager.</block>
  <block id="03eb5c90128e244e904f61d22569b4af" category="list-text">Sistemas de archivos subyacentes utilizados como objetivos para BeeGFS para almacenar datos.</block>
  <block id="510de0f837e4aacf9e6eb3c08926bcff" category="paragraph">Normalmente se definen en<block ref="816a3ef77b62ade41c3f936c958aa555" prefix=" " category="inline-code"></block> Y montado por systemd.</block>
  <block id="49990dbe44b62019deed5be9f5c437a3" category="list-text">Servicio de sistema responsable de iniciar los procesos de BeeGFS cuando los otros recursos están listos.</block>
  <block id="4f26c3922778ca3d5247b1281f6843af" category="paragraph">Sin software adicional, estos recursos solo comienzan en un único nodo de archivo. Por lo tanto, si el nodo de archivo se desconecta, una parte del sistema de archivos BeeGFS no está accesible.</block>
  <block id="c60a1b018b03670c1a1a93baf9da5d45" category="paragraph">Debido a que varios nodos pueden iniciar cada servicio BeeGFS, Pacemaker debe asegurarse de que cada servicio y los recursos dependientes sólo se ejecutan en un nodo cada vez. Por ejemplo, si dos nodos intentan iniciar el mismo servicio BeeGFS, existe el riesgo de que se dañen los datos si ambos intentan escribir en los mismos archivos en el destino subyacente. Para evitar esta situación, Pacemaker confía en Corosync para mantener de forma fiable el estado general del clúster sincronizado entre todos los nodos y establecer quórum.</block>
  <block id="a96d4ad8c651d8ff21de193227e20f4d" category="paragraph">Si se produce un fallo en el clúster, Pacemaker reacciona y reinicia los recursos de BeeGFS en otro nodo. En algunos casos, es posible que Pacemaker no pueda comunicarse con el nodo defectuoso original para confirmar que los recursos están detenidos. Para verificar que el nodo está inactivo antes de reiniciar los recursos de BeeGFS en otra parte, Pacemaker apaga el nodo defectuoso, lo que es ideal para eliminar la alimentación.</block>
  <block id="ad22605bb834d1c650f3b2f1e5c76401" category="paragraph">Hay muchos agentes de esgrima de código abierto disponibles que permiten a Pacemaker cercar un nodo con una unidad de distribución de energía (PDU) o utilizando el controlador de administración de placa base del servidor (BMC) con API como Redfish.</block>
  <block id="05273fb3cfbaf5190eee8cfc0c3e0597" category="paragraph">Cuando BeeGFS se ejecuta en un clúster ha, Pacemaker gestiona todos los servicios BeeGFS y los recursos subyacentes en grupos de recursos. Cada servicio BeeGFS y los recursos de los que depende, se configuran en un grupo de recursos, que garantiza que los recursos se inician y se detienen en el orden correcto y se encuentran en el mismo nodo.</block>
  <block id="de25b213ff1f6f931a4d9c0f59bbed69" category="paragraph">Para cada grupo de recursos BeeGFS, Pacemaker ejecuta un recurso de supervisión BeeGFS personalizado que es responsable de detectar condiciones de fallo y de activar de forma inteligente recuperaciones tras fallos cuando un servicio BeeGFS ya no está accesible en un nodo concreto.</block>
  <block id="e33abb1ba19f563eaa662796e8b3021b" category="paragraph">La siguiente figura muestra los servicios y dependencias de BeeGFS controlados por marcapasos.</block>
  <block id="bedf97f40f223046eb65b7acad7c0a92" category="paragraph"><block ref="bedf97f40f223046eb65b7acad7c0a92" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5346cef6f7de3aac02ebdfc1ae9b6f27" category="inline-link">Documentación de BeeGFS sobre modo múltiple</block>
  <block id="c4ae8913dc1f6c9fed7961516b16defd" category="admonition">De modo que se inician varios servicios BeeGFS del mismo tipo en el mismo nodo, Pacemaker se configura para iniciar servicios BeeGFS mediante el método de configuración Multi Mode. Para obtener más información, consulte<block ref="bc179f675bb7a303402ecb902ab09448" category="inline-link-rx"></block>.</block>
  <block id="553c30108a127bc2c66537e58970be9e" category="paragraph">Debido a que los servicios BeeGFS deben poder iniciarse en varios nodos, el archivo de configuración de cada servicio (normalmente ubicado en<block ref="af1cad80e288805d61b78377a6d2c339" prefix=" " category="inline-code"></block>) Se almacena en uno de los volúmenes E-Series utilizados como objetivo BeeGFS para ese servicio. Esto hace que la configuración junto con los datos de un servicio BeeGFS en particular sea accesible para todos los nodos que puedan necesitar ejecutar el servicio.</block>
  <block id="51bfd24e79e0939d84e9230980db5f18" category="summary">BeeGFS para la solución de NetApp se encuentra en su segundo diseño generacional.</block>
  <block id="fa0de4179a84e742d2d88028d16bf137" category="doc">Generaciones de diseño</block>
  <block id="51c16b7415d506b9bbcedd7241c7c1c0" category="paragraph">La primera y la segunda generación incluyen una arquitectura base que incorpora un sistema de archivos BeeGFS y un sistema de almacenamiento NVMe EF600. Sin embargo, la segunda generación se basa en la primera en incluir estas ventajas adicionales:</block>
  <block id="20667306535e51f69f34371b95abfd0b" category="list-text">Duplique el rendimiento y la capacidad al añadir solo 2U de espacio en rack</block>
  <block id="edcc56d654a1a9362699f309c738a185" category="list-text">Alta disponibilidad (ha) basada en un diseño de hardware de dos niveles y disco compartido</block>
  <block id="e79ef600cb60c3e821f1cef23dcb17c1" category="list-text">Cualificación externa para las arquitecturas DGX A100 SuperPOD y NVIDIA BasePOD</block>
  <block id="189fdda096d5b994e140eac128f464e1" category="section-title">Segundo diseño generacional</block>
  <block id="1e5b7e91f7684d1e82eca499bd3e9f00" category="paragraph">La segunda generación de BeeGFS en NetApp está optimizada para satisfacer los requisitos de rendimiento de cargas de trabajo exigentes, como la computación de alto rendimiento (HPC) y el aprendizaje automático (ML) al estilo HPC, el aprendizaje profundo (DL) y técnicas similares de inteligencia artificial (IA). Al incorporar una arquitectura de alta disponibilidad (ha) de disco compartido, BeeGFS en la solución de NetApp también cumple los requisitos de durabilidad y disponibilidad de los datos de las empresas y otras organizaciones que no pueden permitirse el lujo de sufrir tiempos de inactividad o pérdidas de datos en busca de un almacenamiento que pueda escalarse para adaptarse a sus cargas de trabajo y casos de uso. Esta solución no solo ha sido verificada por NetApp, sino que también ha superado la cualificación externa como opción de almacenamiento para NVIDIA DGX SuperPOD y DGX BasePOD.</block>
  <block id="145c927b5996411105e8a05381bfab75" category="section-title">Primer diseño generacional</block>
  <block id="41ae1cb2edd9d144116e252e5f5c4e54" category="paragraph">La primera generación de BeeGFS en NetApp se diseñó para cargas de trabajo de aprendizaje automático (ML) e inteligencia artificial (IA) mediante los sistemas de almacenamiento EF600 NVMe de NetApp, el sistema de archivos en paralelo BeeGFS, los sistemas NVIDIA DGX™ A100 y los switches IB de 200 Gbps NVIDIA® Mellanox® Quantum™ QM8700™. Este diseño también incluye InfiniBand (IB) de 200 Gbps para la estructura de interconexión de clústeres de almacenamiento y computación, con el fin de proporcionar una arquitectura completamente basada en IB para las cargas de trabajo de alto rendimiento.</block>
  <block id="8c2de6dc6972aa428c25b73867ee0c6c" category="inline-link-macro">IA EF-Series de NetApp con sistemas NVIDIA DGX A100 y BeeGFS</block>
  <block id="cb0e1ee82028e21bcb25d1cedee42a90" category="paragraph">Para obtener más información sobre la primera generación, consulte <block ref="7c75f12548abfaad3f9a226ecdfc54d3" category="inline-link-macro-rx"></block>.</block>
  <block id="fefc21957cc1bbb1f6a7704d95ad5e0d" category="summary">Puede poner en marcha BeeGFS en NetApp para nodos de archivos y bloques validados mediante la segunda generación del diseño de bloques básicos BeeGFS de NetApp.</block>
  <block id="42f8643eb52a942747937327c72c8361" category="doc">Información general sobre la implementación</block>
  <block id="ef200d7e9d983785df6b4e01fa65bf59" category="section-title">Colecciones y roles de Ansible</block>
  <block id="31f2ceaa03965649e2e37df5634511e7" category="paragraph">BeeGFS se pone en marcha en una solución de NetApp con Ansible, un motor DE automatización TECNOLÓGICA más popular que se utiliza para automatizar la puesta en marcha de aplicaciones. Ansible utiliza una serie de archivos conocidos colectivamente como un inventario, que modela el sistema de archivos BeeGFS que desea implementar.</block>
  <block id="87d27d52f7fc81e8a134f2e3d2a57ecf" category="inline-link">Colección BeeGFS de NetApp E-Series</block>
  <block id="f4bf5484498b52d77cb39955020e5321" category="paragraph">Ansible permite a empresas como NetApp ampliar su funcionalidad incorporada mediante colecciones en Ansible Galaxy (consulte<block ref="8dd9c2247c6151110981020f59a5fca3" category="inline-link-rx"></block>). Las colecciones incluyen módulos que realizan alguna función o tarea específica (como crear un volumen E-Series) e incluyen roles que pueden llamar a varios módulos y otras funciones. Este método automatizado reduce el tiempo necesario para poner en marcha el sistema de archivos BeeGFS y el clúster de alta disponibilidad subyacente. Además, simplifica la incorporación de elementos básicos para ampliar los sistemas de archivos existentes.</block>
  <block id="4aa1cf90ffa01d3b63825bad839d9e29" category="inline-link-macro">Obtenga más información sobre el inventario de Ansible</block>
  <block id="1325754275d5677e560f21035bc1ac47" category="paragraph">Para obtener detalles adicionales, consulte <block ref="dd39ef1fcc2e17fe1fe509b7ac2d5dea" category="inline-link-macro-rx"></block>.</block>
  <block id="5b3ae76175242b9c0c63ba5668657f49" category="admonition">Dado que existen numerosos pasos que se deben seguir en la puesta en marcha de BeeGFS en la solución de NetApp, NetApp no admite la puesta en marcha manual de la solución.</block>
  <block id="6201cef3e5bb8f42f2aa1876b8c1f544" category="section-title">Perfiles de configuración para los bloques de creación de BeeGFS</block>
  <block id="3c411e2f06cd1b5275d2be84bb18a641" category="paragraph">Los procedimientos de implementación cubren los siguientes perfiles de configuración:</block>
  <block id="3c1ad21a1c1a2804f8ace80b84822bfe" category="list-text">Un elemento básico que incluye servicios de gestión, metadatos y almacenamiento.</block>
  <block id="416ad52da618754efb3680e957b1a048" category="list-text">Un segundo elemento básico que incluye metadatos y servicios de almacenamiento.</block>
  <block id="11047a79bd1eab4d52ba658a48a430e8" category="list-text">Un tercer elemento básico que únicamente incluye servicios de almacenamiento.</block>
  <block id="886066871646e69724c15beede051aa6" category="paragraph">Estos perfiles muestran toda la gama de perfiles de configuración recomendados para los elementos básicos de BeeGFS de NetApp. Para cada puesta en marcha, el número de metadatos y bloques básicos de almacenamiento o de elementos básicos solo de servicios de almacenamiento pueden variar en los procedimientos, según los requisitos de capacidad y rendimiento.</block>
  <block id="20cf8ff34f34ae23669e586d1092a0f9" category="section-title">Información general sobre los pasos de implementación</block>
  <block id="9d863a0564ad86180bde2b2a6c27a6ed" category="paragraph">La implementación implica las siguientes tareas de alto nivel:</block>
  <block id="fd2f8c173ade715231c21c932686e38b" category="list-title">Puesta en marcha de hardware</block>
  <block id="f08d36149d715ffbb8eca9f7159e0d27" category="list-text">Monte físicamente cada bloque.</block>
  <block id="abd55e01ead6dac45d997ad9c82c8019" category="inline-link-macro">Ponga en marcha el hardware</block>
  <block id="65353eb96f13d02029086d1790108e3c" category="list-text">Hardware para montaje en rack y cableado. Para conocer los procedimientos detallados, consulte <block ref="19367e6e5e194f2806703eb905741326" category="inline-link-macro-rx"></block>.</block>
  <block id="b9205e876aa43217d9358621cf2c6187" category="list-title">Puesta en marcha de software</block>
  <block id="359f84c66084d8c8c9d4cb7ca3945bcd" category="inline-link-macro">Configure los nodos de archivos y bloques</block>
  <block id="f8367dab28e2315251df9dcf227916b5" category="list-text"><block ref="4cfaa56cb8da11f04e7ee8ae6dd86bcc" category="inline-link-macro-rx"></block>.</block>
  <block id="ee63db10faeceba4efb3b03145e0ec26" category="list-text">Configure las IP de BMC en los nodos de archivo</block>
  <block id="aa51221099b00aa6e09e3cb6b1b03f47" category="list-text">Instale un sistema operativo compatible y configure las redes de gestión en los nodos de archivos</block>
  <block id="a75b117cd8d7af9205b2185d8afb8537" category="list-text">Configure las IP de gestión en los nodos de bloques</block>
  <block id="14f10d91a4d4d076d9f025fdb6134949" category="inline-link-macro">Configure un nodo de control Ansible</block>
  <block id="b81f7e6126c9f5040f05685e56e57af1" category="list-text"><block ref="6848fc9a1ed48359bab6d9326922d03c" category="inline-link-macro-rx"></block>.</block>
  <block id="51d961299f8aa9bb882574aae2a219eb" category="inline-link-macro">Ajuste la configuración del sistema para obtener rendimiento</block>
  <block id="9312585e52fd3b0a0898c7f73fdfd8cc" category="list-text"><block ref="dbe1843153b6696d3dd846d3a25ea7b2" category="inline-link-macro-rx"></block>.</block>
  <block id="2903652ee31835883feeb469228b4406" category="inline-link-macro">Cree el inventario de Ansible</block>
  <block id="914b8eb4568f7c438e1d415af01c2787" category="list-text"><block ref="dbbcb9482f49ee969cddb7f10864cbd0" category="inline-link-macro-rx"></block>.</block>
  <block id="c8f38adfaba8270e793616e0556571c7" category="inline-link-macro">Defina el inventario de Ansible para los bloques de creación de BeeGFS</block>
  <block id="2640957ad14de18b2d308da5e116b4a0" category="list-text"><block ref="56ee4018bb6227ffe39900ebf12f2472" category="inline-link-macro-rx"></block>.</block>
  <block id="d21cb96c35176f0f0ea13876f354d072" category="inline-link-macro">Ponga en marcha BeeGFS con Ansible</block>
  <block id="a8169193bd5718bbe78111b3a1f874d7" category="list-text"><block ref="dffbd1bc941e2f4395de7cba04c6653b" category="inline-link-macro-rx"></block>.</block>
  <block id="096a6674c1f4ef681d88a6eb229299b7" category="inline-link-macro">Configurar clientes BeeGFS</block>
  <block id="f159952d71e33cd0a1ffbb2bcc4ce2ad" category="list-text"><block ref="75197807ccb18c9f99e8f2a2a3443aea" category="inline-link-macro-rx"></block>.</block>
  <block id="d6dd015562e1d088d87d28007ecfa541" category="admonition">Los procedimientos de implementación incluyen varios ejemplos en los que el texto debe copiarse a un archivo. Preste especial atención a cualquier comentario en línea indicado por caracteres “#” o “//” para cualquier cosa que deba o pueda modificarse para una implementación específica. Por ejemplo:<block ref="f791b43c55fc3520a5d297b1addbd507" prefix=" " category="inline-code"></block></block>
  <block id="02cf3373667b246c17c8d054c073a372" category="paragraph">Arquitecturas derivadas con variaciones en las recomendaciones de puesta en marcha:</block>
  <block id="2e93d3c37349d17095fd0dca7d6fe097" category="inline-link-macro">Elementos básicos de alta capacidad</block>
  <block id="8a43f7c3e77834cf43b5398c116033e3" category="list-text"><block ref="8a43f7c3e77834cf43b5398c116033e3" category="inline-link-macro-rx"></block></block>
  <block id="b11764419626b2eff6352f3d8e6022e3" category="summary">Para configurar un nodo de control de Ansible, identifique una máquina virtual o física con acceso de red a los puertos de gestión de todos los nodos de archivos y bloques que puedan usarse para configurar la solución.</block>
  <block id="bfcf60c321d0d2cb85402c7a22d208b9" category="paragraph">Para configurar un nodo de control de Ansible, debe identificar una máquina virtual o física con acceso de red a los puertos de gestión de todos los nodos de archivos y bloques que puedan usarse para configurar la solución.</block>
  <block id="c98e4789c5801c863a516b10b7663838" category="paragraph">Los siguientes pasos se probaron en CentOS 8.4. Para obtener información sobre los pasos específicos de su distribución de Linux preferida, consulte<block ref="34c856f227a1cab1577af9d235784d24" category="inline-link-rx"></block>.</block>
  <block id="9987c24bf4e936399e49e8ef8615083d" category="list-text">Instale Python 3.9 y asegúrese de que la versión correcta de<block ref="62ad1c2a46c5298f3e2c95d3babf8d0c" prefix=" " category="inline-code"></block> está instalado.</block>
  <block id="bc55433e1f3f1b08c02a0254a0f864c1" category="list-text">Cree enlaces simbólicos, asegurándose de que el binario Python 3.9 se utilice siempre que lo haga<block ref="6e8efbe3a442748b716644025479aab5" prefix=" " category="inline-code"></block> o.<block ref="23eeeb4347bdd26bfc6b7ee9a3b755dd" prefix=" " category="inline-code"></block> se llama.</block>
  <block id="e7a81038c18b15bf5d97b77fb110af03" category="list-text">Instale los paquetes Python necesarios para las colecciones de BeeGFS de NetApp.</block>
  <block id="de65efa2c0698ededf4229cafcca2d08" category="inline-link-macro">Requisitos técnicos</block>
  <block id="7f883f5609524995f000fc99b8f5691a" category="admonition">Para asegurarse de que está instalando una versión compatible de Ansible y todos los paquetes Python necesarios, consulte el archivo Léame de la colección BeeGFS. También se incluyen las versiones compatibles en <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="a36d9a848f44be3e2b8d092a5861995a" category="list-text">Verifique que se hayan instalado las versiones correctas de Ansible y Python.</block>
  <block id="4ac0a4015ebef3209a5f3acb61110dd9" category="list-text">Almacene los inventarios de Ansible utilizados para describir la implementación de BeeGFS en sistemas de control de código fuente como Git o Bitbucket y, a continuación, instale Git para interactuar con esos sistemas.</block>
  <block id="f2f38616eaf6d21846071c00e89109b4" category="list-text">Configure SSH sin contraseñas. Esta es la forma más sencilla de permitir que Ansible acceda a los nodos de archivos BeeGFS remotos desde el nodo de control de Ansible.</block>
  <block id="3087af73e5990976755e4c56b6e7c754" category="list-text">En el nodo de control Ansible, si es necesario, genere un par de claves públicas con<block ref="5356c138de038f32891acc3ddf8f3ed6" prefix=" " category="inline-code"></block></block>
  <block id="c5d36867af8fc130f7a6b6bd87d51d23" category="list-text">Configure SSH sin contraseñas para cada uno de los nodos de archivos que utilizan<block ref="db16ae2d4f692829fd5e7722c57dc5ff" prefix=" " category="inline-code"></block></block>
  <block id="c4e4fc85a76d5e87beac70d1fa166882" category="paragraph">*No* configure SSH sin contraseñas para los nodos de bloque. No se admite ni se requiere.</block>
  <block id="03f38aac08b6c6c3e6e3afc965fedbcc" category="list-text">Utilice Ansible Galaxy para instalar la versión de la colección BeeGFS que se indica en <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="b113449496b52721b53dc04e5120a57b" category="paragraph">Esta instalación incluye dependencias adicionales de Ansible, como el software SANtricity de NetApp y las colecciones de hosts.</block>
  <block id="c38012b2187d10d4a33d168693918570" category="summary">Cada elemento básico consta de dos nodos de archivos x86 validados conectados directamente mediante InfiniBand HDR (200 GB) a dos nodos de bloque de NetApp.</block>
  <block id="0893812920a9268362b89a618b2f05c4" category="paragraph">Cada elemento básico consta de dos nodos de archivos x86 validados conectados directamente a dos nodos de bloque mediante cables InfiniBand HDR (200 GB).</block>
  <block id="cf173c7219b93e53cad26c1f5975c527" category="admonition">Debido a que cada bloque de creación incluye dos nodos de archivo BeeGFS, se requiere un mínimo de dos bloques de construcción para establecer el quórum en el clúster de conmutación por error. Si bien es posible configurar un clúster de dos nodos, existen limitaciones en esta configuración que pueden evitar que se produzca una conmutación al respaldo correcta en algunos casos. Si se requiere un clúster de dos nodos, también es posible incorporar un tercer dispositivo como tiebreaker, aunque este procedimiento no se contempla.</block>
  <block id="0cc464de9a37ad072fa7529593389b2a" category="paragraph">A menos que se indique lo contrario, los pasos siguientes son idénticos para cada bloque de creación del clúster independientemente de si se utiliza únicamente para ejecutar metadatos y servicios de almacenamiento o servicios de almacenamiento de BeeGFS.</block>
  <block id="ee6202c3dca3dfe457b79b5ff39c7765" category="list-text">Configure cada nodo de archivo BeeGFS con cuatro adaptadores de canal host (HCA) de doble puerto PCIe 4.0 ConnectX-6 en modo InfiniBand e instálelos en las ranuras PCIe 2, 3, 5 y 6.</block>
  <block id="9df6f3b087eea6552beb54d44653501a" category="list-text">Configure cada nodo de bloque BeeGFS con una tarjeta de interfaz del host (HIC) de 200 GB de puerto doble e instale la HIC en cada una de sus dos controladoras de almacenamiento.</block>
  <block id="31562d2b8d25ec86381df6ff0157e4b7" category="paragraph">Monte en rack los bloques de creación de forma que los dos nodos de archivo BeeGFS se encuentren por encima de los nodos de bloque BeeGFS. La siguiente figura muestra la configuración de hardware correcta para el bloque de creación BeeGFS (vista trasera).</block>
  <block id="7a549152f69a4c5a4d90a9ad467016da" category="paragraph"><block ref="7a549152f69a4c5a4d90a9ad467016da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e5081bbd0a64102ab8844f96776d6ea" category="admonition">La configuración de la fuente de alimentación para los casos de uso de producción normalmente debe utilizar fuentes de alimentación redundantes.</block>
  <block id="cf31d049daa8cd238cb4238371f2e5d0" category="list-text">Si es necesario, instale las unidades en cada uno de los nodos de bloque BeeGFS.</block>
  <block id="eb86aba8f900c8f076cdcddafcf7271f" category="list-text">Si se va a utilizar el bloque de creación para ejecutar metadatos y servicios de almacenamiento de BeeGFS y unidades más pequeñas para volúmenes de metadatos, compruebe que estén ocupados en las ranuras de unidad más externas, como se muestra en la siguiente figura.</block>
  <block id="c448ee45144a8930f2211d0a4edb7b91" category="list-text">Para todas las configuraciones de bloques de construcción, si un compartimento de unidades no está completamente cargado, asegúrese de que se llena un mismo número de unidades en las ranuras 0–11 y 12–23 para obtener un rendimiento óptimo.</block>
  <block id="4885044112b3b6c6858ae6802eb99831" category="paragraph"><block ref="4885044112b3b6c6858ae6802eb99831" category="inline-image-macro-rx" type="image"></block></block>
  <block id="472ae30ca7767b7347c25c071e0e4b13" category="list-text">Para cablear los nodos de archivos y bloques, utilice cables de cobre de conexión directa HDR de 1 m para que coincidan con la topología que se muestra en la siguiente figura.</block>
  <block id="835b8f1e6b31f0d45576eed50cfe4027" category="paragraph"><block ref="835b8f1e6b31f0d45576eed50cfe4027" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fd5b7ef2a561c49e1b59a838397af45" category="admonition">Los nodos de varios elementos básicos nunca están conectados directamente. Cada bloque se debe tratar como una unidad independiente y toda la comunicación entre los bloques de construcción se produce a través de conmutadores de red.</block>
  <block id="ca7450c6e9a714419bebd35c8d11414a" category="list-text">Utilice 2 m (o la longitud adecuada) InfiniBand HDR 200 GB cables de cobre de conexión directa para conectar los puertos InfiniBand restantes de cada nodo de archivo a los switches InfiniBand que se usarán para la red de almacenamiento.</block>
  <block id="678e3f5ded0c872017877baf55a34219" category="paragraph">Si hay switches InfiniBand redundantes en uso, conecte los puertos resaltados en verde claro en la siguiente figura a switches diferentes.</block>
  <block id="7a8dd1c52597fd7244751f757c26132e" category="paragraph"><block ref="7a8dd1c52597fd7244751f757c26132e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57f799feabdc3b75aa704ff51e74f4c1" category="list-text">Según sea necesario, monte elementos básicos adicionales siguiendo las mismas directrices de cableado.</block>
  <block id="6a2ae129e5b77fd39f068e6cdee42d2a" category="admonition">El número total de elementos básicos que se pueden poner en marcha en un único rack depende de la alimentación y la refrigeración disponibles en cada sitio.</block>
  <block id="d1da0cd6852302b521f35aeee065f5ea" category="summary">Siga las directrices de prácticas recomendadas para poner en marcha BeeGFS en una solución de NetApp.</block>
  <block id="38b622e4d5c9d918330c81663f61a4e3" category="doc">Revise las prácticas recomendadas</block>
  <block id="d780de93793370946b2449b88a29b5ea" category="section-title">Convenciones estándar</block>
  <block id="2028bcc5ed7fdc8ba437b0150866ff2c" category="paragraph">Al ensamblar y crear físicamente el archivo de inventario de Ansible, siga estas convenciones estándar (para obtener más información, consulte <block ref="ecd3f3fdba3715697adf284eecd1c932" category="inline-link-macro-rx"></block>).</block>
  <block id="b4d19c971bd6ad93985147c0ce9477c8" category="list-text">Los nombres de host de los nodos de archivos se numeran secuencialmente (h01-HN) con números inferiores en la parte superior del rack y números superiores en la parte inferior.</block>
  <block id="0a4e8ee6eb2b3c9ae6b2864c18db1a80" category="paragraph">Por ejemplo, la convención de nomenclatura<block ref="6171c77957e7dd932771522d0f5313aa" prefix=" " category="inline-code"></block> aspecto:<block ref="8afb08c5a5c2666b19de0aaba8de4d93" prefix=" " category="inline-code"></block>.</block>
  <block id="7bf4bcec78c083e165c31432234ebef8" category="list-text">Cada nodo de bloques se compone de dos controladoras de almacenamiento, cada una con su propio nombre de host.</block>
  <block id="1d6d5c920cb7d130fd45d8ced35ebec2" category="paragraph">Se utiliza el nombre de una cabina de almacenamiento para hacer referencia a todo el sistema de almacenamiento basado en bloques como parte de un inventario de Ansible. Los nombres de las cabinas de almacenamiento deben numerarse secuencialmente (a01 - an), y los nombres de host para las controladoras individuales provienen de esa convención de nomenclatura.</block>
  <block id="213b6742fe86c9b7a08c68d5206d723a" category="paragraph">Por ejemplo, un nodo de bloque llamado<block ref="ca9fd584227ff345bca2ef90d5c56e63" prefix=" " category="inline-code"></block> por lo general, puede tener nombres de host configurados para cada controladora como<block ref="86ee3de8557579a76634023aa5ccc100" prefix=" " category="inline-code"></block> y..<block ref="32665fb108839c23a5db4a463e74176e" prefix=" " category="inline-code"></block>, Pero ser referido en un inventario de Ansible como<block ref="ca9fd584227ff345bca2ef90d5c56e63" prefix=" " category="inline-code"></block>.</block>
  <block id="a902add826ee667d7f067acb8b49432f" category="list-text">Los nodos de archivo y de bloque dentro del mismo bloque básico comparten el mismo esquema de numeración y están adyacentes uno al otro en el rack con ambos nodos de archivo en la parte superior y ambos nodos de bloque directamente debajo de ellos.</block>
  <block id="2761f73c104511b8aaeef2eb6c84f3d3" category="paragraph">Por ejemplo, en el primer bloque de creación, los nodos de archivo h01 y h02 están conectados directamente a los nodos de bloque a01 y a02. De arriba a abajo, los nombres de host son h01, h02, a01 y a02.</block>
  <block id="33324ee77729f51ada2c5446c9c21488" category="list-text">Los bloques de creación se instalan en orden secuencial en función de sus nombres de host, de modo que los nombres de host con el número inferior se encuentran en la parte superior del rack y los nombres de host con un número superior se encuentran en la parte inferior.</block>
  <block id="afdf73d1fa37280d63c602fa6be27740" category="paragraph">El objetivo es minimizar la longitud del cable que se ejecuta en la parte superior de los switches del bastidor y definir una práctica de implementación estándar para simplificar la solución de problemas. En los centros de datos en los que no se permite esto debido a preocupaciones en torno a la estabilidad del rack, la inversa está permitida, rellenando el rack desde la parte inferior hacia arriba.</block>
  <block id="b4c0fb3649e4f85d78611d90d2d2d308" category="section-title">Configuración de la red de almacenamiento InfiniBand</block>
  <block id="815b2630d684df2f4894bd753d3a1fcb" category="paragraph">La mitad de los puertos InfiniBand de cada nodo de archivos se utilizan para conectarse directamente a los nodos de bloques. La otra mitad está conectada a los switches InfiniBand y se utiliza para la conectividad cliente-servidor BeeGFS. Al determinar el tamaño de las subredes IPoIB que se utilizan para los clientes y servidores de BeeGFS, debe tener en cuenta el crecimiento previsto del clúster de computación/GPU y del sistema de archivos BeeGFS. Si debe desviarse de los rangos de IP recomendados, tenga en cuenta que cada conexión directa en un único bloque de creación tiene una subred única y que no se solapan con las subredes utilizadas para la conectividad cliente-servidor.</block>
  <block id="a4f2d907e6fd183bbbc4d275c08b7a9a" category="section-title">Conexiones directas</block>
  <block id="07a0544547e3cceec6f669bd25c6a605" category="paragraph">Los nodos de archivo y bloque dentro de cada elemento básico siempre utilizan las direcciones IP de la tabla siguiente para sus conexiones directas.</block>
  <block id="d9938c4beed355ac7387d03d8f191c9e" category="admonition">Este esquema de direccionamiento se adhiere a la siguiente regla: El tercer octeto siempre es impar o incluso, que depende de si el nodo de archivo es impar o par.</block>
  <block id="0d01a155a448abaa8ab4b0bdd3ea5e54" category="cell">IP virtual</block>
  <block id="e9813c434db44aa063e37598de3ed515" category="cell">Impar (h1)</block>
  <block id="9d928738606162dca1d244ffcbdf0036" category="cell">i1a</block>
  <block id="8f337c973339dd7093883bd28ddb6588" category="cell">192.168.1.10</block>
  <block id="495cb471115cc2dbd5c60736f989aa8c" category="cell">Impar (c1)</block>
  <block id="e36314e624d2b2ca257e1f1ecb381f93" category="cell">2 a</block>
  <block id="d984a05fa268b7cc6ac052a38960aeb2" category="cell">192.168.1.100</block>
  <block id="80f8cac1e092ca14301921951cf77f91" category="cell">192.168.1.101</block>
  <block id="c7a617044afee64ec7d511879e8b194c" category="cell">i2a</block>
  <block id="d731a116ccfe40ce4a5adb1bf565d785" category="cell">192.168.3.10</block>
  <block id="a9aeb028763672267b98adb1e61f06ca" category="cell">192.168.3.100</block>
  <block id="868e778e153cfafee02c89678e31e3e4" category="cell">192.168.3.101</block>
  <block id="b723decd732b31d828ae939f8f8c81fb" category="cell">i3a</block>
  <block id="28013a9391888f81944ead3ec1401cb0" category="cell">192.168.5.10</block>
  <block id="cfb1a9d899157fd3919c08dceff7fe61" category="cell">Par (c2)</block>
  <block id="8945c747c6a4da714083579891b2495a" category="cell">192.168.5.100</block>
  <block id="538f8a364ff4308c16dbf7a80a554b5f" category="cell">192.168.5.101</block>
  <block id="d4d9efce9a26c8551723c677f65e1284" category="cell">i4a</block>
  <block id="7e7269d72492d715bbd00efdcdec7e0a" category="cell">192.168.7.10</block>
  <block id="1fbf861a0f4d9494682cfff33756b7aa" category="cell">192.168.7.100</block>
  <block id="7a1a4e2ee2757f302d47c7e3cdc8fcc3" category="cell">192.168.7.101</block>
  <block id="1442135832b351ed9b2f3b91f2393ec7" category="cell">Par (h2)</block>
  <block id="0522334c503ae8e87d77104f7b27ba17" category="cell">192.168.2.10</block>
  <block id="f8bc2fbe2c937ea5b5e8839cbea69491" category="cell">2b</block>
  <block id="28de33b5199547c2f026595b7175a940" category="cell">192.168.2.100</block>
  <block id="d006845bf7fd39e054131ca6f76c2c47" category="cell">192.168.2.101</block>
  <block id="3a1cc00317003b20386d92ca13328e3d" category="cell">192.168.4.10</block>
  <block id="ccce62893693ca1e63992fa77159dce3" category="cell">192.168.4.100</block>
  <block id="eab39d2ba2b7a903ccf8cef112e1d506" category="cell">192.168.4.101</block>
  <block id="02def76181eddeab3ec0492be002417d" category="cell">192.168.6.10</block>
  <block id="d4b42e0f0d80e9c910e062f49b48b5f5" category="cell">192.168.6.100</block>
  <block id="f23edf799227dfd20d80544836aad8e9" category="cell">192.168.6.101</block>
  <block id="5e0ca78bea1b6ed4af93b1b1c5d7c573" category="cell">192.168.8.10</block>
  <block id="3581177979a7b934a2accd3f5f999444" category="cell">192.168.8.100</block>
  <block id="49213c8f0e8758438d7a69e2789a8b7d" category="cell">192.168.8.101</block>
  <block id="39927fda75baba1d602f4ac8906cb4ef" category="section-title">Esquema de direccionamiento IPoIB de cliente-servidor BeeGFS (dos subredes)</block>
  <block id="db65743173e4ff7d9ed62df6220dc4a4" category="paragraph">Para permitir que los clientes BeeGFS utilicen dos puertos InfiniBand, se necesitan dos subredes IPoIB con la mitad de los servicios de servidor BeeGFS configurados con una IP preferida en cada subred, a fin de garantizar que los clientes utilicen dos puertos InfiniBand para maximizar la redundancia y el posible rendimiento del sistema de archivos.</block>
  <block id="5e98efce8292b94590f3ca502c1d8697" category="paragraph">Cada nodo de archivos ejecuta varios servicios de servidor BeeGFS (gestión, metadatos o almacenamiento). Para permitir que cada servicio conmute al nodo de archivos de manera independiente, cada uno de ellos está configurado con direcciones IP únicas que pueden flotarse entre ambos nodos (a veces denominados una interfaz lógica o LIF).</block>
  <block id="4db8c0036deb36a38e4df4660af9ed06" category="paragraph">Aunque no es obligatorio, esta implementación presupone que los siguientes rangos de subred IPoIB están en uso para estas conexiones y define un esquema de direccionamiento estándar que aplica las siguientes reglas:</block>
  <block id="8d41eefa8441a4ca177fe0f2676a9512" category="list-text">El segundo octeto siempre es impar o par, según si el puerto InfiniBand del nodo de archivo es impar o par.</block>
  <block id="6482f8ef9c5ff1d8a971601fcad837d6" category="list-text">Las IP del clúster de BeeGFS siempre lo son<block ref="4e125a0674be9f13c20781458a4b0f90" prefix=" " category="inline-code"></block> o.<block ref="282f5359a5438e5159fd6bcdbe731731" prefix=" " category="inline-code"></block>.</block>
  <block id="3aed58e1cc4af0e5cda8b7e10e2fd863" category="admonition">Además de la interfaz utilizada para la gestión del SO en banda, Corosync puede utilizar interfaces adicionales para la sincronización y la golpiza de corazón en cluster. De este modo se garantiza que la pérdida de una única interfaz no apague todo el clúster.</block>
  <block id="d95a2f19c705379e32f8030de274d07e" category="list-text">El servicio de gestión de BeeGFS siempre está en<block ref="770ab4aed0623ab2da7c6d93d36e1626" prefix=" " category="inline-code"></block> o.<block ref="89232954d2214028ecaa11033c8e7a25" prefix=" " category="inline-code"></block>.</block>
  <block id="29cd1587ba2833db9af29eac16f0d72b" category="list-text">Los servicios de metadatos de BeeGFS siempre están en<block ref="8e899642f9ef8d71ee877d1780467578" prefix=" " category="inline-code"></block> o.<block ref="57a55b99bfac8ec35796e4ae40f5540c" prefix=" " category="inline-code"></block>.</block>
  <block id="60c1357dfcd221c354054e43ac815018" category="list-text">Los servicios de almacenamiento BeeGFS están siempre en<block ref="7bda92dd6fa15b04835e990fcef5c6f7" prefix=" " category="inline-code"></block> o.<block ref="7bda92dd6fa15b04835e990fcef5c6f7" prefix=" " category="inline-code"></block>.</block>
  <block id="be092b10130fe0c97dd9358f0c131935" category="list-text">Direcciones del intervalo<block ref="202a0146090f5e2d4eabc0b9ffeab50c" prefix=" " category="inline-code"></block> por<block ref="d0757c31b357693695458d7f69f1db7d" prefix=" " category="inline-code"></block> están reservados para clientes.</block>
  <block id="aa00436c66c8456a1c9ef0a12178a4ab" category="paragraph-title">Subred A: 100.127.0.0/16</block>
  <block id="3ac8c958d4c77187295fd53646229e9e" category="paragraph">En la tabla siguiente se muestra el intervalo de la subred A: 100.127.0.0/16.</block>
  <block id="32e90ecbd165097494e967a23490ee41" category="cell">IP de clúster de BeeGFS</block>
  <block id="16bfa5161249dae15f8c441a34126387" category="cell">i1b</block>
  <block id="fcb936b16dcf3c23dec73fa21c9c16f1" category="cell">100.127.100.1 - 100.127.100.255</block>
  <block id="ca46d9d01d96136b3bd1dea0bce8b99f" category="cell">100.127.101.0</block>
  <block id="2aaea2be17c5c489bc5ec00da30f01e0" category="cell">i1b o i3b</block>
  <block id="5474dd17966e980dee3133c4fdddcf29" category="cell">100.127.101.1 - 100.127.101.255</block>
  <block id="43c64dcbdc9c36edb0a78b932e87b96c" category="cell">100.127.103.1 - 100.127.103.255</block>
  <block id="12ad67de237d3ee3ee2ca3ed39a93826" category="cell">(varía según el cliente)</block>
  <block id="88bd43ac89ad7875c3db7323b9879d13" category="cell">100.127.1.1 - 100.127.99.255</block>
  <block id="079e5887eeb92f6f17c9fa25fd464e2a" category="paragraph-title">Subred B: 100.128.0.0/16</block>
  <block id="00ee8ecc0f95892eb58786ee6e94e4e7" category="paragraph">En la tabla siguiente se muestra el intervalo para la subred B: 100.128.0.0/16.</block>
  <block id="42e7db8b69b0d0451fe5e7e94d271956" category="cell">i4b</block>
  <block id="672e53647fb3fbb550b46ac1eaaad363" category="cell">100.128.100.1 - 100.128.100.255</block>
  <block id="50641838fba9970d18ab721f2d775331" category="cell">i2b</block>
  <block id="6240652cf0cb3a0056e31569edba6f3e" category="cell">100.128.102.0</block>
  <block id="6bbae520cb1416f9508d58010c4df4a0" category="cell">i2b o i4b</block>
  <block id="3ac8689fd677355ec3c1098b78d717dd" category="cell">100.128.102.1 - 100.128.102.255</block>
  <block id="61b0ff8b431abb2cad4481cab938c338" category="cell">100.128.104.1 - 100.128.104.255</block>
  <block id="83dc7e1fb9aa3660d2fc0ccb6e72bd1a" category="cell">100.128.1.1 - 100.128.99.255</block>
  <block id="cd42d4848d52f3ad668601f29b839282" category="admonition">No todas las IP de los rangos anteriores se utilizan en esta arquitectura verificada de NetApp. Muestran cómo se pueden preasignar direcciones IP para permitir una sencilla expansión del sistema de archivos mediante un esquema de direccionamiento IP coherente. En este esquema, los nodos de archivo BeeGFS y los ID de servicio corresponden con el cuarto octeto de un rango conocido de IP. El sistema de archivos podría escalarse más allá de los 255 nodos o servicios si fuera necesario.</block>
  <block id="d8ca15234a274a841f06a1d429141054" category="summary">Configure las redes en el controlador de administración de la placa base (BMC) de cada servidor y configure el puerto de administración en cada controladora.</block>
  <block id="1cfd8029b1372ddacb436890446b43fd" category="doc">Configure los nodos de archivo y los nodos de bloque</block>
  <block id="d900235d99f416c3bfda0461cbb71f26" category="paragraph">Aunque la mayoría de las tareas de configuración de software se automatizan a través de las colecciones Ansible proporcionadas por NetApp, debe configurar la red en la controladora de gestión de placa base (BMC) de cada servidor y configurar el puerto de gestión de cada controladora.</block>
  <block id="02f510b4f0f01c83fb0898c7c21472f3" category="section-title">Configure los nodos de archivo</block>
  <block id="58ee770c560ec650edbb0731c6882d53" category="list-text">Configure la red en el controlador de administración de la placa base (BMC) de cada servidor.</block>
  <block id="75ae096871a25daf3dcd5da902c66ecf" category="inline-link">Documentación de Lenovo ThinkSystem</block>
  <block id="501998f9bebe4eeda8377a94578e9255" category="paragraph">Para aprender a configurar la red para los nodos de archivo Lenovo SR665 validados, consulte<block ref="3a3ba9924e08a04d2eb4947b4cdb2550" category="inline-link-rx"></block>.</block>
  <block id="0c112c89dd8c3ce2b92d5e4844ea4641" category="admonition">Un controlador de administración en placa base (BMC), conocido a veces como procesador de servicios, es el nombre genérico para la capacidad de administración fuera de banda integrada en varias plataformas de servidor que pueden proporcionar acceso remoto aunque el sistema operativo no esté instalado o sea accesible. Los proveedores suelen comercializar esta funcionalidad con su propia Marca. Por ejemplo, en el Lenovo SR665, el BMC se denomina _Lenovo XClarity Controller (XCC)_.</block>
  <block id="290a84841d7341364c4abf862a74583f" category="list-text">Configure los ajustes del sistema para obtener el máximo rendimiento.</block>
  <block id="04c7f6322804081c61ca0d88cef85904" category="paragraph">Puede configurar los ajustes del sistema utilizando la configuración UEFI (anteriormente conocida como BIOS) o utilizando las API Redfish proporcionadas por muchos BMCs. La configuración del sistema varía según el modelo de servidor utilizado como nodo de archivo.</block>
  <block id="354f37da23eacae1fc163775964a0a2e" category="paragraph">Para aprender a configurar los ajustes del sistema para los nodos de archivo Lenovo SR665 validados, consulte <block ref="dbe1843153b6696d3dd846d3a25ea7b2" category="inline-link-macro-rx"></block>.</block>
  <block id="7e57b24d8418675e1eb9185b3a783ef7" category="list-text">Instale Red Hat 8.4 y configure el nombre de host y el puerto de red que se usan para gestionar el sistema operativo, incluida la conectividad SSH desde el nodo de control Ansible.</block>
  <block id="63b34e32fcac1724c46edd575672332b" category="paragraph">No configure las IP en ninguno de los puertos InfiniBand en este momento.</block>
  <block id="e9074e57167186919a163cd099187dd0" category="admonition">Si bien no es estrictamente necesario, las secciones posteriores suponen que los nombres de host están numerados secuencialmente (como h1-HN) y hacen referencia a tareas que deben completarse en hosts pares versus impar.</block>
  <block id="da5ddad82ac3e5b8ada040f6f5d0b4b1" category="list-text">Utilice RedHat Subscription Manager para registrar y suscribirse al sistema para permitir la instalación de los paquetes necesarios desde los repositorios oficiales de Red Hat y para limitar las actualizaciones a la versión compatible de Red Hat:<block ref="2663dc23102930c1933b613d215814ae" prefix=" " category="inline-code"></block>. Para ver instrucciones, consulte<block ref="2e2e1be81972e19947d90393d5319b6e" category="inline-link-rx"></block> y.. <block ref="bbd834e2960f33a50fb102fd4d31a6d9" category="inline-link-rx"></block>.</block>
  <block id="577885e812bad7e4780317a271722339" category="list-text">Active el repositorio de Red Hat que contiene los paquetes necesarios para la alta disponibilidad.</block>
  <block id="3c438be737391744e2fed6f73c418638" category="inline-link-macro">Requisitos tecnológicos</block>
  <block id="f12bdbd9e0ff4f2d314f49b8ae9d6e79" category="list-text">Actualice todo el firmware de HCA ConnectX-6 a la versión recomendada en <block ref="27ecbcefd12957257b84a6d4c5608591" category="inline-link-macro-rx"></block>.</block>
  <block id="33abf34a1ac99d306f38ad532ed75170" category="inline-link-macro">guía del usuario</block>
  <block id="de2787072a70ede6b3c4b90ff28fe789" category="inline-link">Mlxup: Utilidad de actualización y consulta</block>
  <block id="15c6822a2ade4cd67d3e96c043806b65" category="paragraph">Esta actualización se puede realizar descargando y ejecutando una versión de la herramienta mlxup que incluye el firmware recomendado. Puede descargar esta herramienta desde<block ref="d22fd7ba0031fc3b862dce4cf129cfa5" category="inline-link-rx"></block> (<block ref="841da9e9d7f929a00ebef7288ee21ef7" category="inline-link-macro-rx"></block>).</block>
  <block id="febfb51b621938c49980eee52ab6a373" category="section-title">Configure los nodos de bloque</block>
  <block id="1dab115fdeed11b46ad9a32f690cfc8a" category="paragraph">Configure los nodos de bloque EF600 configurando el puerto de gestión en cada controladora.</block>
  <block id="0631592349fc286da7627270b9c9b359" category="list-text">Configure el puerto de gestión en cada controladora EF600.</block>
  <block id="3f7c08d9f511dbd36a44bc681e25e3bf" category="inline-link">Centro de documentación de E-Series</block>
  <block id="83398f0ded44dc933df951171f29b604" category="paragraph">Para obtener instrucciones sobre cómo configurar los puertos, vaya a la<block ref="4719a190e5f3bfbda84ab0e6295af1ef" category="inline-link-rx"></block>.</block>
  <block id="a1cdd0715dd7993c1664eea6d7f39810" category="list-text">De manera opcional, establezca el nombre de la cabina de almacenamiento para cada sistema.</block>
  <block id="6c8f452018d59ce25e69f9d3f8851b32" category="paragraph">Establecer un nombre puede facilitar la referencia a cada sistema en las secciones siguientes. Para obtener instrucciones sobre cómo configurar el nombre de la matriz, vaya a la<block ref="4719a190e5f3bfbda84ab0e6295af1ef" category="inline-link-rx"></block>.</block>
  <block id="561abcc4bd5f30a9d5ee1e4c64d9a10d" category="admonition">Si bien no es estrictamente necesario, los temas posteriores presumen que los nombres de las cabinas de almacenamiento están numerados secuencialmente (como c1 - CN) y consulte los pasos que deben completarse en sistemas impar frente a sistemas numerados.</block>
  <block id="f8ed0cba5469cc89e05fa4d3025eca1b" category="summary">Las variaciones de diseño para un elemento básico de gran capacidad.</block>
  <block id="8b074fc693c7d8fd35c61de8fe2dee9a" category="doc">Elemento básico de gran capacidad</block>
  <block id="fb5708557d5e7c6d44ac55ef4c09a054" category="paragraph">El diseño de la solución BeeGFS estándar se ha diseñado teniendo en cuenta las cargas de trabajo de alto rendimiento. Los clientes que busquen casos de uso de gran capacidad deben observar las variaciones en las características de diseño y rendimiento descritas aquí.</block>
  <block id="800f7da804cf784ad962d085fbc70486" category="section-title">Configuración de hardware y software</block>
  <block id="90f177623f1131fc7f45e82db6189a1b" category="paragraph">La configuración de hardware y software del elemento básico de alta capacidad es de serie, a excepción de que las controladoras EF600 deben sustituirse por una controladora EF300 con opción de conectarse entre 1 y 7 bandejas de expansión IOM con 60 unidades cada una para cada cabina de almacenamiento, un total de 2 a 14 bandejas de expansión por bloque de construcción.</block>
  <block id="467fccc62f2ea7630303f15d47a54aa7" category="paragraph">Es probable que los clientes que implementan un diseño de elemento básico de gran capacidad utilicen solo la configuración del estilo de bloque de creación base compuesta por servicios de gestión, metadatos y almacenamiento de BeeGFS para cada nodo. Para reducir la rentabilidad, los nodos de almacenamiento de gran capacidad deben aprovisionar volúmenes de metadatos en las unidades NVMe en el compartimento de controladora EF300 y deben aprovisionar volúmenes de almacenamiento a las unidades NL-SAS de las bandejas de expansión.</block>
  <block id="774f4231e5651061791e65cf90314897" category="paragraph"><block ref="774f4231e5651061791e65cf90314897" category="inline-image-macro-rx" type="image"></block></block>
  <block id="137e4d3e0bc5586af6fc7ca9441511e1" category="section-title">Directrices de tamaño</block>
  <block id="267aa4fef181a2097a06345c854cc106" category="paragraph">Estas directrices de tamaño suponen que los bloques básicos de gran capacidad se configuran con un grupo de volúmenes SSD de 2+2 NVMe para los metadatos en el compartimento EF300 básico y 6 grupos de volúmenes NL-SAS de 8+2 por bandeja de ampliación IOM para el almacenamiento.</block>
  <block id="963320465e8fcfa25188a669a43858c4" category="cell">Tamaño de unidad (HDD de capacidad)</block>
  <block id="55fd8e839de07671a6869fad80279ab9" category="cell">Capacidad por BB (1 bandeja)</block>
  <block id="001115a96afe0add22e654316239365a" category="cell">Capacidad por BB (2 bandejas)</block>
  <block id="b9781606af717d9b153714ca7a3a2d33" category="cell">Capacidad por BB (3 bandejas)</block>
  <block id="345ffe7c9ac213823037fbcdca8f4ef2" category="cell">Capacidad por BB (4 bandejas)</block>
  <block id="6b7e0bcfc566b639bc0d10bad9f871dd" category="cell">4 TB</block>
  <block id="676efbc64df1b4909842616f91027d96" category="cell">439 TB</block>
  <block id="25c359cf674976f1bd282922ff6ed0e3" category="cell">878 TB</block>
  <block id="1416acbb13ce37c62934fde6e37b3c6b" category="cell">1317 TB</block>
  <block id="3aa071e61efaac2113f5fc251c03b688" category="cell">1756 TB</block>
  <block id="0706c165b0123479cffaac9b374484f0" category="cell">8 TB</block>
  <block id="76a91245e71b558dbe0040ea8b7b3c21" category="cell">2634 TB</block>
  <block id="dd9fa1084ca34ce21c6b127bd37446b9" category="cell">3512 TB</block>
  <block id="1191f788083da9194f8eef9400d10898" category="cell">10 TB</block>
  <block id="6587b6d3747beeadda1eccb500e9771b" category="cell">1097 TB</block>
  <block id="3a89d830e84dc7715fe902bb9adac448" category="cell">2195 TB</block>
  <block id="1024776bf84a4c2469e49539ac248790" category="cell">3292 TB</block>
  <block id="0af601e969fa263e021792cfd1dfd4af" category="cell">4390 TB</block>
  <block id="aad11c7dd0feb18c08cb728eea0a8c46" category="cell">12 TB</block>
  <block id="0fc4914bd341e29e4eef438ff8c44bdb" category="cell">3951 TB</block>
  <block id="4d63a00ef9361479d55d2914d7f75e28" category="cell">5268 TB</block>
  <block id="324f218b8144e744b54eb58e0bf14eea" category="cell">16 TB</block>
  <block id="af4d6969d11876b269a31ebb39d7c34e" category="cell">7024 TB</block>
  <block id="7ba1b40b5eed0a67df50aa00c907f9ac" category="cell">18 TB</block>
  <block id="23f86ea0b6ba63be94542d36e1d0ac20" category="cell">1975 TB</block>
  <block id="01dbb09e4b3f7243c1cae305daf2972a" category="cell">5927 TB</block>
  <block id="547259566f92db3383cbd2575b9d68c1" category="cell">7902 TB</block>
  <block id="cef5ab698867f39ec4b495cba708da1a" category="summary">La solución BeeGFS en NetApp combina el sistema de archivos BeeGFS en paralelo con los sistemas de almacenamiento EF600 de NetApp para obtener una infraestructura fiable, escalable y rentable que pueda seguir el ritmo de las cargas de trabajo más exigentes.</block>
  <block id="c0c4b60d27032c028c91440e9d3be949" category="doc">Descripción general de la solución</block>
  <block id="038a39033a8ecd147024e4510f646b8c" category="paragraph">Este diseño aprovecha la densidad de rendimiento ofrecida por el hardware de almacenamiento y servidores empresariales más reciente, y las velocidades de red. La necesidad de nodos de archivo con procesadores AMD EPYC 7003 "Milan" dobles y la compatibilidad con PCIe 4.0 con conexión directa mediante InfiniBand de 200 GB (HDR) para nodos de bloque que proporcionan NVMe integral y NVMeOF con el protocolo NVMe/IB.</block>
  <block id="c6ff1c8ffcd7024a30e7240129bf57a8" category="section-title">Programa NVA</block>
  <block id="f109ec830b8ab112f8e89da398d4ca0f" category="paragraph">BeeGFS en la solución de NetApp forma parte del programa Arquitectura verificada de NetApp (NVA), que proporciona a los clientes configuraciones de referencia y directrices para el ajuste de tamaño en cargas de trabajo específicas y casos prácticos. Las soluciones de NVA se han probado exhaustivamente y están diseñadas para minimizar los riesgos de la puesta en marcha y acelerar el plazo de comercialización.</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="section-title">Casos de uso</block>
  <block id="9a250aa43ea6738ca4cd441c42e26b4e" category="paragraph">Los siguientes casos prácticos se aplican a BeeGFS en la solución de NetApp:</block>
  <block id="f743e786ba2a29eb033d8f7e1e2101d3" category="inline-link">BeeGFS para IA: Realidad versus ficción</block>
  <block id="b761cb5be0f07b26af56bda6c19cf90a" category="list-text">Inteligencia artificial (IA), incluido el aprendizaje automático (ML), el aprendizaje profundo (DL), el procesamiento de lenguaje natural a gran escala (NLP) y la comprensión del lenguaje natural (NLU). Para obtener más información, consulte<block ref="e0ec3865f791595484686c9b79436d0e" category="inline-link-rx"></block>.</block>
  <block id="3476c4aa4908c2b49f576f13d95d657a" category="inline-link">Por qué BeeGFS va más allá del HPC</block>
  <block id="4becc7ac7e53ca421f06307e37478c8a" category="list-text">Informática de alto rendimiento (HPC), incluidas aplicaciones aceleradas por MPI (interfaz de paso de mensajes) y otras técnicas informáticas distribuidas. Para obtener más información, consulte<block ref="3f795d4ce44ed51872cb7704a4553f2a" category="inline-link-rx"></block>.</block>
  <block id="89b4dd8e856627d44ffe8d3d0066cd98" category="list-text">Cargas de trabajo de aplicaciones caracterizadas por:</block>
  <block id="c9ccfce7935790c9fd0d9ccf98da5177" category="list-text">Leer o escribir en archivos de más de 1 GB</block>
  <block id="680e47afa4860ce2ac4a078a0d466121" category="list-text">Leyendo o escribiendo en el mismo archivo por varios clientes (10s, 100s y 1000s).</block>
  <block id="56e0e65d3207ad1f0f7efb003935c936" category="list-text">Conjuntos de datos de varios terabytes o varios petabytes.</block>
  <block id="f36d694578bdc30f9cfa5faeb163df61" category="list-text">Entornos que requieren un único espacio de nombres de almacenamiento optimizable para una combinación de archivos grandes y pequeños.</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">Beneficios</block>
  <block id="abc4f101e3891d158ab6ad80a3568c46" category="paragraph">Entre las ventajas clave del uso de BeeGFS en NetApp se incluyen:</block>
  <block id="f1161b5399c6f13433f0d7ef82e26dfc" category="list-text">Disponibilidad de diseños de hardware verificados que proporcionan una integración completa de los componentes de hardware y software para garantizar un rendimiento y una fiabilidad previsibles.</block>
  <block id="d678167c236b5d1af08b550c5038cccb" category="list-text">Puesta en marcha y gestión con Ansible para obtener más simplicidad y coherencia a escala.</block>
  <block id="82a72442e588bfcf2e472da1d9834f2a" category="inline-link">Presentación de un marco para supervisar las soluciones E-Series de NetApp</block>
  <block id="e30389e6b0882b87124e5401375e84e3" category="list-text">Supervisión y observabilidad proporcionadas mediante el Analizador de rendimiento de E-Series y el complemento BeeGFS. Para obtener más información, consulte<block ref="5fd4bf3409228b006228517662906ac3" category="inline-link-rx"></block>.</block>
  <block id="fc20f26327fc88da82154f6c09f6991d" category="list-text">Alta disponibilidad con una arquitectura de discos compartidos que proporciona durabilidad y disponibilidad de los datos.</block>
  <block id="d47615808883de28c6943d206bf0d2cb" category="inline-link">Kubernetes se ha encontrado con BeeGFS: Un ejemplo de inversión lista para el futuro</block>
  <block id="7f62321e8e75c63a1fe94a4d41435dac" category="list-text">Compatibilidad con la gestión y orquestación de cargas de trabajo modernas mediante contenedores y Kubernetes. Para obtener más información, consulte<block ref="3ba4b256f7ab4762b0c431fc1809aa9b" category="inline-link-rx"></block>.</block>
  <block id="cf03dce6d27c37ae2bf803a5ad8ddb93" category="section-title">Arquitectura de ALTA DISPONIBILIDAD</block>
  <block id="5c306284db745339f153886fd666ba5f" category="paragraph">BeeGFS en NetApp amplía la funcionalidad de la edición empresarial de BeeGFS mediante la creación de una solución totalmente integrada en hardware de NetApp que permite una arquitectura de alta disponibilidad (ha) de disco compartido.</block>
  <block id="5481b5a39e7ecc68d8956711964cffcb" category="admonition">Aunque la edición de la comunidad BeeGFS puede utilizarse de forma gratuita, la edición para empresas requiere adquirir un contrato de suscripción de soporte profesional de un partner como NetApp. La edición empresarial permite utilizar varias funciones adicionales como la resiliencia, la aplicación de cuotas y pools de almacenamiento.</block>
  <block id="d1d1e6e3c28393c984fbb987be60324d" category="paragraph">En la figura siguiente se comparan las arquitecturas de alta disponibilidad de disco compartido y nada compartido.</block>
  <block id="2840bfa899c06356961cfdc8e84723c3" category="paragraph"><block ref="2840bfa899c06356961cfdc8e84723c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52feb691d73302501483cced28704021" category="inline-link">Anuncio de alta disponibilidad de BeeGFS compatible con NetApp</block>
  <block id="0bd36571bea371893d99d201b7835845" category="paragraph">Para obtener más información, consulte<block ref="eb50143d83b72cd897fd47297781957c" category="inline-link-rx"></block>.</block>
  <block id="d51d5ee15f404c2f4f7863bebcde1fac" category="section-title">Ansible</block>
  <block id="6ec27f578410cadd1a5e4b274d75cdb2" category="inline-link">GitHub de E-Series de NetApp</block>
  <block id="d643841fe27d769d39ef1865b69cb48b" category="paragraph">BeeGFS en NetApp se entrega y se pone en marcha mediante la automatización de Ansible, que se encuentra alojado en GitHub y Ansible Galaxy (puede acceder a la colección BeeGFS en<block ref="6e6b4aec10f34b8873e2101fed073d9a" category="inline-link-rx"></block> y..<block ref="6e9ef2e0fff4844f9560394ab05a51e9" category="inline-link-rx"></block>). A pesar de que Ansible se prueba principalmente con el hardware utilizado para ensamblar los elementos básicos de BeeGFS, puede configurarlo para que se ejecute prácticamente en cualquier servidor basado en x86 utilizando una distribución de Linux compatible.</block>
  <block id="dcd417571f5073f074067e7d0d445a2e" category="inline-link">Puesta en marcha de BeeGFS con almacenamiento E-Series</block>
  <block id="cb8de1e2639bc0378b3714cf6ba35837" category="paragraph">Para obtener más información, consulte<block ref="8af04fa161ecb5f3ec4feab8d52e96c8" category="inline-link-rx"></block>.</block>
  <block id="39f54b8b12af6ae0edd74b4db43d9959" category="summary">La configuración de hardware para BeeGFS en NetApp incluye nodos de archivo y cableado de red.</block>
  <block id="a80f40a4cf172e4461c613d2afc0bade" category="doc">Configuración de hardware</block>
  <block id="a6f76304e97d4b2df31a130d24073f88" category="section-title">Configuración de nodos de archivos</block>
  <block id="8e9473694bc8ee293e1f6c4f730ab4ed" category="paragraph">Los nodos de archivos tienen dos sockets de CPU configurados como zonas NUMA independientes, que incluyen acceso local a un mismo número de ranuras PCIe y memoria.</block>
  <block id="81fb4a697d99bad44c068f68db513e26" category="paragraph">Los adaptadores InfiniBand deben llenarse en las ranuras o elevadores PCI adecuados, por lo que la carga de trabajo se equilibrará entre los canales PCIe y los canales de memoria disponibles. Equilibre la carga de trabajo aislando completamente el trabajo de los servicios BeeGFS individuales a un nodo NUMA en particular. El objetivo es lograr un rendimiento similar en cada nodo de archivo como si se tratara de dos servidores de un único socket independientes.</block>
  <block id="26dc1928abfabc3027cfa2e4f0b2f57f" category="paragraph">En la figura siguiente se muestra la configuración NUMA del nodo de archivo.</block>
  <block id="84d47488591b2b0cb81b407a80494c91" category="paragraph"><block ref="84d47488591b2b0cb81b407a80494c91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc560c8656cb52d0c2376a0dbb2ac436" category="paragraph">Los procesos BeeGFS se anclan a una zona NUMA en particular para garantizar que las interfaces utilizadas se encuentren en la misma zona. Esta configuración evita la necesidad de acceso remoto a través de la conexión entre sockets. La conexión entre zócalos se conoce a veces como el enlace QPI o GMI2; incluso en arquitecturas de procesador modernas, pueden crear un cuello de botella al utilizar redes de alta velocidad como HDR InfiniBand.</block>
  <block id="037505dd545df2577c95982dd52a9497" category="section-title">Configuración del cableado de red</block>
  <block id="2efc6e5efcfc3424383b80badbc6f2f8" category="paragraph">Dentro de un elemento básico, cada nodo de archivo está conectado a dos nodos de bloques mediante un total de cuatro conexiones InfiniBand redundantes. Además, cada nodo de archivo tiene cuatro conexiones redundantes a la red de almacenamiento de InfiniBand.</block>
  <block id="c2b0d4abc479963299ef11f7007b04d9" category="paragraph">En la siguiente figura, observe que:</block>
  <block id="ccebd32ee2768501ecf2042e521d090c" category="list-text">Todos los puertos de nodos de archivos delineados en verde se utilizan para conectarse al entramado de almacenamiento; todos los demás puertos de nodos de archivos son los puertos de nodos de bloques.</block>
  <block id="01be869a64586dc6df5d40be148742a7" category="list-text">Dos puertos InfiniBand en una zona NUMA específica se conectan a las controladoras A y B del mismo nodo de bloque.</block>
  <block id="92d102b77ed7526653d6ed77bc5f9297" category="list-text">Los puertos del nodo NUMA 0 siempre se conectan al primer nodo de bloque.</block>
  <block id="41d34f3f75f0a6f23825fec8c1f6b167" category="list-text">Los puertos del nodo NUMA 1 se conectan al segundo nodo de bloque.</block>
  <block id="058a7d9db61c859b343066aa0c6cd3c7" category="paragraph"><block ref="058a7d9db61c859b343066aa0c6cd3c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="109d8b81996cf829eba8acc62259eaee" category="admonition">Para las redes de almacenamiento con switches redundantes, los puertos descritos en verde claro deben conectarse a un switch y los puertos en verde oscuro a otro switch.</block>
  <block id="1109e0767ef0b323f02f85cdaa9a589d" category="paragraph">La configuración del cableado que se muestra en la figura permite a cada servicio BeeGFS:</block>
  <block id="12e9ec8c0cb3aa87bfb400a73712d79b" category="list-text">Se ejecuta en la misma zona NUMA independientemente del nodo de archivo que esté ejecutando el servicio BeeGFS.</block>
  <block id="488f6220ee8bab2e1e3621f7f99b598c" category="list-text">Tener rutas secundarias óptimas a la red de almacenamiento front-end y a los nodos de bloques de back-end, independientemente de dónde se produzca un fallo.</block>
  <block id="e2ae85c4e917fafc3b545710dcc3fdf1" category="list-text">Minimice los efectos en el rendimiento si un nodo de archivo o una controladora de un nodo de bloque requiere mantenimiento.</block>
  <block id="53c31a8ba69af9d096629948d271d34d" category="paragraph-title">Cableado para aprovechar el ancho de banda</block>
  <block id="76af1dbb7a81b9258eeb702dd63164e2" category="paragraph">Para aprovechar todo el ancho de banda bidireccional de PCIe, asegúrese de que un puerto de cada adaptador InfiniBand se conecta a la estructura de almacenamiento y el otro puerto se conecta a un nodo de bloque. La velocidad máxima teórica de un puerto HDR InfiniBand es de 25 Gbps (sin tener en cuenta la señalización y otros gastos generales). El ancho de banda máximo de dirección única de una ranura PCIe 4.0 x16 es de 32 GB/s, lo que crea un posible cuello de botella al implementar nodos de archivos que incorporen adaptadores InfiniBand de puerto doble que en teoría puedan manejar 50 GB/s de ancho de banda.</block>
  <block id="33f3e0c9879fd051eb380c62267a24cf" category="paragraph">La siguiente figura muestra el diseño del cableado utilizado para aprovechar todo el ancho de banda bidireccional de PCIe.</block>
  <block id="5a81a38e29a457f16f6a1a9146cb73de" category="paragraph"><block ref="5a81a38e29a457f16f6a1a9146cb73de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a72dacfce92d062255a929bbb18fc8d" category="paragraph">Para cada servicio BeeGFS, utilice el mismo adaptador para conectar el puerto preferido utilizado para el tráfico de cliente con la ruta al controlador de nodos de bloque que es el propietario principal de dichos volúmenes de servicios. Para obtener más información, consulte <block ref="1ce6299bc86692b3e97783bdba904848" category="inline-link-macro-rx"></block>.</block>
  <block id="ce0a47ccdc84e9c90b9185aea530a07b" category="summary">Se requieren equipos, cables y configuraciones específicos para admitir BeeGFS en la solución de NetApp, que combina el sistema de archivos en paralelo BeeGFS con los sistemas de almacenamiento EF600 de NetApp.</block>
  <block id="fb7e8abee0ed4186f8c4b871d0ea6ac3" category="doc">Descripción general del diseño</block>
  <block id="7cac973d2abc65a232606799a99be23c" category="paragraph">Obtenga más información:</block>
  <block id="6ee419ed5a936cfed45771da0b746c94" category="list-text"><block ref="6ee419ed5a936cfed45771da0b746c94" category="inline-link-macro-rx"></block></block>
  <block id="1ce6299bc86692b3e97783bdba904848" category="list-text"><block ref="1ce6299bc86692b3e97783bdba904848" category="inline-link-macro-rx"></block></block>
  <block id="57448c4b7cf64af279b612502ae49c08" category="inline-link-macro">Verificación del diseño</block>
  <block id="2c39c30b16a5c14e4b3bd73361f541c5" category="list-text"><block ref="2c39c30b16a5c14e4b3bd73361f541c5" category="inline-link-macro-rx"></block></block>
  <block id="b7f5b93ad68dd5ab95107b85145443e8" category="list-text"><block ref="b7f5b93ad68dd5ab95107b85145443e8" category="inline-link-macro-rx"></block></block>
  <block id="9db3ca538820d0cfb7b44ef80f16ca98" category="inline-link-macro">Ajuste del rendimiento</block>
  <block id="a51906ad0f905e303cf3b09d82ec1db0" category="list-text"><block ref="a51906ad0f905e303cf3b09d82ec1db0" category="inline-link-macro-rx"></block></block>
  <block id="585389cefc924819e7ab6d5b7eba5f03" category="paragraph">Arquitecturas derivadas con variaciones en el diseño y el rendimiento:</block>
  <block id="a8bb1258f035db2e1b989badd7504202" category="summary">Para definir la configuración de los nodos de archivos y bloques, debe crear un inventario de Ansible que represente el sistema de archivos BeeGFS que desea implementar.</block>
  <block id="811a6b46c73b2ff846d806c69f166392" category="paragraph">Para definir la configuración de los nodos de archivos y bloques, debe crear un inventario de Ansible que represente el sistema de archivos BeeGFS que desea implementar. El inventario incluye hosts, grupos y variables que describen el sistema de archivos BeeGFS deseado.</block>
  <block id="f710d81b04cfd57ef65bc4cca28bc3d4" category="section-title">Paso 1: Definir la configuración para todos los bloques de construcción</block>
  <block id="08ecdaa3e32e095bd8f7ecec87a6ffe1" category="paragraph">Defina la configuración que se aplica a todos los bloques de creación, independientemente del perfil de configuración que pueda aplicar a ellos individualmente.</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="list-title">Antes de empezar</block>
  <block id="17de9612747c3e48aee3a32b1da30959" category="list-text">Utilice un sistema de control de origen como Bitbucket o Git para almacenar el contenido del directorio que contiene los archivos de libro de aplicaciones y inventario de Ansible.</block>
  <block id="fc62f55b3e3e861f3b20a7ae40279cab" category="list-text">Cree un<block ref="a084b794bc0759e7a6b77810e01874f2" prefix=" " category="inline-code"></block> Archivo que especifica los archivos que Git debe ignorar. Esto ayuda a evitar el almacenamiento de archivos grandes en Git.</block>
  <block id="1633329793556e695f8ae53c7f3c8756" category="list-text">En el nodo de control de Ansible, identifique un directorio que desea usar para almacenar los archivos del inventario y el libro de estrategia de Ansible.</block>
  <block id="2af34d0fd4b17ecc42b7fb40d3a2019d" category="paragraph">A menos que se indique lo contrario, todos los archivos y directorios creados en este paso y los pasos siguientes se crean en relación con este directorio.</block>
  <block id="31f13138a9fb78368dd1c5b8b9cb522e" category="list-text">Cree los siguientes subdirectorios:</block>
  <block id="f502c582ecc3459969f6ae37e60464d1" category="paragraph"><block ref="3342582e194d63e4c91b56623752c9c6" prefix="" category="inline-code"></block></block>
  <block id="f2151fe487fd8f761c16c5d92971a46f" category="paragraph"><block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix="" category="inline-code"></block></block>
  <block id="5fa06f80972ff05cf8eb18aa9af90bbd" category="paragraph"><block ref="2fc9e51174a78dd5bfc57e8e368590b3" prefix="" category="inline-code"></block></block>
  <block id="49266d47983011d7ceee48c764eaad20" category="section-title">Paso 2: Definir la configuración para nodos de archivos y bloques individuales</block>
  <block id="bcbd88b78dd9388280471b20c50ef836" category="paragraph">Defina la configuración que se aplica a los nodos de archivo individuales y a los nodos individuales de los bloques de creación.</block>
  <block id="4ace9bc4fa627e77f6406dd2f64e2028" category="list-text">Inferior<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Cree un archivo para cada nodo de archivo BeeGFS denominado<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> Con el siguiente contenido, prestando especial atención a las notas relativas al contenido que se debe rellenar para los nombres de host y IP del clúster BeeGFS que terminan en números pares y pares.</block>
  <block id="65742ecf20e6c51de487a8a5c4e5d085" category="paragraph">Inicialmente, los nombres de la interfaz del nodo de archivos coinciden con los que se enumeran aquí (como ib0 o ibs1f0). Estos nombres personalizados se configuran en <block ref="9c327e4b0e0a41a0187df973a6c1c1f1" category="inline-xref-macro-rx"></block>.</block>
  <block id="c1df6ea154e4f3c22584570de9017604" category="admonition">Si ya ha implementado el clúster BeeGFS, debe detener el clúster antes de añadir o cambiar direcciones IP configuradas de forma estática, incluidas las IP y las IP del clúster utilizadas para NVMe/IB. Esto es necesario para que estos cambios entren en vigencia correctamente y no interrumpan las operaciones del clúster.</block>
  <block id="64f6e7ce4bce20648e5b5817cc7c9d5d" category="list-text">Inferior<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Cree un archivo para cada nodo de bloque BeeGFS denominado<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> y rellene con el siguiente contenido.</block>
  <block id="350317d433df31d79bf0ded1b3748715" category="paragraph">Preste especial atención a las notas en relación con el contenido para rellenar los nombres de las cabinas de almacenamiento que terminan en números impar frente a pares.</block>
  <block id="d9aa2babb29bda2ebcdcb05c255e1dd3" category="paragraph">Para cada nodo de bloque, cree un archivo y especifique el<block ref="966b4c423b24fddfa8c3a1a862b8ee19" prefix=" " category="inline-code"></block> Para una de las dos controladoras (generalmente A).</block>
  <block id="a79b02f70003beee254343e4cae10ad4" category="section-title">Paso 3: Defina la configuración que debe aplicarse a todos los nodos de archivo y bloque</block>
  <block id="7a7623c76e8a35ad9b47b72876017ffc" category="paragraph">Puede definir la configuración común a un grupo de hosts en<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> en un nombre de archivo que corresponde al grupo. Esto evita la repetición de una configuración compartida en varios lugares.</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">Acerca de esta tarea</block>
  <block id="b8250a298e8217ebff19d4f7c62cf654" category="inline-link">Uso de variables</block>
  <block id="45c67f165a1990ff04bfa4ffd3ad1908" category="paragraph">Los hosts pueden estar en más de un grupo y, en tiempo de ejecución, Ansible elige qué variables aplican a un host determinado basándose en sus reglas de prioridad variable. (Para obtener más información sobre estas reglas, consulte la documentación de Ansible para<block ref="e846c866a706aed07204d4b81c43f562" category="inline-link-rx"></block>.)</block>
  <block id="30670ef79ffcebf619cb84794bb9f467" category="paragraph">Las asignaciones de hosts a grupos se definen en el archivo de inventario real de Ansible, que se crea hacia el final de este procedimiento.</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="paragraph-title">Paso</block>
  <block id="13fe78da26730165534ca728d16729df" category="paragraph">En Ansible, se puede definir cualquier configuración que desee aplicar a todos los hosts en un grupo llamado<block ref="b1c94ca2fbc3e78fc30069c8d0f01680" prefix=" " category="inline-code"></block>. Cree el archivo<block ref="ee7b44b9b73d4c691251cbf5c8dff5c5" prefix=" " category="inline-code"></block> con el siguiente contenido:</block>
  <block id="970c2de774d4cba551050f0b96346cc6" category="section-title">Paso 4: Defina la configuración que debe aplicarse a todos los nodos de archivo</block>
  <block id="68decee7f537598fe42c449c7effd748" category="paragraph">La configuración compartida para los nodos de archivo se define en un grupo denominado<block ref="2325c19457d6105d5d5f3837fa282ef7" prefix=" " category="inline-code"></block>. Los pasos de esta sección crean la configuración que se debe incluir en<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> archivo.</block>
  <block id="01eabbaba4e3200ffffeaf687ced4089" category="list-text">En la parte superior del archivo, defina los valores predeterminados, incluida la contraseña que se utilizará como<block ref="d338b3f0f405eb5e51c8cc1e5ca66f02" prefix=" " category="inline-code"></block> usuario en los nodos de archivo.</block>
  <block id="c61c5c1226a5daff294e618d1b90ec26" category="admonition">Especialmente en entornos de producción, no almacene contraseñas en texto sin formato. En su lugar, utilice Ansible Vault (consulte<block ref="69d38d4b5deda302461f6461c5317006" category="inline-link-rx"></block>) o el<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> al ejecutar el libro de estrategia. Si la<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> ya lo es<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block>, puede omitir opcionalmente la<block ref="424240cd4e5c359372b7f199431603d5" prefix=" " category="inline-code"></block>.</block>
  <block id="3eeae040dcd4e8e08ba89cd729351414" category="list-text">Opcionalmente, configure un nombre para el clúster de alta disponibilidad (ha) y especifique un usuario para la comunicación dentro del clúster.</block>
  <block id="22bf408c8339ca14dab3745bbe56780d" category="paragraph">Si está modificando el esquema de direcciones IP privadas, también debe actualizar el valor predeterminado<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block>. Esto debe coincidir con lo que configure más adelante para el grupo de recursos BeeGFS Management.</block>
  <block id="ba4d50db9221cc812d5f7981d4600c2d" category="paragraph">Especifique uno o más correos electrónicos que deben recibir alertas para eventos del clúster mediante<block ref="df1376df23c24a2b7d885d84f6116452" prefix=" " category="inline-code"></block>.</block>
  <block id="7509dcf152f48abcba19fa72adedb808" category="inline-link">Configurar la delimitación en un clúster de alta disponibilidad de Red Hat</block>
  <block id="da185ecc8c2bce6af5f506542a665aab" category="list-text">Configure un agente de cercado. (Para obtener información detallada, consulte<block ref="dc7760afd7fe301addd396cbb1b31319" category="inline-link-rx"></block>.) La siguiente salida muestra ejemplos para configurar agentes de cercado comunes. Elija una de estas opciones.</block>
  <block id="b2f365e9dc240069eb174f596f8086dd" category="paragraph">Para este paso, tenga en cuenta que:</block>
  <block id="83a5cc26327b36012de2442c022e0357" category="list-text">De forma predeterminada, la delimitación está activada, pero necesita configurar un elemento _agent_ de cercado.</block>
  <block id="502142ce464e9e0c49b233594ce3af26" category="list-text">La<block ref="c8e769afa51da82b12702e693d24b7f2" prefix=" " category="inline-code"></block> especificado en la<block ref="240a786d8c1f5b2c35c60c8ebccf7fe2" prefix=" " category="inline-code"></block> o.<block ref="50b0206acfcc765475b542e5725091ed" prefix=" " category="inline-code"></block> Debe corresponder con el nombre de host del inventario de Ansible.</block>
  <block id="08c76f94c7c5d2fb0509d39d58f7d298" category="list-text">No se admite la ejecución del clúster BeeGFS sin vallado, especialmente en producción. Esto se debe en gran medida a que los servicios BeeGFS, incluidas las dependencias de recursos como los dispositivos de bloque, conmutan por error debido a un problema, no existe riesgo de acceso simultáneo por parte de varios nodos que provocan daños en el sistema de archivos u otro comportamiento inesperado o no deseado. Si es necesario desactivar el cercado, consulte las notas generales de la guía de inicio y ajuste del rol BeeGFS ha<block ref="7fe58896711b0c9790b9781e9deeeab8" prefix=" " category="inline-code"></block> a falso in<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block>.</block>
  <block id="8134b950ce435c1478c36f8d9e28640a" category="list-text">Hay varios dispositivos de cercado a nivel de nodo disponibles y el rol BeeGFS ha puede configurar cualquier agente de cercado disponible en el repositorio de paquetes de alta disponibilidad de Red Hat. Cuando sea posible, utilice un agente de esgrima que funcione a través del sistema de alimentación ininterrumpida (UPS) o de la unidad de distribución de alimentación en rack (rPDU), Debido a que algunos agentes de cercado, como el controlador de administración de la placa base (BMC) u otros dispositivos de apagado que están integrados en el servidor, puede que no respondan a la solicitud de cercado en determinados casos de fallo.</block>
  <block id="6793d5cb3a8bc008d05678615f821ca7" category="list-text">Habilite el ajuste de rendimiento recomendado en el sistema operativo Linux.</block>
  <block id="951cd0f9ef758f90609564a78a7f36a2" category="paragraph">Aunque muchos usuarios encuentran la configuración predeterminada para los parámetros de rendimiento por lo general funciona bien, de manera opcional, puede cambiar la configuración predeterminada para una carga de trabajo en particular. Como tal, estas recomendaciones se incluyen en el rol BeeGFS, pero no están habilitadas de forma predeterminada para garantizar que los usuarios conozcan el ajuste aplicado a su sistema de archivos.</block>
  <block id="2e468d52e0778656623f6a98e831b3c0" category="paragraph">Para habilitar el ajuste de rendimiento, especifique lo siguiente:</block>
  <block id="5886796779dc029ac41ffca429f9f5d1" category="list-text">(Opcional) puede ajustar los parámetros de ajuste del rendimiento en el sistema operativo Linux según sea necesario.</block>
  <block id="fe7cbbcd6bbbe894cb7364e04d36c7ae" category="inline-link">Sitio de E-Series BeeGFS GitHub</block>
  <block id="a2a731b1d02a58e1e3cbcdae15a63023" category="paragraph">Para obtener una lista completa de los parámetros de ajuste disponibles que puede ajustar, consulte la sección valores predeterminados de ajuste del rendimiento del rol ha de BeeGFS en<block ref="32c82538a26b94ce448b7cce29eb6898" category="inline-link-rx"></block>. Los valores predeterminados pueden anularse para todos los nodos del clúster en este archivo o en<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> archivo para un nodo individual.</block>
  <block id="3abafbb6a7adaface99f5d9cd23b12d0" category="list-text">Para permitir una conectividad completa de 200 GB/HDR entre nodos de bloque y archivo, utilice el paquete Open Subnet Manager (OpenSM) del Mellanox Open Fabrics Enterprise Distribution (MLNX_OFED). (La bandeja de entrada<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> el paquete no admite la funcionalidad de virtualización necesaria.) Aunque se admite la puesta en marcha con Ansible, primero debe descargar los paquetes deseados en el nodo de control de Ansible que se utilice para ejecutar el rol BeeGFS.</block>
  <block id="b98ee7eab01ffcc8be1325c0937f01e8" category="list-text">Uso<block ref="f6e57c9de709e45feb0d955351f53548" prefix=" " category="inline-code"></block> O la herramienta que desee, descargue los paquetes para la versión de OpenSM enumerados en la sección de requisitos tecnológicos del sitio web de Mellanox al<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> directorio. Por ejemplo:</block>
  <block id="372ec1e9d1761b6aa16b9f0b54a4433b" category="list-text">Rellene los siguientes parámetros en<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> (ajuste los paquetes según sea necesario):</block>
  <block id="382cd5df5d20e8ee60bea9f8be1884e3" category="list-text">Configure el<block ref="ab775c875d5f89d991a670444dd32ad2" prefix=" " category="inline-code"></block> Regla para garantizar la asignación coherente de identificadores de puerto InfiniBand lógicos a dispositivos PCIe subyacentes.</block>
  <block id="acb63a2b1a344472ec1b72c168bf5a95" category="paragraph">La<block ref="ab775c875d5f89d991a670444dd32ad2" prefix=" " category="inline-code"></block> La regla debe ser exclusiva de la topología PCIe de cada plataforma de servidor utilizada como nodo de archivo BeeGFS.</block>
  <block id="8cec215dcbcd9866be7ad7f12652d9bd" category="paragraph">Utilice los siguientes valores para nodos de archivo verificados:</block>
  <block id="b535d5891e9112526732586cf8225d93" category="list-text">(Opcional) Actualice el algoritmo de selección del objetivo de metadatos.</block>
  <block id="e3c1663ae83b766d79e4b2be55767666" category="inline-link">Evaluación comparativa de un sistema BeeGFS</block>
  <block id="8dff66e73ac10da6c457b7092c6f9005" category="admonition">En las pruebas de verificación,<block ref="19230d21d2c58f7f5006b34c484cfa39" prefix=" " category="inline-code"></block> Normalmente se utilizó para garantizar que los archivos de prueba se distribuyeron uniformemente en todos los destinos de almacenamiento de BeeGFS durante las pruebas de rendimiento (para obtener más información sobre pruebas de rendimiento, consulte el sitio de BeeGFS para<block ref="831dbcfeece1d9e52170bb11173ba315" category="inline-link-rx"></block>). Con el uso en el mundo real, esto podría hacer que los blancos numerados más bajos se llenen más rápido que los blancos numerados más altos. Omitiendo<block ref="19230d21d2c58f7f5006b34c484cfa39" prefix=" " category="inline-code"></block> y sólo con el valor predeterminado<block ref="268331366c060107e4f79636e2fbd61c" prefix=" " category="inline-code"></block> se ha demostrado que el valor proporciona un buen rendimiento mientras se siguen utilizando todos los objetivos disponibles.</block>
  <block id="aad0b8e6a3552eebcdcf125f218d1954" category="section-title">Paso 5: Defina la configuración para el nodo de bloques común</block>
  <block id="f9ed56c11a1443e285b3d786249fe6aa" category="paragraph">La configuración compartida para los nodos de bloque se define en un grupo denominado<block ref="0b41e1ef1f01592b0f6a7174f0010e75" prefix=" " category="inline-code"></block>. Los pasos de esta sección crean la configuración que se debe incluir en<block ref="7d0d040b7805a1015c58caea5b5d8c55" prefix=" " category="inline-code"></block> archivo.</block>
  <block id="7d304d17d15c3332b9d8584fa30f070b" category="list-text">Establezca la conexión de Ansible como local, proporcione la contraseña del sistema y especifique si deben verificarse los certificados SSL. (Normalmente, Ansible utiliza SSH para conectar a hosts gestionados; sin embargo, en el caso de los sistemas de almacenamiento E-Series de NetApp que se utilizan como nodos de bloques, los módulos usan la API REST para la comunicación.) En la parte superior del archivo, añada lo siguiente:</block>
  <block id="41c70fb9d233363d68fe27194430adc1" category="admonition">No se recomienda enumerar las contraseñas en texto sin formato. Use el almacén de Ansible o proporcione el<block ref="b59049923d63016545b743560345fa56" prefix=" " category="inline-code"></block> Cuando ejecute Ansible con<block ref="eba52ae7bfe34d5eddd33dafc00e5e80" prefix=" " category="inline-code"></block>.</block>
  <block id="a18d6a60f542af2e3b0784928e17f417" category="list-text">Para garantizar un rendimiento óptimo, instale las versiones enumeradas para los nodos de bloques en <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="8c41baf1ca98e1184f48c4721d44d431" category="inline-link">Sitio de soporte de NetApp</block>
  <block id="38119f4253b4080e689702afd647df1f" category="paragraph">Descargue los archivos correspondientes de la<block ref="3f80e15ba326a9eb1fc39b6d8ba81472" category="inline-link-rx"></block>. Puede actualizarlos manualmente o incluirlos en la<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> directorio del nodo de control de Ansible y, a continuación, rellene los siguientes parámetros en<block ref="79d2514d0f856ef18e58ebf8b9716d05" prefix=" " category="inline-code"></block> Para actualizar con Ansible:</block>
  <block id="a5a82f3b02ae57420ae1197446e1efc0" category="list-text">Descargue e instale el firmware de la unidad más reciente disponible para las unidades instaladas en los nodos de bloques desde el<block ref="7bf536b69fb1e52c85b84904e073cbdb" category="inline-link-rx"></block>. Puede actualizarlos manualmente o incluirlos en la<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> directorio del nodo de control de Ansible y, a continuación, rellene los siguientes parámetros en<block ref="79d2514d0f856ef18e58ebf8b9716d05" prefix=" " category="inline-code"></block> Para actualizar con Ansible:</block>
  <block id="72423a5fa99fafb4c2dc7b7e7f7d7962" category="admonition">Ajuste<block ref="0d324209e6894f6233152c2d23bab1a2" prefix=" " category="inline-code"></block> para<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> Agiliza la actualización, pero no se debe realizar hasta después de que BeeGFS se haya puesto en marcha. Esto se debe a que esta configuración requiere detener todas las operaciones de I/o de las unidades antes de la actualización para evitar errores en las aplicaciones. Aunque realizar una actualización del firmware de la unidad en línea antes de configurar volúmenes es todavía rápida, se recomienda configurar siempre este valor en<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para evitar problemas más adelante.</block>
  <block id="2b0551e04ffc3a713c07e9a9611b9897" category="list-text">Para optimizar el rendimiento, realice los siguientes cambios en la configuración global:</block>
  <block id="6b7cf272a4e3aeaf52c2d0ca991829e5" category="list-text">Para garantizar un comportamiento y aprovisionamiento de volúmenes óptimos, especifique los siguientes parámetros:</block>
  <block id="b969df7be52ed192c298428e4fb0e696" category="admonition">Valor especificado para<block ref="37a0965694bd71a118b8d75bee76ea35" prefix=" " category="inline-code"></block> Es específico de los nodos de bloques EF600 de NetApp y controla el orden en que se asignan las unidades a los nuevos grupos de volúmenes. Este pedido garantiza que la I/o de cada grupo se distribuya de forma uniforme en todos los canales de unidades del back-end.</block>
  <block id="0dfb05d4ea761122194fbafcd7f3a5eb" category="summary">El diseño de segunda generación de BeeGFS en la solución de NetApp se verificó mediante tres perfiles de configuración de bloques básicos.</block>
  <block id="dd444e75087c1912fb6b2f9435eec0ba" category="paragraph">Los perfiles de configuración incluyen lo siguiente:</block>
  <block id="ba33770125b7249843843e3524e48e5e" category="list-text">Un único elemento básico, incluidos los servicios de gestión, metadatos y almacenamiento de BeeGFS.</block>
  <block id="dc0ae690014a6e4ed1d17d728fce2e3a" category="list-text">Metadatos BeeGFS más un elemento básico de almacenamiento.</block>
  <block id="f789cf74ad54c463cf1827c970b695c0" category="list-text">Un elemento básico de sólo almacenamiento BeeGFS.</block>
  <block id="c7dfb273d9605bd7640f597b869aef23" category="paragraph">Los elementos básicos se adjuntaron a dos switches Mellanox Quantum InfiniBand (MQM8700). También se adjuntaron diez clientes BeeGFS a los switches InfiniBand y se utilizaron para ejecutar utilidades de análisis de rendimiento sintéticos.</block>
  <block id="f27d4d7620b1158ad830c498a6faf1c5" category="paragraph">En la siguiente figura, se muestra la configuración de BeeGFS que se utiliza para validar BeeGFS en la solución de NetApp.</block>
  <block id="c76715003b58d0566ea40579fbf2b849" category="paragraph"><block ref="c76715003b58d0566ea40579fbf2b849" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfa0c76fc554fa6837cfe216381eb3df" category="section-title">Segmentación de archivos BeeGFS</block>
  <block id="73bf7a09a102bdf9e2984ff15f2e62cc" category="paragraph">Una ventaja de los sistemas de archivos paralelos es la capacidad de resegmentar archivos individuales en múltiples destinos de almacenamiento, lo que podría representar volúmenes en los mismos sistemas de almacenamiento subyacentes o en diferentes.</block>
  <block id="f781a67c7f55c5a3d6d505e3569ff3c3" category="inline-link">Segmentación</block>
  <block id="0102b96fad09ea07b9b6c943ac48e706" category="inline-link">API de segmentación</block>
  <block id="be4c29766b20870006df2b27be87994e" category="paragraph">En BeeGFS, puede configurar la segmentación por directorio y por archivo para controlar el número de destinos utilizados para cada archivo y para controlar el tamaño de bloque (o el tamaño de bloque) utilizado para cada franja de archivo. Esta configuración permite al sistema de archivos admitir distintos tipos de cargas de trabajo y perfiles de I/o sin necesidad de reconfigurar o reiniciar los servicios. Puede aplicar la configuración de franja mediante<block ref="525acd7d8ba0c119c88006411faf1d89" prefix=" " category="inline-code"></block> Herramienta de línea de comandos o con aplicaciones que usan la API de segmentación. Para obtener más información, consulte la documentación de BeeGFS para<block ref="d307c57bb94d8613bf23053de378d367" category="inline-link-rx"></block> y..<block ref="d53017212bcf8a78d44d2efbf061a88a" category="inline-link-rx"></block>.</block>
  <block id="706c7a765e77b694cee17941887ccaaf" category="paragraph">Para lograr el mejor rendimiento, los patrones de franjas se ajustaron durante la prueba, y se señalan los parámetros utilizados para cada prueba.</block>
  <block id="a40727fe75676638a1b87009fafed260" category="section-title">Pruebas de ancho de banda IOR: Múltiples clientes</block>
  <block id="a4c77786e4208d299fbf0c491eb99106" category="inline-link">GitHub de HPC</block>
  <block id="8b2e6032c8801b379e2fd75991ebb452" category="paragraph">Las pruebas de ancho de banda IOR utilizaban OpenMPI para ejecutar trabajos paralelos de la herramienta de generador de E/S sintético IOR (disponible en<block ref="323e2ec03a214c41088a20e514e0a41e" category="inline-link-rx"></block>) A través de los 10 nodos de cliente a uno o más bloques de creación de BeeGFS. A menos que se indique lo contrario:</block>
  <block id="219cae8db1869355f9c480a2fe2c5d6d" category="list-text">Todas las pruebas utilizaron E/S directa con un tamaño de transferencia 1MiB.</block>
  <block id="de2223ae9c343f387e4a3549abf2a4fc" category="list-text">La segmentación de archivos BeeGFS se ha establecido en un tamaño de archivo de 1 MB y un objetivo por archivo.</block>
  <block id="8aa2f9ce00cbab54a4479ba40f638773" category="paragraph">Se utilizaron los siguientes parámetros para IOR con el recuento de segmentos ajustado para mantener el tamaño del archivo agregado a 5 TIB para un bloque básico y 40 TIB para tres bloques básicos.</block>
  <block id="015dd422187100bd2a53cae756db5bcd" category="paragraph-title">Un elemento básico de BeeGFS (gestión, metadatos y almacenamiento)</block>
  <block id="a404b853baec85523834a070479317ea" category="paragraph">En la siguiente figura, se muestran los resultados de la prueba IOR con un solo elemento básico de BeeGFS (gestión, metadatos y almacenamiento).</block>
  <block id="f93ba433079ca784ff0a18a8928d24db" category="paragraph"><block ref="f93ba433079ca784ff0a18a8928d24db" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2eb32f267ab2864aa50a3171522c1574" category="paragraph-title">Metadatos BeeGFS + elemento básico de almacenamiento</block>
  <block id="578da280bb783045852047cd081f65fd" category="paragraph">En la siguiente figura se muestran los resultados de la prueba IOR con un único bloque de creación de almacenamiento y metadatos BeeGFS.</block>
  <block id="db43f39b8c5d5c4ef9f8938eb09db411" category="paragraph"><block ref="db43f39b8c5d5c4ef9f8938eb09db411" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2cf619569e1d3422599fa7ba3fff04f2" category="paragraph-title">Elemento básico de sólo almacenamiento BeeGFS</block>
  <block id="720f0ab0184643d51a1197789875c393" category="paragraph">En la siguiente figura se muestran los resultados de la prueba IOR con un solo elemento básico de almacenamiento BeeGFS.</block>
  <block id="13e0e7c553ecdbe3ea238e89713a4a47" category="paragraph"><block ref="13e0e7c553ecdbe3ea238e89713a4a47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9443a11095bad63a50d95ece24842fb2" category="paragraph-title">Tres elementos básicos de BeeGFS</block>
  <block id="e3b081c19738d20e5f52be67ac8d0361" category="paragraph">En la siguiente figura se muestran los resultados de la prueba IOR con tres bloques de construcción BeeGFS.</block>
  <block id="04344e81ce55b155d052b799f4737621" category="paragraph"><block ref="04344e81ce55b155d052b799f4737621" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9abc8771b8098ae505a1ff386b580ef3" category="paragraph">Según lo esperado, la diferencia de rendimiento entre el bloque básico y el bloque básico de metadatos + almacenamiento posterior es mínima. Si comparamos el elemento básico de metadatos + almacenamiento con un elemento básico exclusivo del almacenamiento, el rendimiento de lectura se aprecia un ligero aumento en el rendimiento de lectura debido a las unidades adicionales utilizadas como destino del almacenamiento. Sin embargo, no existe una diferencia significativa en el rendimiento de escritura. Para lograr un mayor rendimiento, puede añadir varios elementos básicos juntos para escalar el rendimiento de forma lineal.</block>
  <block id="7465e2f5afc6bc7ebff6ea05e19d52d3" category="section-title">Pruebas de ancho de banda IOR: Un único cliente</block>
  <block id="4cb463d8f88ac93de9fecb82d125d05c" category="paragraph">La prueba de ancho de banda IOR utilizó OpenMPI para ejecutar varios procesos IOR utilizando un único servidor GPU de alto rendimiento para explorar el rendimiento que se puede obtener en un único cliente.</block>
  <block id="6a2583bcd41d0a03702444d541162685" category="paragraph">En esta prueba también se compara el comportamiento y el rendimiento de BeeGFS cuando el cliente está configurado para utilizar la caché de páginas del kernel de Linux <block ref="6e97c2177f166e83fa16865e701a7917" prefix="(" category="inline-code"></block>) frente al valor predeterminado<block ref="8b365ffbd5d92a1b9c20f227a4b6fcec" prefix=" " category="inline-code"></block> ajuste.</block>
  <block id="0123881fd1c799161bf0cc847d402a42" category="paragraph">El modo de almacenamiento en caché nativo utiliza la memoria caché de página del kernel de Linux en el cliente, lo que permite que las operaciones de nueva lectura provengan de la memoria local en lugar de retransmitirse a través de la red.</block>
  <block id="2748a8672e1df7ff75dc04c3e0086a44" category="paragraph">En el siguiente diagrama se muestran los resultados de las pruebas IOR con tres bloques de creación BeeGFS y un único cliente.</block>
  <block id="d07c2b895ad73e3adadd62d9b20eb243" category="paragraph"><block ref="d07c2b895ad73e3adadd62d9b20eb243" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e301b61d3683cc584633009bafffa70" category="admonition">La segmentación de BeeGFS para estas pruebas se estableció en un tamaño de archivo de 1 MB con ocho objetivos por archivo.</block>
  <block id="8c5eae70f19670232111d1823b5edb56" category="paragraph">Aunque el rendimiento de escritura y lectura inicial es superior mediante el modo de búfer predeterminado, en el caso de cargas de trabajo que releer los mismos datos varias veces, se produce un aumento significativo del rendimiento en el modo de almacenamiento en caché nativo. Este rendimiento mejorado de nueva obtención es importante para cargas de trabajo como el aprendizaje profundo que relecan el mismo conjunto de datos varias veces a lo largo de muchas épocas.</block>
  <block id="e9f3e979fd823256ea73296f49e954da" category="section-title">Prueba de rendimiento de metadatos</block>
  <block id="e3195dd21dbd9ee2c6c42f0c8a6c7128" category="paragraph">En las pruebas de rendimiento de metadatos se utilizó la herramienta MDTest (incluida como parte de IOR) para medir el rendimiento de los metadatos de BeeGFS. Las pruebas utilizaron OpenMPI para ejecutar trabajos paralelos en los diez nodos cliente.</block>
  <block id="44ece23db4ca31ae5b81205ad387af00" category="paragraph">Se utilizaron los siguientes parámetros para ejecutar la prueba de referencia con el número total de procesos escalados de 10 a 320 en el paso del doble y con un tamaño de archivo de 4k.</block>
  <block id="b872c01a040702b121dc5f52261e99e0" category="paragraph">El rendimiento de los metadatos se midió primero con uno entonces dos metadatos + elementos básicos del almacenamiento, para mostrar cómo se escala el rendimiento añadiendo elementos básicos adicionales.</block>
  <block id="3c793d71f0d81892f28ab10f661381c8" category="paragraph-title">Un elemento básico de metadatos BeeGFS + almacenamiento</block>
  <block id="c6c65b36c5c466822447bc4c94abd80c" category="paragraph">En el siguiente diagrama se muestran los resultados de MDTest con un bloque de creación de almacenamiento y metadatos BeeGFS.</block>
  <block id="a5ab5340467c6b4a3a4a7920c54ae8f3" category="paragraph"><block ref="a5ab5340467c6b4a3a4a7920c54ae8f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="94c5de0e8c5b79f8b061a00a2d638234" category="paragraph-title">Dos metadatos BeeGFS + elementos básicos de almacenamiento</block>
  <block id="5d4514dbb64a843f08caa7fe8140c121" category="paragraph">El siguiente diagrama muestra los resultados de MDTest con dos metadatos BeeGFS + bloques de almacenamiento.</block>
  <block id="aec56a0b02b345d6f601383808523dc6" category="paragraph"><block ref="aec56a0b02b345d6f601383808523dc6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bcc55d27d7ea16e6df55e7ec18fd377" category="section-title">Validación funcional</block>
  <block id="b15005270887e63f3c777c3722631021" category="paragraph">Como parte de la validación de esta arquitectura, NetApp ejecutó varias pruebas funcionales incluyendo las siguientes:</block>
  <block id="008151af32cff92eed6431ca4cf43500" category="list-text">Al producirse un fallo en un puerto InfiniBand de un único cliente, se deshabilita el puerto del switch.</block>
  <block id="73b83d70be21d004da6e079b00bb5948" category="list-text">Al producirse un fallo en un puerto InfiniBand de un único servidor, se deshabilita el puerto del switch.</block>
  <block id="f7b8ad51ce1aad4a6e15c6583fcbdd55" category="list-text">Activación de un apagado inmediato del servidor mediante el BMC.</block>
  <block id="6148d6995d77c1b8b1bfd4c6f299162b" category="list-text">Colocación dignidad de un nodo en espera y conmutación por error al servicio en otro nodo.</block>
  <block id="1cc77e3527f4ac004c8a5cdb5cac049e" category="list-text">Con dignidad, volver a colocar un nodo en línea y devolver servicios al nodo original.</block>
  <block id="908463015e2671e9d90b06353dabae03" category="list-text">Apague uno de los switches InfiniBand mediante la PDU. Todas las pruebas se realizaron mientras las pruebas de estrés estaban en curso con el<block ref="2f737a641ac05fa577f51efab6ed8e27" prefix=" " category="inline-code"></block> Parámetro definido en los clientes BeeGFS. No se han observado errores ni interrupciones en I/O.</block>
  <block id="c49182dc0c7a70b9cd2e10853d9ec6c7" category="inline-link">Cambios</block>
  <block id="788a9659515e495b379621cac9040872" category="admonition">Hay un problema conocido (consulte<block ref="9892b1a82a523d642c4ee2c76b765b8b" category="inline-link-rx"></block>) Cuando las conexiones RDMA cliente/servidor BeeGFS se interrumpen inesperadamente, ya sea a través de la pérdida de la interfaz primaria (como se define en<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>) O un servidor BeeGFS falla; la E/S de cliente activa se puede bloquear durante un máximo de diez minutos antes de continuar. Este problema no ocurre cuando los nodos BeeGFS se colocan correctamente dentro y fuera del modo de espera para el mantenimiento planificado o si TCP está en uso.</block>
  <block id="132789d9474eae064aef2cd5266138d8" category="section-title">Validación NVIDIA DGX A100 SuperPOD y BasePOD</block>
  <block id="d88f3188efb434f39b922170592443b5" category="paragraph">NetApp validó una solución de almacenamiento para nVIDIAs DGX A100 SuperPOD que utiliza un sistema de archivos BeeGFS similar que consiste en tres elementos básicos con los metadatos más el perfil de configuración de almacenamiento aplicado. El esfuerzo de cualificación incluyó probar la solución descrita en este NVA con veinte servidores DGX A100 GPU que ejecutan una gran variedad de pruebas de rendimiento de almacenamiento, aprendizaje automático y aprendizaje profundo. Todo el almacenamiento certificado para su uso en DGX A100 SuperPOD de NVIDIA está certificado automáticamente para su uso en las arquitecturas NVIDIA BasePOD.</block>
  <block id="7c6326491c77a63417df94790ba07083" category="inline-link">NVIDIA DGX SuperPOD con NetApp</block>
  <block id="64dc43320ec1a44c390fafb5e2408f4b" category="inline-link">DGX BasePOD de NVIDIA</block>
  <block id="33d753992c8525a016e60650889ef7a9" category="paragraph">Para obtener más información, consulte<block ref="917e0b817a1bc5579c3d00c8de7a0790" category="inline-link-rx"></block> y..<block ref="d4d49ddfca3de3daecdc231399362db8" category="inline-link-rx"></block>.</block>
  <block id="7042a03d018b94aee36197baf79897b2" category="summary">Para maximizar el rendimiento, recomendamos configurar los ajustes del sistema en el modelo de servidor que utilice como nodos de archivos.</block>
  <block id="bb2fcb1abe8d0829558e398d9acb4589" category="doc">Ajuste la configuración del sistema del nodo de archivos para aumentar el rendimiento</block>
  <block id="e95c3b26aabb0242b0a38d72568b125a" category="paragraph">Para maximizar el rendimiento, recomendamos configurar los ajustes del sistema en el modelo de servidor que utilice como nodos de archivos.</block>
  <block id="291e90fb83bca326d06b5479d0ae7197" category="paragraph">La configuración del sistema varía en función del modelo de servidor que utilice como nodo de archivos. En este tema se describe cómo configurar los valores del sistema para los nodos de archivo del servidor Lenovo ThinkSystem SR665 validados.</block>
  <block id="cfa9d7ef51eae23751a0ea54765b99fd" category="section-title">Utilice la interfaz UEFI para ajustar la configuración del sistema</block>
  <block id="7afe745e5e5ded0e0cf311f6ab05ce41" category="paragraph">El firmware del sistema del servidor Lenovo SR665 contiene numerosos parámetros de ajuste que se pueden establecer a través de la interfaz UEFI. Estos parámetros de ajuste pueden afectar a todos los aspectos del funcionamiento del servidor y el rendimiento del mismo.</block>
  <block id="01d5e77f89697d310442aa744d5c4068" category="paragraph">En *Configuración de UEFI &gt; Configuración del sistema*, ajuste los siguientes ajustes del sistema:</block>
  <block id="6e2e169ab41f56781f3cd65629914fc6" category="section-title">Menú modo de funcionamiento</block>
  <block id="f7adfd4c98207b1161c7b693c16fa9ea" category="cell">*Ajuste del sistema*</block>
  <block id="a3fb412bb8de9718b8510aa99340221a" category="cell">*Cambiar a*</block>
  <block id="1c2631aa94b6d5e1cc826b0cb76a87ba" category="paragraph">Modo de funcionamiento</block>
  <block id="90589c47f06eb971d548591f23c285af" category="paragraph">Personalizado</block>
  <block id="43e16592d1b7c57c68cdf68bcd7f2fbd" category="paragraph">CTDP</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="paragraph">Manual</block>
  <block id="db0877bc3fbb4ce0ffd2f36fa5470581" category="paragraph">Manual de cTDP</block>
  <block id="9de6d14fff9806d4bcd1ef555be766cd" category="paragraph">350</block>
  <block id="43287f46609a4dc60f40223b99452814" category="paragraph">Límite de alimentación del paquete</block>
  <block id="8bec16a6c589939ad9d0a3c20f7dd8dc" category="paragraph">Modo de eficiencia</block>
  <block id="bcfaccebf745acfd5e75351095a5394a" category="paragraph">Desactivar</block>
  <block id="50a4d260500229aae705dffbef792499" category="paragraph">Global-Estado-Control</block>
  <block id="bbb8600e28b07b4e7765ccb37c8ba72d" category="paragraph">Estados SOC P.</block>
  <block id="16a2e561c536a77cbfd10490ea398be6" category="paragraph">P0</block>
  <block id="f7d2d14860cfdee82e8cf9418c1ec624" category="paragraph">DF C-Estados</block>
  <block id="450e20de3fc0482fa7bdadc4622005ed" category="paragraph">Estado P 1</block>
  <block id="9c1a39470ba5d6a8856c5e813e20ef6b" category="paragraph">Activación de la desconexión de memoria</block>
  <block id="3011761cbf6a8eb38a41f6b38210c119" category="paragraph">Nodos NUMA por socket</block>
  <block id="4142a6b2c0ac3aaf643751457e9aad6a" category="paragraph">NPS1</block>
  <block id="cdceaf6498461c15ce1ae0800bf60c66" category="section-title">Menú dispositivos y puertos de E/S.</block>
  <block id="fb31ba7c369028665e7e1a20bd645da6" category="paragraph">IOMMU</block>
  <block id="ada62bbe41ae187c3f0f777ffbd44d28" category="section-title">Menú de encendido</block>
  <block id="e7dc1149b98b9a234419b52cb65c86eb" category="paragraph">Freno de alimentación PCIe</block>
  <block id="a4fb96bd64d4ecceb3f0f416f7032bb9" category="section-title">Menú procesadores</block>
  <block id="78ee21f7e9d290c773c1aa6ae0d03303" category="paragraph">Control de estado C global</block>
  <block id="dc8a824c345b5e3bbaa79fce219830c2" category="paragraph">Modo SMT</block>
  <block id="28fb70bc7fdb441f9e6550205a24c92c" category="paragraph">CPPC</block>
  <block id="83ed73e76e0c1cfe38ef9627b7ae0fe0" category="section-title">Utilice la API de Redfish para ajustar la configuración del sistema</block>
  <block id="2bfb51b6fb78d5540135d28668652ab6" category="paragraph">Además de utilizar UEFI Setup, puede utilizar la API Redfish para cambiar la configuración del sistema.</block>
  <block id="33e221e2cea2342a6bae3c4c24f33827" category="inline-link">Sitio web de DMTF</block>
  <block id="d96afe3ab332c2cc42ac69c811923ba7" category="paragraph">Para obtener información detallada sobre el esquema Redfish, consulte<block ref="108ef396f9aef1d6bcaea08379b877eb" category="inline-link-rx"></block>.</block>
  <block id="2260cb128d87141c6a0a2c06c043def7" category="summary">Después de definir la estructura general de inventario de Ansible, defina la configuración de cada bloque de creación en el sistema de archivos BeeGFS.</block>
  <block id="b8bb1668a8a0007267670827d99f76b5" category="paragraph">Estas instrucciones de implementación muestran cómo instalar un sistema de archivos que consiste en un elemento básico que incluye servicios de gestión, metadatos y almacenamiento; un segundo elemento básico con servicios de metadatos y almacenamiento y un tercer elemento básico solo para el almacenamiento.</block>
  <block id="bc4ca1def58917532e653ebf4c3c5f15" category="paragraph">El objetivo de estos pasos es mostrar toda la gama de perfiles de configuración típicos que se pueden utilizar para configurar bloques de creación de BeeGFS de NetApp de modo que se cumplan los requisitos del sistema de archivos BeeGFS general.</block>
  <block id="053cdc4e7aa5884fba5be0b7e80bcb5c" category="admonition">En esta y en secciones posteriores, ajuste según sea necesario para generar el inventario que represente el sistema de archivos BeeGFS que desea implementar. En concreto, utilice los nombres de host de Ansible que representan cada nodo de bloque o archivo y el esquema de direccionamiento IP deseado para la red de almacenamiento a fin de garantizar que puede escalarse hasta el número de clientes y nodos de archivos BeeGFS.</block>
  <block id="e00187948ca315221e5e284a4312f83f" category="section-title">Paso 1: Cree el archivo de inventario de Ansible</block>
  <block id="cbdf4dddad7bf23198edcbf2c8721659" category="list-text">Cree un nuevo<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> archivo e inserte los siguientes parámetros, reemplazando los hosts en<block ref="0b41e1ef1f01592b0f6a7174f0010e75" prefix=" " category="inline-code"></block> según sea necesario, para representar los nodos de bloques en su puesta en marcha. Los nombres deben corresponder con el nombre utilizado para<block ref="6ebd598dbc59122afdf4763cac1ed550" prefix=" " category="inline-code"></block>.</block>
  <block id="742c9db30f264a7d33e72383a817b4f5" category="paragraph">En las secciones siguientes, creará grupos de Ansible adicionales en<block ref="2325c19457d6105d5d5f3837fa282ef7" prefix=" " category="inline-code"></block> Que representan los servicios BeeGFS que desea ejecutar en el clúster.</block>
  <block id="066251bf9494493f76299f6f40a80df6" category="section-title">Paso 2: Configure el inventario para un elemento básico de gestión, metadatos y almacenamiento</block>
  <block id="5320d481bd8442fec42afcaded2a8d49" category="paragraph">El primer elemento básico del clúster o bloque básico debe incluir el servicio de gestión de BeeGFS junto con los servicios de metadatos y almacenamiento:</block>
  <block id="a54299a446e0a2e17f57383db8e31dc6" category="list-text">Pulg<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block>, rellene los siguientes parámetros en<block ref="47488094171904d309860f2ab8f8eb63" prefix=" " category="inline-code"></block>:</block>
  <block id="fd84d0d4501e2eca409dc18043cf1492" category="list-text">Cree el archivo<block ref="096c36ebf1ab8bf90e099d6808eb57d0" prefix=" " category="inline-code"></block> e incluya lo siguiente:</block>
  <block id="bcc9cdaf60435f4d091a1bfdac879201" category="list-text">Inferior<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, cree archivos para grupos de recursos<block ref="9a2a6271435751311d49f29af321e54c" prefix=" " category="inline-code"></block> por<block ref="71fcdde6efe08cd30c14cff19fe12017" prefix=" " category="inline-code"></block> utilice la siguiente plantilla y, a continuación, rellene los valores de marcador de posición de cada servicio que haga referencia a la siguiente tabla:</block>
  <block id="3df790a0a0a3be54d9cbac91d4bc35e1" category="inline-link">Introducción a la cabina EF600 de NetApp</block>
  <block id="4ada98602970473e524def1d48723bd6" category="admonition">El tamaño del volumen se especifica como un porcentaje del pool de almacenamiento general (también denominado grupo de volúmenes). NetApp recomienda encarecidamente que deje cierta capacidad libre en cada pool para dejar espacio para el sobreaprovisionamiento de SSD (para obtener más información, consulte<block ref="dfc1025f9a756c10e6b0cbe0f4bc500a" category="inline-link-rx"></block>). El pool de almacenamiento,<block ref="7ef878b8d47cf2658a8b7e4c1b8f133d" prefix=" " category="inline-code"></block>, también asigna el 1% de la capacidad del pool para el servicio de administración. Por lo tanto, para volúmenes de metadatos en el pool de almacenamiento,<block ref="7ef878b8d47cf2658a8b7e4c1b8f133d" prefix=" " category="inline-code"></block>, Cuando se utilizan unidades de 1,92 TB o 3,84 TB, establezca este valor en<block ref="6950471ad34ba84d94045961d34ad16b" prefix=" " category="inline-code"></block>; Para unidades de 7,65 TB, establezca este valor en<block ref="6d61e9b2e679326dd5a7a5a155cce414" prefix=" " category="inline-code"></block>; Y para las unidades de 15,3 TB, establezca este valor en<block ref="c350ffebb2160c4726034bf20ba7520f" prefix=" " category="inline-code"></block>.</block>
  <block id="34082694d21dbdcfc31e6e32d9fb2b9f" category="cell">Nombre de archivo</block>
  <block id="f4d0c8022be4f31d06814c33705037ff" category="cell">meta_01.yml</block>
  <block id="1f7aa6705d5b742085538c627f6f9c2b" category="cell">8015</block>
  <block id="01098d2436a5e4cf506036d6aca3c6b9" category="cell">i1b:100.127.101.1/16 i2b:100.128.102.1/16</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="cell">0</block>
  <block id="ca9fd584227ff345bca2ef90d5c56e63" category="cell">ictad22a01</block>
  <block id="7ef878b8d47cf2658a8b7e4c1b8f133d" category="cell">beegfs_m1_m2_m5_m6</block>
  <block id="7fc56270e7a70fa81a5935b72eacbe29" category="cell">A.</block>
  <block id="60b1afbaab870bf5621ed87ae12559fe" category="cell">meta_02.yml</block>
  <block id="62d2b7ba91f34c0ac08aa11c359a8d2c" category="cell">8025</block>
  <block id="e04871f7c2f611e8ad3e026ef33ce958" category="cell">i2b: 100.128.102.2/16 i1b:100.127.101.2/16</block>
  <block id="9d5ed678fe57bcca610140957afab571" category="cell">B</block>
  <block id="3ce592406a461bfadfa5ab1f08c5c506" category="cell">meta_03.yml</block>
  <block id="a2b8a85a29b2d64ad6f47275bf1360c6" category="cell">8035</block>
  <block id="e04d4c629001763b33c4ff8b9896d667" category="cell">i3b:100.127.101.3/16 i4b:100.128.102.3/16</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="e2113f2adde9ccc87fb733b80de62a05" category="cell">ictad22a02</block>
  <block id="c229ea898f8c27aeb40c65332e30db3f" category="cell">beegfs_m3_m4_m7_m8</block>
  <block id="7f6482de225123824ca5b23c1cf79f05" category="cell">meta_04.yml</block>
  <block id="704cddc91e28d1a5517518b2f12bc321" category="cell">8045</block>
  <block id="0d343c87415ff2c30cb55d5962ced8e2" category="cell">i4b:100.128.102.4/16 i3b:100.127.101.4/16</block>
  <block id="833a23c43dc9c206a593873d80d04903" category="cell">meta_05.yml</block>
  <block id="444b0d9a802792791bb9a2da568b463d" category="cell">8055</block>
  <block id="685d00be66f443c6c339b81cc66fa4a3" category="cell">i1b:100.127.101.5/16 i2b:100.128.102.5/16</block>
  <block id="38774c8cd9de3fd76c7df6b0746f2f2b" category="cell">meta_06.yml</block>
  <block id="320e4df890a1a620573db8170f39a093" category="cell">8065</block>
  <block id="f084a55203c0946ef5605449dede3354" category="cell">i2b: 100.128.102.6/16 i1b:100.127.101.6/16</block>
  <block id="5a681b3e1f7ad2d965284e36f4f6b7d3" category="cell">meta_07.yml</block>
  <block id="ede529dfcbb2907e9760eea0875cdd12" category="cell">8075</block>
  <block id="59a587289a0c0568b62bb3b0beb25710" category="cell">i3b:100.127.101.7/16 i4b:100.128.102.7/16</block>
  <block id="a9cc3f3ebc7a8daedf369af06faba518" category="cell">meta_08.yml</block>
  <block id="5011bf6d8a37692913fce3a15a51f070" category="cell">8085</block>
  <block id="183b03ffff0f1c540c2bcc4fa7645e8f" category="cell">i4b:100.128.102.8/16 i3b:100.127.101.8/16</block>
  <block id="89f0938aa83de82ca99f8b06297ed69c" category="list-text">Inferior<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, cree archivos para grupos de recursos<block ref="204798ade8b6ac861bd335e908dea445" prefix=" " category="inline-code"></block> por<block ref="febac7a5dad8d84a1faa80d56d8a70cb" prefix=" " category="inline-code"></block> utilizando la siguiente plantilla y, a continuación, rellene los valores de marcador de posición para cada servicio que haga referencia al ejemplo:</block>
  <block id="9b62ac6b206ab6cafe8dafa0990559c7" category="inline-link-macro">Se recomendaron porcentajes de sobreaprovisionamiento del pool de almacenamiento</block>
  <block id="ab2ec57b0e9afdc73bcc69a962ee35c4" category="admonition">Para ver el tamaño correcto de uso, consulte <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="b627976db3394ccf24342632cef6f4f1" category="cell">stor_01.yml</block>
  <block id="40f4da34bbe180214c23b9e55da4f772" category="cell">8013</block>
  <block id="2fcc40eb936b77784739bed3cda30225" category="cell">i1b:100.127.103.1/16 i2b:100.128.104.1/16</block>
  <block id="5ef33d06ff783e8453c10b95db8c1253" category="cell">beegfs_s1_s2</block>
  <block id="70963f6e36ca66556bef5f6ae74ad0ad" category="cell">stor_02.yml</block>
  <block id="1ecdec353419f6d7e30857d00d0312d1" category="cell">8023</block>
  <block id="bf4e53a6c43ad511c5f730de94f1c989" category="cell">i2b: 100.128.104.2/16 i1b:100.127.103.2/16</block>
  <block id="a4253b13d64a7017467d335c0c147ed3" category="cell">stor_03.yml</block>
  <block id="fc5b3186f1cf0daece964f78259b7ba0" category="cell">8033</block>
  <block id="d2f781a145f7598ae80a6ed6a34a297d" category="cell">i3b:100.127.103.3/16 i4b:100.128.104.3/16</block>
  <block id="a3cc9ef3e643fd2d2e1b6c2672b1c361" category="cell">beegfs_s3_s4</block>
  <block id="d471f1c4be4f658b822b7cfcfc808efa" category="cell">stor_04.yml</block>
  <block id="5bd529d5b07b647a8863cf71e98d651a" category="cell">8043</block>
  <block id="87b35387416f5837e6e2523744e368f9" category="cell">i4b:100.128.104.4/16 i3b:100.127.103.4/16</block>
  <block id="6a0625f228a1c5802a3d0ca970c7ebac" category="cell">stor_05.yml</block>
  <block id="dfccdb8b1cc7e4dab6d33db0fef12b88" category="cell">8053</block>
  <block id="457859c18e2dfb216c95ea335da7fdc9" category="cell">i1b:100.127.103.5/16 i2b:100.128.104.5/16</block>
  <block id="2ac54a6d92aca96fef8d0eac5b813f34" category="cell">beegfs_s5_s6</block>
  <block id="09da1a861f10d113069c5e1da9d2decd" category="cell">stor_06.yml</block>
  <block id="8d1f1aac0dd8a76b49e8bbdda0c7c98c" category="cell">8063</block>
  <block id="1bd035750c97cc091a94b72035e34013" category="cell">i2b: 100.128.104.6/16 i1b:100.127.103.6/16</block>
  <block id="cf124e58023b3726106af9c8718a48ed" category="cell">stor_07.yml</block>
  <block id="ffa9b486ad206c638c657b7ed335635c" category="cell">8073</block>
  <block id="d319c022fb006d05c63de544a768c7b5" category="cell">i3b:100.127.103.7/16 i4b:100.128.104.7/16</block>
  <block id="3e96e523215f928a3915e79e1451e2e7" category="cell">beegfs_s7_s8</block>
  <block id="0e4b036746af52a755e4b546698b2b61" category="cell">stor_08.yml</block>
  <block id="20ef119e812e178ecb44efa448b57ebc" category="cell">8083</block>
  <block id="abf8898bf8b809341f1a690241343288" category="cell">i4b:100.128.104.8/16 i3b:100.127.103.8/16</block>
  <block id="80e0c052ed9f2bde54c56adb04f880f1" category="section-title">Paso 3: Configure el inventario para un bloque básico de metadatos + almacenamiento</block>
  <block id="9e701ac8f2dd669a0e51464b4d8e3331" category="paragraph">Estos pasos describen cómo configurar un inventario de Ansible para un elemento básico de metadatos BeeGFS + almacenamiento.</block>
  <block id="ff1cbf3210fb9b21912445c6ea8cb9f6" category="list-text">Pulg<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block>, rellene los siguientes parámetros bajo la configuración existente:</block>
  <block id="628d1b90e1a21bbcec24af78377f8297" category="list-text">Inferior<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, cree archivos para grupos de recursos<block ref="f7f236466904f5e4828a0db580764b62" prefix=" " category="inline-code"></block> por<block ref="20581f314f77bcf174d5bf0da0f87668" prefix=" " category="inline-code"></block> utilizando la siguiente plantilla y, a continuación, rellene los valores de marcador de posición para cada servicio que haga referencia al ejemplo:</block>
  <block id="bc5e8003da73758b95c46194672943bb" category="admonition">Para ver el tamaño correcto de uso, consulte <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="9c6de3c786b8c9c409de2fd8070e5072" category="cell">meta_09.yml</block>
  <block id="4bcb81674e1186a66143fec42901c209" category="cell">i1b:100.127.101.9/16 i2b:100.128.102.9/16</block>
  <block id="a54f967fcc27024d3780cfad23300dd8" category="cell">ictad22a03</block>
  <block id="2ea9f3181dbee99d651a0d6c53be4a36" category="cell">beegfs_m9_m10_m13_m14</block>
  <block id="f370a281056494e99bcade5ddef17b26" category="cell">meta_10.yml</block>
  <block id="89d68a1b94d4d1c926944117a136dad1" category="cell">i2b: 100.128.102.10/16 i1b:100.127.101.10/16</block>
  <block id="27f563eed2131061540c21a6239b43d8" category="cell">meta_11.yml</block>
  <block id="6239aa390b35659bc861841760941247" category="cell">i3b:100.127.101.11/16 i4b:100.128.102.11/16</block>
  <block id="af2f976032e920d54c9455a8e1fd675d" category="cell">ictad22a04</block>
  <block id="7c335ef1ce51db644c52518580d45d49" category="cell">beegfs_m11_m12_m15_m16</block>
  <block id="a2a3007e91ab84d40e9453997468f1ad" category="cell">meta_12.yml</block>
  <block id="a65f2e74154cdd3870324bbed77b4bd5" category="cell">i4b:100.128.102.12/16 i3b:100.127.101.12/16</block>
  <block id="14c79c2a227a377885225e0f4dcf53b0" category="cell">meta_13.yml</block>
  <block id="b6b9f36adb7974a0f6d17412ec3fee68" category="cell">i1b:100.127.101.13/16 i2b:100.128.102.13/16</block>
  <block id="07e72a8a343c421129dc3a92902de565" category="cell">meta_14.yml</block>
  <block id="c44a959db7ffec72c54df85a2b00175b" category="cell">i2b: 100.128.102.14/16 i1b:100.127.101.14/16</block>
  <block id="d4d36ef3d915a0d2eaac8c62f1d8eff6" category="cell">meta_15.yml</block>
  <block id="44b67b40baecc652e6f08e274b29865b" category="cell">i3b:100.127.101.15/16 i4b:100.128.102.15/16</block>
  <block id="b465a4b4c591a6f2e44fedac80e726d0" category="cell">meta_16.yml</block>
  <block id="23344e5747f1b08172f5d05aa88919e5" category="cell">i4b:100.128.102.16/16 i3b:100.127.101.16/16</block>
  <block id="91e38d134a7ca4a23006b0cf023d9011" category="list-text">Inferior<block ref="648847925d2f67d0e9aff6f86a7141c1" prefix=" " category="inline-code"></block> crear archivos para grupos de recursos<block ref="e82765740642d7caa6320c506be59565" prefix=" " category="inline-code"></block> por<block ref="26d2d73c912baae339181423e2a8cf85" prefix=" " category="inline-code"></block> utilizando la siguiente plantilla y, a continuación, rellene los valores de marcador de posición para cada servicio que haga referencia al ejemplo:</block>
  <block id="ca61951791cd6f4d50294a908b9eee76" category="admonition">Para ver el tamaño correcto de uso, consulte <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>..</block>
  <block id="71c1385fcc844d118e8b2688b0cfd2d6" category="cell">stor_09.yml</block>
  <block id="b183ecb3a449e6250fd1771086e68253" category="cell">i1b:100.127.103.9/16 i2b:100.128.104.9/16</block>
  <block id="9282f3f43896f146dcbcc2d03d530b59" category="cell">beegfs_s9_s10</block>
  <block id="8f72ae1bf7ca7b8218a4bf9e719f5e7d" category="cell">stor_10.yml</block>
  <block id="b8569c1d93725d20f1a50fb74f3947df" category="cell">i2b: 100.128.104.10/16 i1b:100.127.103.10/16</block>
  <block id="e5a3d4f42adb756f3b3c2e3ed045e4a8" category="cell">stor_11.yml</block>
  <block id="53b0db6fe7b8e62a2dcc9bf455bcf174" category="cell">i3b:100.127.103.11/16 i4b:100.128.104.11/16</block>
  <block id="6e4cec4b32bddd9c9a3574aacee223b6" category="cell">beegfs_s11_s12</block>
  <block id="05fd4833433a12b38d11d8045aebddff" category="cell">stor_12.yml</block>
  <block id="9df04e8249070b73fc9be81b8f249664" category="cell">i4b:100.128.104.12/16 i3b:100.127.103.12/16</block>
  <block id="437037bccd34f3db0b238843b50fe65a" category="cell">stor_13.yml</block>
  <block id="527c5e3cde165799cdd8148db81d6473" category="cell">i1b:100.127.103.13/16 i2b:100.128.104.13/16</block>
  <block id="7db433542754f496e2d707f51bf00c05" category="cell">beegfs_s13_s14</block>
  <block id="b3c4ed6c5b5c833713923f9e9bdfb9b9" category="cell">stor_14.yml</block>
  <block id="80cd11504622edd89d4abbc32c1245aa" category="cell">i2b: 100.128.104.14/16 i1b:100.127.103.14/16</block>
  <block id="4871ef58b7b91db78d33bb4d95e4bf27" category="cell">stor_15.yml</block>
  <block id="040551498fc870111512145ed93337fc" category="cell">i3b:100.127.103.15/16 i4b:100.128.104.15/16</block>
  <block id="b1a9c1cb2640dd5bc9fb4e80dda30200" category="cell">beegfs_s15_s16</block>
  <block id="b02a9cdb541eba39e680a1da9c6299c7" category="cell">stor_16.yml</block>
  <block id="4799f858e623362408f753fa051a2699" category="cell">i4b:100.128.104.16/16 i3b:100.127.103.16/16</block>
  <block id="dea1f079dcd8c8280e07dcd96ea8c075" category="section-title">Paso 4: Configure el inventario para un elemento básico de solo almacenamiento</block>
  <block id="711be1acedea341e1f5455f007cdb22b" category="paragraph">Estos pasos describen cómo configurar un inventario de Ansible para un elemento básico solo de almacenamiento de BeeGFS. La principal diferencia entre configurar una configuración para un almacenamiento y metadatos frente a un elemento básico solo de almacenamiento es la omisión de todos los grupos de recursos de metadatos y las cambios<block ref="4c7b810e50ba611dcdc51295c4338bf0" prefix=" " category="inline-code"></block> de 10 a 12 por cada pool de almacenamiento.</block>
  <block id="5b6fe069463b7f5581a1864de036e765" category="list-text">Inferior<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, cree archivos para grupos de recursos<block ref="24a4e7d8beea152fbef989b5391e857b" prefix=" " category="inline-code"></block> por<block ref="4df0910e4828ce9c7f4218f92cf86499" prefix=" " category="inline-code"></block> utilizando la siguiente plantilla y, a continuación, rellene los valores de marcador de posición para cada servicio que haga referencia al ejemplo:</block>
  <block id="80f4c22d8a78e5d96cdf5bef28444426" category="admonition">Para ver el tamaño correcto de uso, consulte <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="f9838993bed3d0e550ae346ed2e4355e" category="cell">stor_17.yml</block>
  <block id="de15a372e63adf3e9d172fcfe67bffbc" category="cell">i1b:100.127.103.17/16 i2b:100.128.104.17/16</block>
  <block id="5e71a5c8d7eefee3fe82fe28b69d3c1e" category="cell">ictad22a05</block>
  <block id="8cf4aacf94a115dfc0190ee6782190d3" category="cell">beegfs_s17_s18</block>
  <block id="7876b49b042d07da9a565db780a9b186" category="cell">stor_18.yml</block>
  <block id="e14872a3791e3d785c59a5fb1892c4cf" category="cell">i2b: 100.128.104.18/16 i1b:100.127.103.18/16</block>
  <block id="291847ab33dfc1d81beed13f4d7a0519" category="cell">stor_19.yml</block>
  <block id="29d24f7d913acaf024704d56a3b47f4d" category="cell">i3b:100.127.103.19/16 i4b:100.128.104.19/16</block>
  <block id="114a9ab19efb0876a3622e54afc5bdbb" category="cell">ictad22a06</block>
  <block id="6a972920f626e0b0b8d505315beaf38b" category="cell">beegfs_s19_s20</block>
  <block id="943a4f354a2af18dac1fe2a6e14fe880" category="cell">stor_20.yml</block>
  <block id="e441e411ebace2ff01e6e612efceb07a" category="cell">i4b:100.128.104.20/16 i3b:100.127.103.20/16</block>
  <block id="a5aadbbde2e0b66fc661a126f5a1ce1e" category="cell">stor_21.yml</block>
  <block id="4a7361f8632968e437b2bae55a7d6a5e" category="cell">i1b:100.127.103.21/16 i2b:100.128.104.21/16</block>
  <block id="9c82263beb960ece0e5b6ac0604bb4d9" category="cell">beegfs_s21_s22</block>
  <block id="4879e56fe4d161ba3e4df67f961c483a" category="cell">stor_22.yml</block>
  <block id="8768cf88da2b645b99d30056c6b1f6e7" category="cell">i2b: 100.128.104.22/16 i1b:100.127.103.22/16</block>
  <block id="316b3c9a6656c51b87a725bf1f678a52" category="cell">stor_23.yml</block>
  <block id="5eda737d72e69dcbdd869d84cc7c0e48" category="cell">i3b:100.127.103.23/16 i4b:100.128.104.23/16</block>
  <block id="2404c81b13915ef9d59e0ac6328f4c10" category="cell">beegfs_s23_s24</block>
  <block id="47662afeeaa16771e7d516dd96ade0b7" category="cell">stor_24.yml</block>
  <block id="a9088dda4778ef90eb3b6f87b070cd25" category="cell">i4b:100.128.104.24/16 i3b:100.127.103.24/16</block>
  <block id="f45c646cffcf39011c125e7523fa9149" category="summary">Variaciones de implementación para un elemento básico de gran capacidad.</block>
  <block id="fc6e06f3e4cfc328095f04c8f44c28f1" category="paragraph">La guía de implementación de la solución BeeGFS estándar describe procedimientos y recomendaciones para requisitos de alto rendimiento en las cargas de trabajo. Los clientes que busquen cumplir requisitos de alta capacidad deben observar las variaciones en la implementación y las recomendaciones que se describen aquí.</block>
  <block id="cbfb14f470701bf93424d757c624369a" category="section-title">Controladoras</block>
  <block id="174e6193fff9ed7c9b1839367e007f13" category="paragraph">Para los elementos básicos de gran capacidad, las controladoras EF600 deben sustituirse por controladoras EF300, cada uno con una Cascade HIC instalada para la ampliación SAS. Cada nodo de bloque tendrá un número mínimo de SSD NVMe en el compartimento de la cabina para el almacenamiento de metadatos BeeGFS y se adjuntará a bandejas de expansión completas con HDD NL-SAS para volúmenes de almacenamiento BeeGFS.</block>
  <block id="1ec9226d3745f2995d2686d2450831c7" category="paragraph">La configuración del nodo de archivo al nodo de bloque sigue siendo la misma.</block>
  <block id="af932b84cc0c8562c0e572647564048f" category="section-title">Ubicación de la unidad</block>
  <block id="f96a95c482225ca6a9b4c17bfa47d918" category="paragraph">Se requiere un mínimo de 4 SSD NVMe en cada nodo de bloque para el almacenamiento de metadatos BeeGFS. Estas unidades deben colocarse en las ranuras más externas de la carcasa.</block>
  <block id="778e10a0753cc201500f1209098b9b5f" category="paragraph"><block ref="778e10a0753cc201500f1209098b9b5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdd528ca6f274d102819b008b189961c" category="section-title">Bandejas de expansión</block>
  <block id="6627fde89324d2cbb6afd245e3d32d35" category="paragraph">El elemento básico de gran capacidad se puede ajustar con 1-7, 60 bandejas de expansión por cabina de almacenamiento.</block>
  <block id="80b4ce0c4b11e4d8c7c4a14614b871f7" category="inline-link-macro">Consulte cableado EF300 para las bandejas de unidades</block>
  <block id="25ada85328148d5356ce4edd989b1f40" category="paragraph">Para obtener instrucciones para conectar cada bandeja de expansión, <block ref="8c170f7da852d665db7cd9113b2ed6bb" category="inline-link-macro-rx"></block>.</block>
  <block id="5b361b4897c4847c08b3d13bf3b66b8d" category="summary">Instale y configure el cliente BeeGFS en cualquier host que necesite acceso al sistema de archivos BeeGFS, como nodos de computación o de GPU. Para esta tarea, puede usar Ansible y la colección BeeGFS.</block>
  <block id="c855016387ccd14e80b0628a2da5609b" category="paragraph">Debe instalar y configurar el cliente BeeGFS en cualquier host que necesite acceder al sistema de archivos BeeGFS, como nodos de computación o GPU. Para esta tarea, puede usar Ansible y la colección BeeGFS.</block>
  <block id="c9793ac6c6a163b585094181979efe25" category="paragraph"><block ref="e7e2ad4e663e4c4c31c38a9fc078873a" prefix="" category="inline-code"></block></block>
  <block id="05c8acf59a637c421ef21a4a37d674de" category="list-text">Inferior<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Cree un archivo para cada cliente BeeGFS denominado<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> con el siguiente contenido, rellene el texto del marcador de posición con la información correcta para su entorno:</block>
  <block id="eb92eeb67c4903777d624fd51e30acfa" category="admonition">Actualmente, deben configurarse dos interfaces InfiniBand en cada cliente, una en cada una de las dos subredes IPoIB de almacenamiento. Si se utilizan subredes de ejemplo y rangos recomendados para cada servicio BeeGFS que se indica aquí, los clientes deben tener una interfaz configurada en el intervalo de<block ref="d19a6fb86acef8c068cfcae0f28b7ccf" prefix=" " category="inline-code"></block> para<block ref="b4e6b2ab9469bd0c90a8b83c8ebc175f" prefix=" " category="inline-code"></block> y el otro en<block ref="09ec2c3e1e57af66c089eaa3948eb7a5" prefix=" " category="inline-code"></block> para<block ref="adc1d6a0c3222432d021aa91eb923175" prefix=" " category="inline-code"></block>.</block>
  <block id="ca6b4577e851d5587e19a3d017db68b1" category="list-text">Cree un archivo nuevo<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block>y, a continuación, rellene los siguientes parámetros en la parte superior:</block>
  <block id="d424a4948912165baf5c9641ad4de044" category="admonition">No almacene contraseñas en texto sin formato. En su lugar, use el almacén de Ansible (consulte la documentación de Ansible para<block ref="69d38d4b5deda302461f6461c5317006" category="inline-link-rx"></block>) o utilice la<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> al ejecutar el libro de estrategia.</block>
  <block id="8f27eda73b5d4e7594b05bed1b90a053" category="list-text">En la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> File, enumera todos los hosts que deben configurarse como clientes BeeGFS en<block ref="fc2e11772a55c48ed2b4ec7bc5d94664" prefix=" " category="inline-code"></block> Agrupe y, a continuación, especifique cualquier configuración adicional necesaria para crear el módulo de kernel de cliente BeeGFS.</block>
  <block id="675bf44585d9e9ed71a38bde5f37fb5f" category="admonition">Cuando utilice los controladores Mellanox OFED, asegúrese de que<block ref="f24d21b8b47b3902162911c8595514e9" prefix=" " category="inline-code"></block> Apunta a la "ruta de inclusión de encabezado" correcta para su instalación de Linux. Para obtener más información, consulte la documentación de BeeGFS para<block ref="ad551773fffeead9219b565416da2397" category="inline-link-rx"></block>.</block>
  <block id="b9d3c4e1c18127cf36ad951b208d45bb" category="list-text">En la<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> File, enumera los sistemas de archivos BeeGFS que desea montar en la parte inferior de cualquier definido previamente<block ref="b63119da730344b345cdc8f62a4711e9" prefix=" " category="inline-code"></block>.</block>
  <block id="0ebb92016a1cd310802bb6e22bcd491c" category="admonition">La<block ref="27fab87a2a74c73ddb3d1d20ce980c77" prefix=" " category="inline-code"></block> representa la configuración que se ha probado. Consulte la documentación incluida con<block ref="0a84ad3cea9815959f96e884069338f8" prefix=" " category="inline-code"></block> colecciones<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> función para una visión general completa de todas las opciones. Esto incluye detalles sobre el montaje de varios sistemas de archivos BeeGFS o el montaje del mismo sistema de archivos BeeGFS varias veces.</block>
  <block id="853c95fff114a0396695a5a34c4f78f1" category="list-text">Cree un nuevo<block ref="34bd6e27c43e6508a64d0a1bf093c7d2" prefix=" " category="inline-code"></block> rellene los siguientes parámetros:</block>
  <block id="8ae73b3fcef5fc8f1a73e62c987915e6" category="admonition">Omitir la importación de<block ref="c37a16fb00a6cc95fe94f5468dfded54" prefix=" " category="inline-code"></block> recopilación y.<block ref="0247feeacea55a1e5efb40b0947dbbbe" prefix=" " category="inline-code"></block> Rol si ya ha instalado los controladores IB/RDMA necesarios y ha configurado las IP en las interfaces IPoIB adecuadas.</block>
  <block id="598ee1856218e19bf329d8bece215061" category="list-text">Para instalar y crear el cliente y montar BeeGFS, ejecute el siguiente comando:</block>
  <block id="999070faf3729384137acf10348ed589" category="list-text">Antes de poner el sistema de archivos BeeGFS en producción, *recomendamos encarecidamente* que inicie sesión en cualquier cliente y ejecute<block ref="bf1d98441c05c8ee7dba10e241fa8122" prefix=" " category="inline-code"></block> para garantizar que se pueda acceder a todos los nodos y no se notifican problemas.</block>
  <block id="bea1a33800109358727c67f41cd01d07" category="summary">La puesta en marcha y gestión de la configuración implica la ejecución de uno o más libros de estrategia que contengan las tareas que Ansible necesita para ejecutar y llevar el sistema general al estado deseado.</block>
  <block id="40184afe39cc9f2361b3b73e0695976d" category="doc">Ponga en marcha BeeGFS</block>
  <block id="a5cd3ed116608dac017f14c046ea56bf" category="inline-link">Funciones</block>
  <block id="d0dbcd7fcc2b33ea218a58e2364a462a" category="paragraph">Aunque todas las tareas se pueden incluir en un único libro de aplicaciones, en sistemas complejos, su gestión se torna difícil. Ansible permite crear y distribuir roles como una forma de empaquetar libros de estrategia reutilizables y contenido relacionado (por ejemplo: Variables predeterminadas, tareas y controladores). Para obtener más información, consulte la documentación de Ansible para<block ref="68a1974ca8634592518191ca9775617f" category="inline-link-rx"></block>.</block>
  <block id="63d74efd13802381ddc8b8a65a3a5000" category="paragraph">A menudo, los roles se distribuyen como parte de una colección Ansible que contiene roles y módulos relacionados. De este modo, estos libros de estrategia importan principalmente varias funciones distribuidas en las distintas colecciones de Ansible E-Series de NetApp.</block>
  <block id="3fb2d69a2432fdcecc09bb3418ad3ace" category="admonition">Actualmente, se necesitan al menos dos elementos básicos (cuatro nodos de archivo) para implementar BeeGFS, a menos que se configure un dispositivo de quórum independiente como tiebreaker para mitigar cualquier problema al establecer quórum con un clúster de dos nodos.</block>
  <block id="2ab028f46312dfd58cd64798fc7cbf9e" category="list-text">Cree un nuevo<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> file e incluya lo siguiente:</block>
  <block id="26a3e9e044d0e5b372c4803d6bdeefbd" category="admonition">este libro de estrategia ejecuta algunos<block ref="c14192fc9675e5023582b237e885e10d" prefix=" " category="inline-code"></block> Con ese fin, verifique que Python 3 esté instalado en los nodos de archivos y compruebe que las etiquetas de Ansible proporcionadas sean compatibles.</block>
  <block id="7cf59981bd844e32610404655f205256" category="list-text">Utilice la<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> Comando con los archivos de inventario y libro de estrategia cuando esté listo para implementar BeeGFS.</block>
  <block id="f73890e8771abfa1abdc045ab1b722ef" category="paragraph">La implementación se ejecutará todo<block ref="c14192fc9675e5023582b237e885e10d" prefix=" " category="inline-code"></block>Y, a continuación, solicite la confirmación del usuario antes de continuar con el despliegue real de BeeGFS.</block>
  <block id="efd5cfa405ebe66e35820b347b961b90" category="paragraph">Ejecute el siguiente comando, ajustando el número de horquillas según sea necesario (consulte la nota siguiente):</block>
  <block id="e1f7c8e8d5a879b01dcf2e832140f992" category="inline-link">Ajuste del rendimiento de Ansible</block>
  <block id="2485710fb8c15237f98f63beae48b455" category="inline-link">Control de la ejecución del libro de estrategia</block>
  <block id="44e3c962bed95de75adc370adf17965e" category="admonition">Especialmente para puestas en marcha más grandes, sobreponiendo el número predeterminado de horquillas (5) utilizando el<block ref="448725115a83c589b33de77889e1e2f3" prefix=" " category="inline-code"></block> Se recomienda aumentar el número de hosts que Ansible configura en paralelo. (Para obtener más información, consulte <block ref="1ad83cdd7d1451f25e3de1b6b6ab91b1" category="inline-link-rx"></block> y..<block ref="2f92d47aead0a3ef15304d32faf6a032" category="inline-link-rx"></block>.) El valor máximo depende de la potencia de procesamiento disponible en el nodo de control Ansible. El ejemplo anterior de 20 se ejecutó en un nodo de control de Ansible virtual con 4 CPU (CPU Intel(R) Xeon(R) Gold 6146 a 3,20 GHz).</block>
  <block id="e5e4c2e4c004bc7dbd4a04d4b0971e53" category="paragraph">Según el tamaño de la puesta en marcha y el rendimiento de la red entre el nodo de control de Ansible y los nodos de archivo y bloque de BeeGFS, el tiempo de puesta en marcha puede variar.</block>
  <block id="66136a118d01240429805a157ae4b538" category="summary">Si sigue los cuatro volúmenes estándar por configuración de pool de almacenamiento para bloques básicos de segunda generación, consulte estos porcentajes recomendados.</block>
  <block id="13d38edc52fe6e049aae05e6fce1573a" category="paragraph">Si sigue los cuatro volúmenes estándar por configuración de pool de almacenamiento para bloques básicos de segunda generación, consulte la siguiente tabla.</block>
  <block id="2d115a94acc324947afb0abf7c47d665" category="paragraph">Esta tabla recomienda porcentajes para usar como el tamaño del volumen en el<block ref="8ca968d07b3817015da8919c700152f5" prefix=" " category="inline-code"></block> Para cada metadatos o destino de almacenamiento de BeeGFS:</block>
  <block id="ec8691da9bf60fda22f12e08033d054b" category="cell">Tamaño de la unidad</block>
  <block id="6f6cb72d544962fa333e2e34ce64f719" category="cell">Tamaño</block>
  <block id="be3ca1ec15ca4657e5ca3ec84a561090" category="cell">1,92 TB</block>
  <block id="6f4922f45568161a8cdf4ad2299f6d23" category="cell">18</block>
  <block id="71839d6e6fb59e239ad941d08b5e2519" category="cell">3,84 TB</block>
  <block id="d81fdeb5a429e85d04118048e4b3485d" category="cell">21.5</block>
  <block id="a98c228c0d8903ba6926546f64321cc4" category="cell">7,68 TB</block>
  <block id="6303058eb2f22355195922bb9eeac265" category="cell">22.5</block>
  <block id="1f04a7c587f50d269f44d43229c966ac" category="cell">15,3 TB</block>
  <block id="1ff1de774005f8da13f42943881c655f" category="cell">24</block>
  <block id="b6f404dc4372a8369386a51240b69703" category="admonition">Las directrices anteriores no se aplican al pool de almacenamiento que contiene el servicio de gestión, lo que debería reducir sus tamaños en un 25% para asignar el 1% del pool de almacenamiento a los datos de gestión.</block>
  <block id="cede28c203641f70169adaabc10df9b6" category="inline-link">TR-4800: Apéndice A: Aspectos sobre la resistencia de SSD y el sobreaprovisionamiento</block>
  <block id="dab022c0b8356780eb602bc87effd71f" category="paragraph">Para entender cómo se determinaron estos valores, consulte<block ref="fa826cd698d934925bfe1b514e70b591" category="inline-link-rx"></block>.</block>
  <block id="e69ebf3ec790efafa5cfc7b6502ccfe4" category="summary">BeeGFS en la solución de NetApp incluye consideraciones de diseño arquitectónico utilizadas para determinar el equipo, el cableado y las configuraciones específicos necesarios para admitir cargas de trabajo validadas.</block>
  <block id="ebd8431a0b14e9588377860f5d21d80b" category="doc">Información general de la arquitectura</block>
  <block id="dc3f25ceea15d952c20a612e806039b4" category="section-title">Arquitectura de elementos básicos</block>
  <block id="f968e1fab577166d28baa278b7fbec71" category="paragraph">El sistema de archivos BeeGFS se puede implementar y escalar de diferentes maneras en función de los requisitos de almacenamiento. Por ejemplo, los casos de uso que incluyan principalmente numerosos ficheros pequeños se beneficiarán de un rendimiento y una capacidad adicionales relacionados con los metadatos, mientras que los casos de uso que incluyan menos archivos de gran tamaño pueden favorecer una mayor capacidad de almacenamiento y un mayor rendimiento en el contenido real de los ficheros. Estas múltiples consideraciones afectan a las diferentes dimensiones de la implementación del sistema de archivos paralelos, lo que añade complejidad al diseño y la implementación del sistema de archivos.</block>
  <block id="a0f56902d72268743383af795844da43" category="paragraph">Para hacer frente a estos retos, NetApp ha diseñado una arquitectura de elementos básicos estándar que se utiliza para escalar horizontalmente cada una de estas dimensiones. Normalmente, los bloques de creación de BeeGFS se implementan en uno de los tres perfiles de configuración:</block>
  <block id="cbebd598c304febe3d9ce528a39f79ca" category="list-text">Un único elemento básico, incluidos los servicios de gestión, metadatos y almacenamiento de BeeGFS</block>
  <block id="f606793c59d48b54b2b3a18a70dd823d" category="list-text">Metadatos BeeGFS más un elemento básico de almacenamiento</block>
  <block id="5d36a489380874ed227d193957d972de" category="list-text">Un elemento básico de sólo almacenamiento BeeGFS</block>
  <block id="3679eaa30562d3f5040cb64c625a3455" category="paragraph">El único cambio de hardware entre estas tres opciones es el uso de unidades más pequeñas para los metadatos de BeeGFS. De lo contrario, todos los cambios de configuración se aplican a través del software. Con Ansible como motor de puesta en marcha, configurar el perfil deseado para un elemento básico concreto supone que las tareas de configuración sean sencillas.</block>
  <block id="0623572375a27997b16aa8f259513278" category="paragraph">Para obtener información detallada, consulte <block ref="27bdb301347b8d7fa8a057384825ba6a" category="inline-xref-macro-rx"></block>.</block>
  <block id="e3b101a8b62b6541bfde340117b3f92b" category="section-title">Servicios de ficheros</block>
  <block id="26e699f65c8724efd549a1445c4b9eb3" category="paragraph">El sistema de archivos BeeGFS incluye los siguientes servicios principales:</block>
  <block id="a9effde6a4743049a20cd75e19532999" category="list-text">*Servicio de administración.* registra y supervisa todos los demás servicios.</block>
  <block id="edd29dd37a407bf6bdd3dcefe97db0d5" category="list-text">*Servicio de almacenamiento.* almacena el contenido del archivo de usuario distribuido conocido como archivos de fragmentos de datos.</block>
  <block id="dc134a7a2e4d2cbe6789c47709b38b35" category="list-text">*Servicio de metadatos.* realiza un seguimiento del diseño del sistema de archivos, del directorio, de los atributos del archivo, etc.</block>
  <block id="bfd4d1f28f912adef70ff502946f2d7a" category="list-text">*Servicio de cliente.* se cuenta con el sistema de archivos para acceder a los datos almacenados.</block>
  <block id="94ab5c559c66cc4fc4b2e1c1ed4b00a3" category="paragraph">En la siguiente figura, se muestran los componentes de la solución BeeGFS y las relaciones que se utilizan con los sistemas E-Series de NetApp.</block>
  <block id="bfcf7994ec645acbf0e62ec0cc0d8135" category="paragraph"><block ref="bfcf7994ec645acbf0e62ec0cc0d8135" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9ac96964e53d6a8061e16551c85e7b05" category="paragraph">Como sistema de archivos paralelo, BeeGFS segmenta sus archivos en varios nodos de servidor para maximizar el rendimiento de lectura/escritura y la escalabilidad. Los nodos de servidor funcionan juntos para proporcionar un único sistema de archivos que se puede montar y acceder simultáneamente por otros nodos de servidor, comúnmente conocidos como _clients_. Estos clientes pueden ver y consumir el sistema de archivos distribuido de forma similar a un sistema de archivos local como NTFS, XFS o ext4.</block>
  <block id="2cd4f3c05097f81722656ab8de9b6a25" category="paragraph">Los cuatro servicios principales se ejecutan en una amplia gama de distribuciones de Linux compatibles y se comunican a través de cualquier red compatible con TCP/IP o RDMA, incluidas InfiniBand (IB), Omni-Path (OPA) y RDMA over Converged Ethernet (roce). Los servicios de servidor BeeGFS (gestión, almacenamiento y metadatos) son daemons de espacio de usuario, mientras que el cliente es un módulo de kernel nativo (sin parches). Todos los componentes se pueden instalar o actualizar sin reiniciar, y se puede ejecutar cualquier combinación de servicios en el mismo nodo.</block>
  <block id="006d93ef4f9eec646f24191298096ff5" category="section-title">Nodos verificados</block>
  <block id="c96c4db6ed51cc2193de3faf12adec4b" category="paragraph">BeeGFS en la solución NetApp incluye los siguientes nodos verificados: El sistema de almacenamiento EF600 de NetApp (nodo de bloque) y el servidor Lenovo ThinkSystem SR665 (nodo de archivo).</block>
  <block id="27413f72a901dfdce9c9f5b55bb8de24" category="section-title">Nodo de bloques: Sistema de almacenamiento EF600</block>
  <block id="c9423adc70506c44748bf2f624d7f901" category="paragraph">La cabina all-flash EF600 de NetApp ofrece acceso a los datos consistente y casi en tiempo real al tiempo que admite cualquier número de cargas de trabajo de forma simultánea. Para posibilitar una alimentación continua y rápida de datos en aplicaciones de IA y HPC, los sistemas de almacenamiento EF600 proporcionan hasta dos millones de IOPS de lectura en caché, tiempos de respuesta inferiores a 100 microsegundos y ancho de banda de lectura secuencial de 42 Gbps en un compartimento.</block>
  <block id="651e200415759284120b2ec1a66b1a96" category="section-title">Nodo de archivo: Servidor Lenovo ThinkSystem SR665</block>
  <block id="6b9e4d337aab66ffe52d7442d4de33cd" category="paragraph">El SR665 es un servidor 2U de dos sockets con PCIe 4.0. Cuando se configura para cumplir los requisitos de esta solución, proporciona un gran rendimiento para ejecutar servicios de archivos BeeGFS en una configuración equilibrada con la disponibilidad del rendimiento y los IOPS proporcionados por los nodos E-Series de conexión directa.</block>
  <block id="18bc6212071e7cb1cca90788a40a9301" category="inline-link">El sitio web de Lenovo</block>
  <block id="81024062a06a8ee37394167df6e2e925" category="paragraph">Para obtener más información sobre el Lenovo SR665, consulte<block ref="2cce034b75e116efa73dc639a17202fa" category="inline-link-rx"></block>.</block>
  <block id="4b2aed7f56892904807d2a0dba262f91" category="section-title">Diseño de hardware verificado</block>
  <block id="9e33e1f9796877cc85735e8b785ca26f" category="paragraph">Los elementos básicos de la solución (que se muestran en la siguiente figura) utilizan dos servidores compatibles con PCIe de 4.0 socket doble para la capa de archivo BeeGFS y dos sistemas de almacenamiento EF600 como la capa de bloque.</block>
  <block id="9aff371c3d72ae246b764db116d45c50" category="paragraph"><block ref="9aff371c3d72ae246b764db116d45c50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c48dcdddb94107a7a67762c9d1dbe6f" category="admonition">Debido a que cada bloque de creación incluye dos nodos de archivo BeeGFS, se requiere un mínimo de dos bloques de construcción para establecer el quórum en el clúster de conmutación por error. Si bien puede configurar un clúster de dos nodos, esta configuración tiene límites que podrían impedir que se produzca una conmutación al respaldo correcta. Si necesita un clúster de dos nodos, puede incorporar un tercer dispositivo como tiebreaker (sin embargo, ese diseño no está incluido en este sitio).</block>
  <block id="6a07b0ff8ee12bcea9aba90004bdf2e9" category="paragraph">Cada elemento básico proporciona una alta disponibilidad mediante un diseño de hardware de dos niveles que separa los dominios de fallo de las capas de archivos y bloques. Cada nivel puede conmutar por error de forma independiente, lo que proporciona mayor resiliencia y reduce el riesgo de fallos en cascada. El uso de HDR InfiniBand junto con NVMeOF proporciona un alto rendimiento y una latencia mínima entre los nodos de archivo y bloque, con total redundancia y suficiente sobresuscripción de enlace para evitar que el diseño desagregado se convierta en un cuello de botella, incluso cuando el sistema se encuentra parcialmente degradado.</block>
  <block id="3c08ab3aeeb113b43a410e04cd194da5" category="paragraph">La solución BeeGFS en NetApp se ejecuta en todos los elementos básicos de la puesta en marcha. El primer elemento básico puesto en marcha debe ejecutar los servicios de gestión, metadatos y almacenamiento de BeeGFS (lo que se denomina bloque básico). Todos los elementos básicos siguientes se configuran mediante el software para ejecutar los servicios de almacenamiento y metadatos de BeeGFS, o solo los servicios de almacenamiento. La disponibilidad de diferentes perfiles de configuración para cada elemento básico permite escalar los metadatos del sistema de archivos o la capacidad de almacenamiento y el rendimiento utilizando las mismas plataformas de hardware subyacentes y el diseño de elementos básicos.</block>
  <block id="8c75634d2e6f2b333be16514a845f21a" category="paragraph">Se combinan hasta cinco elementos básicos en un clúster ha independiente de Linux, lo que garantiza un número razonable de recursos por administrador de recursos de clúster (Pacemaker) y reduce la sobrecarga de mensajería necesaria para mantener los miembros del clúster sincronizados (Corosync). Se recomienda un mínimo de dos bloques de creación por clúster para permitir que haya suficientes miembros para establecer quórum. Uno o varios de estos clústeres de alta disponibilidad de BeeGFS independientes se combinan para crear un sistema de archivos BeeGFS (que se muestra en la siguiente figura) al que los clientes pueden acceder como un único espacio de nombres de almacenamiento.</block>
  <block id="68f8e190e5b0a73975772032f02e616d" category="paragraph"><block ref="68f8e190e5b0a73975772032f02e616d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2656fcaf8e3676a2cbef703871ecdf24" category="paragraph">Aunque en última instancia, el número de elementos básicos por rack depende de los requisitos de alimentación y refrigeración de un determinado sitio, La solución se diseñó de manera que se puedan poner en marcha hasta cinco elementos básicos en un único rack de 42U, sin dejar espacio para dos switches InfiniBand de 1U que se utilicen para la red de almacenamiento/datos. Cada bloque de construcción requiere ocho puertos IB (cuatro por switch para obtener redundancia), de modo que cinco bloques de construcción dejan la mitad de los puertos en un conmutador HDR InfiniBand de 40 puertos (como NVIDIA QM8700) disponibles para implementar un árbol de grasa o una topología similar sin bloqueo. Esta configuración garantiza que se pueda escalar el número de racks de almacenamiento o de computación o GPU sin que se produzcan cuellos de botella en la red. De manera opcional, se puede utilizar una estructura de almacenamiento suscripción excesiva por recomendación del proveedor de estructuras de almacenamiento.</block>
  <block id="70fe669a3a23094d7db9486a417dbef3" category="paragraph">La siguiente imagen muestra una topología de árbol FAT de 80 nodos.</block>
  <block id="2fcf68f5d15d3841e3d288e4c8a6107c" category="paragraph"><block ref="2fcf68f5d15d3841e3d288e4c8a6107c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d6a8fb7565b3c37b0228984862a3977c" category="paragraph">Con Ansible como motor de puesta en marcha para poner en marcha BeeGFS en NetApp, los administradores pueden mantener todo el entorno usando una infraestructura moderna como prácticas de código. Esto simplifica drásticamente lo que, de lo contrario, sería un sistema complejo, lo que permitiría a los administradores definir y ajustar la configuración en un único lugar y, a continuación, garantizar que se aplica de forma consistente independientemente del tamaño del entorno escalable. La colección BeeGFS está disponible en<block ref="6e6b4aec10f34b8873e2101fed073d9a" category="inline-link-rx"></block> y..<block ref="6e9ef2e0fff4844f9560394ab05a51e9" category="inline-link-rx"></block>.</block>
  <block id="2bf773d42bef6909b232e854a16b3ec1" category="summary">Configure Pacemaker y Corosync para escalar más allá de cinco bloques de construcción.</block>
  <block id="22892d2f5bfdfba001a02572258cca62" category="doc">Escalabilidad más allá de cinco elementos básicos</block>
  <block id="cfd24c157d6cd9f200eb8c3cf68ee7ed" category="paragraph">Puede configurar Pacemaker y Corosync para escalar más allá de cinco bloques de construcción (10 nodos de archivo). Sin embargo, hay inconvenientes para los grandes grupos, y finalmente Pacemaker y Corosync imponen un máximo de 32 nodos.</block>
  <block id="9e59383f4d4ca677923852ae81323178" category="paragraph">NetApp solo ha probado clústeres de alta disponibilidad de BeeGFS para un máximo de 10 nodos; no se recomienda ni admite el escalado de clústeres individuales por encima de este límite. No obstante, los sistemas de archivos BeeGFS aún deben escalar más allá de los 10 nodos, lo cual en BeeGFS en la solución de NetApp.</block>
  <block id="72799e21cef92db3ad98f7c0a923e398" category="paragraph">Al poner en marcha varios clústeres de alta disponibilidad que contienen un subconjunto de los bloques de creación en cada sistema de archivos, puede escalar el sistema de archivos BeeGFS general de forma independiente de los límites recomendados o físicos en los mecanismos de agrupación en clústeres de alta disponibilidad subyacentes. En este caso, haga lo siguiente:</block>
  <block id="5c3bc488def3e9ba17589e3a75fdd5c0" category="list-text">Cree un nuevo inventario de Ansible que represente los clústeres de alta disponibilidad adicionales y, a continuación, omita la configuración de otro servicio de gestión. En su lugar, apunte la<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block> variable en cada clúster adicional<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block> Al IP del primer servicio de gestión de BeeGFS.</block>
  <block id="321f3f6b80bc5f9c02e358e120fa74b0" category="list-text">Cuando agregue clústeres de alta disponibilidad adicionales al mismo sistema de archivos, asegúrese de lo siguiente:</block>
  <block id="32e66ce3c599bce3fc21c5a5943b6f4d" category="list-text">Los ID del nodo BeeGFS son únicos.</block>
  <block id="50b9a2f3bd2dc22b582e6e66d12bf0ff" category="list-text">Los nombres de archivo correspondientes a cada servicio en<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> es único en todos los clústeres.</block>
  <block id="6219a68f7552d8328f7fc5df8510ffc3" category="list-text">Las direcciones IP del cliente y del servidor BeeGFS son únicas en todos los clústeres.</block>
  <block id="16d3c50a6b84c7701cadfdf721b74007" category="list-text">El primer clúster de alta disponibilidad que contiene el servicio de gestión de BeeGFS se está ejecutando antes de intentar implementar o actualizar clústeres adicionales.</block>
  <block id="6f94cb93f82c2013e179dc630a5dd715" category="list-text">Mantener inventarios para cada clúster ha por separado en su propio árbol de directorios.</block>
  <block id="079e1a9e099799d390c677577618ecce" category="paragraph">Si se intenta mezclar los archivos de inventario para varios clústeres en un árbol de directorios, se podrían generar problemas en el modo en que el rol de ha de BeeGFS agrega la configuración aplicada a un clúster concreto.</block>
  <block id="f4250b17c613a290cad4edf8e2bab3fd" category="admonition">No es necesario que cada clúster de alta disponibilidad escale hasta cinco elementos básicos antes de crear uno nuevo. En muchos casos, utilizar menos bloques básicos por clúster resulta más fácil de gestionar. Uno de los métodos consiste en configurar los elementos básicos en cada rack como un clúster de alta disponibilidad.</block>
  <block id="e95081b0e85f690a9bdcb41ea940c186" category="summary">Para implementar BeeGFS en una solución NetApp, asegúrese de que su entorno cumpla los requisitos tecnológicos.</block>
  <block id="47dee50ad0138b8f5ca70e40e86e6c04" category="section-title">Requisitos de hardware</block>
  <block id="d53750273c9ab2292caf240393c86d48" category="paragraph">En la siguiente tabla se enumeran los componentes de hardware necesarios para implementar un diseño de elemento básico de segunda generación de BeeGFS en la solución de NetApp.</block>
  <block id="27d858ba39131558c9ade0aa37a22659" category="admonition">Los componentes de hardware utilizados en cualquier implementación particular de la solución pueden variar en función de las necesidades del cliente.</block>
  <block id="e93f994f01c537c4e2f7d8528c3eb5e9" category="cell">Cuente</block>
  <block id="16cc6ce48a597aebb8ab5132cb3523dc" category="cell">Componente de hardware</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="paragraph">2</block>
  <block id="6c6f9283374bfbf220de6327277c1815" category="paragraph">Nodos de archivo BeeGFS.</block>
  <block id="2864e4eb2e0cb17f0531cd785e63c7da" category="paragraph">Cada nodo de archivos debe cumplir o superar la siguiente configuración para lograr el rendimiento esperado.</block>
  <block id="31d64135897b5391e512521bf41f9777" category="paragraph">*Procesadores:*</block>
  <block id="b95b123279b2f800990f9c2191373708" category="list-text">2 AMD EPYC 7343 16C 3.2 GHz.</block>
  <block id="4616efc57076900a6225244dcfc89027" category="list-text">Configurado como dos zonas NUMA.</block>
  <block id="13519812c056b113bbb6f853259e7691" category="paragraph">*Memoria:*</block>
  <block id="2c271e30e1c41fa7fc170637cbe07507" category="list-text">256 GB.</block>
  <block id="4b0f34cee48d8b67ee838abeca68c9a6" category="list-text">16 x 16 GB TruDDR4 3200 MHz (2Rx8 1,2 V) RDIMM-A (prefieren módulos DIMM más pequeños en lugar de un número menor de módulos DIMM de mayor tamaño).</block>
  <block id="3449cc07bd9fb49ca5e13dd993a70e88" category="list-text">Rellenado para maximizar el ancho de banda de la memoria.</block>
  <block id="9f5ef4bd76579737bfe585f29a5951e8" category="paragraph">*Expansión PCIe: Cuatro ranuras PCE Gen4 x16:*</block>
  <block id="f00f227030eb163a017a1730e0ddefb6" category="list-text">Dos ranuras por zona NUMA.</block>
  <block id="d12719622b3ae7d145ba3994f18ac93f" category="list-text">Cada ranura debe proporcionar suficiente alimentación/refrigeración para el adaptador Mellanox MCX653106A-HDAT.</block>
  <block id="a631c0a4a9b408ccc2559c2a3323af51" category="paragraph">*Miscelánea:*</block>
  <block id="61591a2035ff0c79f159e510d399af20" category="list-text">Dos unidades SATA de 1 TB a 7200 rpm (o comparables) configuradas en RAID 1 para el SO.</block>
  <block id="47c626e648f05fcfc94552cad7e0f210" category="list-text">Adaptador OCP 3.0 de 10 GbE (o comparable) para la gestión de sistemas operativos en banda.</block>
  <block id="30a4226a3d02d27336f749ae5dcd893b" category="list-text">BMC de 1 GbE con API Redfish para la gestión de servidores fuera de banda.</block>
  <block id="173ee7b6334b65c38509a87b47bd79da" category="list-text">Sistemas de alimentación duales intercambiables en caliente y ventiladores de rendimiento.</block>
  <block id="84edc2766d3f7158f313edb5aed216f7" category="list-text">Deben admitir cables InfiniBand ópticos Mellanox si se requiere para llegar a los switches InfiniBand de almacenamiento.</block>
  <block id="2d6de8e1dccd3e2e9834a5a60d4566de" category="paragraph">* Lenovo SR665:*</block>
  <block id="d89c6895636b2b8a24392a0f977e2684" category="list-text">Un modelo personalizado de NetApp incluye la versión requerida del firmware de la controladora XClarity que se necesita para admitir adaptadores de Mellanox ConnectX-6 de doble puerto. Póngase en contacto con NetApp para obtener más información sobre pedidos.</block>
  <block id="c9f0f895fb98ab9159f51fd0297e236d" category="cell">8</block>
  <block id="df57d52bbf8cf40e07c14985e453c567" category="cell">Mellanox ConnectX-6 HCAs (para nodos de archivo).</block>
  <block id="ebf2a6ec614aa7ef6c7da2be9e2c23a7" category="list-text">Adaptadores de canal de host MCX653106A-HDAT (HDR IB de 200 GB, QSFP56 de doble puerto, PCIe4,0 x16).</block>
  <block id="151b6979304b49e9f2fa40146bc63177" category="cell">1 m cables HDR InfiniBand (para conexiones directas de nodo de archivo/bloque).</block>
  <block id="334ee84af8f0aba772fc0297b7d99d85" category="list-text">MCP1650-H001E30 (cable de cobre pasivo de 1 m Mellanox, IB HDR, hasta 200 Gbps, QSFP56, 30 AWG).</block>
  <block id="1d09a937487a970ae4b132b9d1bbd92e" category="paragraph">La longitud puede ajustarse para tener en cuenta distancias más largas entre los nodos de archivo y de bloque si es necesario.</block>
  <block id="3c947c9bfa7d34adb44f61243d2bdaf0" category="cell">Cables HDR InfiniBand (para conexiones de nodo de archivo/switch de almacenamiento)</block>
  <block id="826f9c9f2a5a5dd3ddf276fdf6370236" category="paragraph">Requiere cables HDR InfiniBand (transceptores QSFP56) de la longitud adecuada para conectar nodos de archivo a conmutadores de hoja de almacenamiento. Las opciones posibles incluyen:</block>
  <block id="43f0edb9f1ba2bdb6e116f1a9ebc5efa" category="list-text">MCP1650-H002E26 (cable de cobre pasivo Mellanox de 2 m, IB HDR, hasta 200 GB/s, QSFP56, 30 AWG).</block>
  <block id="e2c1cd9a1de33e9b1dfe101cbbeac58b" category="list-text">MFS1S00-H003E (cable de fibra activa Mellanox de 3 m, IB HDR, hasta 200 GB/s, QSFP56).</block>
  <block id="5fbc0fc6a38b0dbbeffcd2c2d4dcac9d" category="cell">Nodos de bloque E-Series</block>
  <block id="604f81d1187ffc116528d5f0ab32fb11" category="paragraph">Dos controladoras EF600 configuradas de la siguiente manera:</block>
  <block id="577a9a467c2913dcad30956ec32e78e6" category="list-text">Memoria: 256 GB (128 GB por controladora).</block>
  <block id="7e4c29cb3d75f6a12c915cb4eaaf3a1e" category="list-text">Adaptador: 2 puertos, 200 GB/HDR (NVMe/IB).</block>
  <block id="d0fbc950f348eb754ea8bad25fabc0a7" category="list-text">Unidades: Se configuran para ajustarse a la capacidad deseada.</block>
  <block id="7ddb33edf227a18eb76201fcb9e2c9db" category="section-title">Requisitos de software</block>
  <block id="440907229edb210984831982728c0047" category="paragraph">Para obtener un rendimiento y una fiabilidad predecibles, los lanzamientos de BeeGFS en la solución de NetApp se prueban con versiones específicas de los componentes de software necesarios para implantar la solución.</block>
  <block id="5fea6233624bde259c99b82e6d7de3c6" category="section-title">Requisitos de puesta en marcha de software</block>
  <block id="699b33acca98ab1d3eb0d684f59f1c98" category="paragraph">En la siguiente tabla se enumeran los requisitos de software puestos en marcha automáticamente como parte de la puesta en marcha de BeeGFS basada en Ansible.</block>
  <block id="719d067b229178f03bcfa1da4ac4dede" category="cell">De NetApp</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">Versión</block>
  <block id="eb57eb77389d7d4e71c5790c9c6ec1a7" category="cell">BeeGFS</block>
  <block id="51cf7c858a71d06ee12a42cfbff97da7" category="cell">Corosync</block>
  <block id="5d2d6ad0b2b4cf8622bcf4cddca922d1" category="cell">3.1.5-1</block>
  <block id="d95adee972ae170512bd3bdbce557054" category="cell">Marcapasos</block>
  <block id="300cc3f7d5595a3ab5ad8f666e682b51" category="cell">2.1.0-8</block>
  <block id="0a0d34e3921098e12d40efeb9e5b64ff" category="cell">OpenSM</block>
  <block id="571ffe54d5507ffba520fd66014b973a" category="paragraph">opensm-5.9.0 (de mlnx_ofed 5.4-1.0.3.0)</block>
  <block id="fc9d1b1033b1fe0ed02e41584f187a0d" category="admonition">Solo es necesario para conexiones directas para permitir la virtualización.</block>
  <block id="83d32979307efd813f41ef5070206fd3" category="paragraph">BeeGFS en la solución de NetApp se pone en marcha y se gestiona desde un nodo de control de Ansible. Para obtener más información, consulte<block ref="4410f583cbabaee2389115371eb2ab02" category="inline-link-rx"></block>.</block>
  <block id="158a122309f0454b31e4853755a5962a" category="paragraph">Los requisitos de software que se enumeran en las siguientes tablas son específicos de la versión de la colección de Ansible BeeGFS de NetApp que se indica a continuación.</block>
  <block id="c34646f8692ab9a9dce46b8b8b249892" category="cell">2.11 cuando se instala a través de la tubería: Ansible-4.7.0 y ansible-core &lt; 2.12,&gt;=2.11.6</block>
  <block id="a7f5f35426b927411fc9231b56382173" category="cell">Python</block>
  <block id="47588d4b158a37889ddf44eeb8e88b0f" category="cell">3.9</block>
  <block id="d35d779fe31977939a0a72c5c962d2af" category="cell">Paquetes de Python adicionales</block>
  <block id="77d3bd829df9097aa38d64335f6aad7f" category="cell">Cryptography-35.0.0, netaddr-0.8.0</block>
  <block id="6f82e755e888096a221d29f2d5410b52" category="cell">Colección de Ansible BeeGFS</block>
  <block id="272f0a04b740763e0a29316bc4af89a4" category="cell">3.0.0</block>
  <block id="5510cedb08df4208db0688e41cea716f" category="section-title">Requisitos del nodo de archivo</block>
  <block id="eae2868fd17cac4569887ad9ccca42c2" category="paragraph">Red Hat Enterprise Linux</block>
  <block id="c902ad984234c1eef95b7912574d9aeb" category="paragraph">Redhat 8.4 Server físico con alta disponibilidad (2 sockets).</block>
  <block id="1f8b1bc6c0a349e88a3353e347489a9a" category="admonition">Los nodos de archivo requieren una suscripción válida a RedHat Enterprise Linux Server y el complemento de alta disponibilidad de Red Hat Enterprise Linux.</block>
  <block id="2488fead2064d4aeb886afc1a0010ee7" category="cell">Kernel de Linux</block>
  <block id="d4b0f66130f05055ad49d7919514984a" category="cell">4.18.0-305.25.1.el8_4.x86_64</block>
  <block id="f6883581bd882ffdf705127738982586" category="cell">Controladores InfiniBand/RDMA</block>
  <block id="3882d32c66e7e768145ecd8f104b0c08" category="cell">Bandeja de entrada</block>
  <block id="0f8b40e8389c6b79812629492fb9facd" category="cell">Firmware de HCA ConnectX-6</block>
  <block id="4ebe5da399ec2e4a8aa42aee4a85eef5" category="cell">FW: 20.31.1014</block>
  <block id="1669d53b71fac20015fb08bdb7e0f816" category="cell">PXE: 3.6.0403</block>
  <block id="56f186085ad1743522ca2a29632d91eb" category="cell">UEFI: 14.24.0013</block>
  <block id="fbc534ed33feffdfe8fc56e7cde13e6e" category="section-title">Requisitos del nodo de bloques de EF600</block>
  <block id="e791d47d690cbc6aa7c7f9434ebd2fa1" category="cell">Sistema operativo SANtricity</block>
  <block id="aa64d564cff905bb777c7f6cceb9c9d3" category="cell">11.70.2</block>
  <block id="b384b3cf4ffa3a81a88e8687dd6ca028" category="cell">NVSRAM</block>
  <block id="2bd1a0272130dcc2055e0f904d00fe3c" category="cell">N6000-872834-D06.dlp</block>
  <block id="b89cb5f38b54c6181858af1281dcaeef" category="cell">Firmware de la unidad</block>
  <block id="df4607ba320342072b2dc12271b08d2f" category="cell">La última versión disponible para los modelos de unidad en uso.</block>
  <block id="024464eb7b3fd909a9746dff88c6b9c9" category="section-title">Requisitos adicionales</block>
  <block id="61440af9eaf0ce02a7d08f34876b087d" category="paragraph">El equipo indicado en la siguiente tabla se utilizó para la validación, pero se pueden utilizar alternativas adecuadas según sea necesario. En general, NetApp recomienda ejecutar las últimas versiones de software para evitar problemas no previstos.</block>
  <block id="81a57f3c03234ff1f2a69dde51a4eb30" category="cell">Software instalado</block>
  <block id="3ba6b98074aa537a4599a5717fc1667c" category="list-text">2 switches Mellanox MQM8700 InfiniBand de 200 GB</block>
  <block id="5506d82b19c7fb79ef3ae9c724240c8e" category="list-text">Firmware 3.9.2110</block>
  <block id="d80c6d0ee3d3645d6e79f023da5f811d" category="paragraph">*1x nodo de control de Ansible (virtualizado):*</block>
  <block id="b5d77813b4d6bf45ad5812887dddc3b6" category="list-text">Procesadores: CPU Intel(R) Xeon(R) Gold 6146 a 3,20 GHz</block>
  <block id="ed7e62a0a7749f5ecdeacff73f47cd74" category="list-text">Memoria: 8 GB</block>
  <block id="9b127271fc710f9ccddb6752d4706302" category="list-text">Almacenamiento local: 24 GB</block>
  <block id="0da4148b13259a822cbef39b72084c99" category="list-text">CentOS de Linux 8.4.2105</block>
  <block id="4c082b998d02b58acba9fe2b7c4fa784" category="list-text">Kernel 4.18.0-305.3.1.el8.x86_64</block>
  <block id="e213de1dde80716b46e639e6e4211241" category="paragraph">Las versiones de Ansible y Python instaladas coinciden con las de la tabla anterior.</block>
  <block id="bc5f18e7f65533d407f6b5c4ee36f1a8" category="paragraph">*10x clientes BeeGFS (nodos de CPU):*</block>
  <block id="ba4ebea566ef71314e819a2849f2df50" category="list-text">Procesador: 1 CPU AMD EPYC de 7302 16 núcleos a 3,0 GHz</block>
  <block id="e21bd6758a43c483b7d0071867188cf3" category="list-text">Memoria: 128 GB</block>
  <block id="6045a9bd677549ebf210bae5890c8473" category="list-text">Red: 2 Mellanox MCX653106A-HDAT (un puerto conectado por adaptador).</block>
  <block id="73611f9a837b7a25dad3a9c5d1a98658" category="list-text">Ubuntu 20.04</block>
  <block id="5c102f668db12e3182739e89576e526b" category="list-text">Kernel: 5.4.0-100-generic</block>
  <block id="11c40f47f4b43c52533122c701bc0c0c" category="list-text">Controladores InfiniBand: Mellanox OFED 5.4-1.0.3.0</block>
  <block id="03fa34a7812c6af1b694c2914333785b" category="paragraph">*1x Cliente BeeGFS (nodo de GPU):*</block>
  <block id="6299da9dcf5c047e5fda43f47d185352" category="list-text">Procesadores: 2 CPU AMD EPYC de 7742 64 núcleos a 2,25 GHz</block>
  <block id="9278571d707ba27f73c7811c10c50142" category="list-text">Memoria: 1 TB</block>
  <block id="d4974e31435247f5311454d41461425a" category="paragraph">Este sistema se basa en la plataforma HGX A100 de nVIDIAs e incluye cuatro GPU A100.</block>
  <block id="730b718214a170296ed598158264e021" category="summary">La solución BeeGFS incluye recomendaciones para el ajuste del rendimiento basadas en pruebas de verificación.</block>
  <block id="a49e13cf9bc8e242e7b828e3c9016699" category="paragraph">Si bien BeeGFS proporciona un rendimiento razonable desde el momento de su instalación, NetApp ha desarrollado un conjunto de parámetros de ajuste recomendados para maximizar el rendimiento. Estos parámetros tienen en cuenta las funcionalidades de los nodos de bloque E-Series subyacentes y todos los requisitos especiales necesarios para ejecutar BeeGFS en una arquitectura de alta disponibilidad de disco compartido.</block>
  <block id="6900084f28039c00033899865271a4b5" category="section-title">Ajuste del rendimiento de los nodos de archivos</block>
  <block id="7ed4e287a78a4cc348d1e60d143ceda8" category="paragraph">Los parámetros de ajuste disponibles que puede configurar son los siguientes:</block>
  <block id="d8eb1bf5eeddb34869fa0aee2c5c3be0" category="list-text">*Configuración del sistema en el UEFI/BIOS de nodos de archivos.* para maximizar el rendimiento, recomendamos configurar los ajustes del sistema en el modelo de servidor que utilice como nodos de archivos. Los ajustes del sistema se configuran cuando se configuran los nodos de archivos mediante la configuración del sistema (UEFI/BIOS) o las API Redfish proporcionadas por el controlador de administración de la placa base (BMC).</block>
  <block id="adecdfd501fe0c9f7674b95abecb661b" category="paragraph">La configuración del sistema varía en función del modelo de servidor que utilice como nodo de archivos. Los ajustes deben configurarse manualmente en función del modelo de servidor que se esté utilizando. Para aprender a configurar los ajustes del sistema para los nodos de archivo Lenovo SR665 validados, consulte <block ref="891cfd1f8dbb99c09432be0144a5be81" category="inline-link-macro-rx"></block>.</block>
  <block id="6721128d9ea380f9965cc220f28619e1" category="list-text">*Configuración predeterminada de los parámetros de configuración necesarios.* los parámetros de configuración necesarios afectan a la forma en que se configuran los servicios BeeGFS y cómo los volúmenes E-Series (dispositivos de bloques) se formatean y montan mediante Pacemaker. Entre estos parámetros de configuración necesarios se incluyen los siguientes:</block>
  <block id="93de4dab2e303d649f94f0880095e6ef" category="list-text">Parámetros de configuración del servicio BeeGFS</block>
  <block id="c5b3473e89672cc155d0436c6e60bd52" category="inline-link">Parámetros de configuración del servicio BeeGFS</block>
  <block id="bf8b3766586fac2207dd5c620d7b308d" category="paragraph">Es posible anular la configuración predeterminada para los parámetros de configuración según sea necesario. Para ver los parámetros que se pueden ajustar para sus cargas de trabajo específicas o sus casos de uso, consulte<block ref="d22612d773394e50d7efa2e9719d459e" category="inline-link-rx"></block>.</block>
  <block id="334a50f926a902a241ecfae54f3cce32" category="list-text">El formato de los volúmenes y los parámetros de montaje se establecen en los valores predeterminados recomendados y solo se deben ajustar en casos prácticos avanzados. Los valores predeterminados harán lo siguiente:</block>
  <block id="4b9b870ed7f3db8f28c2ddcf4d3bd986" category="list-text">Optimización del formato de volumen inicial basado en el tipo de destino (como la gestión, los metadatos o el almacenamiento), junto con la configuración de RAID y el tamaño de segmentos del volumen subyacente.</block>
  <block id="9f641b3b08e18d35b2219dee293e2038" category="list-text">Ajuste cómo monta Pacemaker cada volumen para garantizar que los cambios se vacíen inmediatamente a los nodos de bloque E-Series. De este modo se evita la pérdida de datos cuando fallan nodos de archivos con las escrituras activas en curso.</block>
  <block id="72247689b02927b1ceac4fb69e6c9954" category="inline-link">parámetros de configuración de formato de volumen y montaje</block>
  <block id="71ba07d5377dd195ceff5f6dbddc08dc" category="paragraph">Para ver los parámetros que se pueden ajustar para sus cargas de trabajo específicas o sus casos de uso, consulte<block ref="2996b969524b278e7da0cf1bb77d8754" category="inline-link-rx"></block>.</block>
  <block id="728ecec149994e53980e0103b04d3e1b" category="list-text">*Configuración del sistema en el sistema operativo Linux instalado en los nodos de archivo.* puede anular la configuración predeterminada del sistema operativo Linux cuando cree el inventario de Ansible en el paso 4 de <block ref="ecd3f3fdba3715697adf284eecd1c932" category="inline-link-macro-rx"></block>.</block>
  <block id="c5d80eb8c0726de2a9804385295dc0e3" category="paragraph">La configuración predeterminada se utilizó para validar BeeGFS en la solución de NetApp, pero es posible modificarla para adaptarla a sus cargas de trabajo o casos de uso específicos. Algunos ejemplos de la configuración del sistema operativo Linux que puede cambiar son los siguientes:</block>
  <block id="b56281fe1e5f14da49b6d1d4c6ad0cd9" category="list-text">Las colas de I/o en dispositivos de bloques E-Series.</block>
  <block id="43a8170c4aebbb467c4d4b59d77a7662" category="paragraph">Se pueden configurar colas de I/o en los dispositivos de bloque E-Series que se utilizan como destinos BeeGFS para:</block>
  <block id="ce0213a2bd6755f2eacf9574b2b56dda" category="list-text">Ajuste el algoritmo de programación en función del tipo de dispositivo (NVMe, HDD, etc.).</block>
  <block id="c78d3d0bdafa5fc5623e3d56a9cc33ce" category="list-text">Aumentar el número de solicitudes pendientes.</block>
  <block id="b785a1945e736aa8340d2e4bde128b82" category="list-text">Ajustar los tamaños de las solicitudes.</block>
  <block id="a9a2c451a0c5c7939a07afe7cd297216" category="list-text">Optimice el comportamiento de lectura anticipada.</block>
  <block id="f39721f45b17814f0740b3c066ca0b66" category="list-text">Ajustes de memoria virtual.</block>
  <block id="552afad9cf059c34e2ed8d24ff34fc12" category="paragraph">Puede ajustar la configuración de memoria virtual para obtener un rendimiento de transmisión sostenido óptimo.</block>
  <block id="aa8e8d4d1817c4e08c70cd3c1b4c89b9" category="list-text">Configuración de CPU.</block>
  <block id="423dd652f980ba19cb7fb7f577576270" category="paragraph">Puede ajustar el regulador de frecuencia de la CPU y otras configuraciones de la CPU para obtener el máximo rendimiento.</block>
  <block id="eb2cf8d186779ea110100038f3ec2e90" category="list-text">Tamaño de solicitud de lectura.</block>
  <block id="17dd6d5b67055565e29c50f8150ce378" category="paragraph">Puede aumentar el tamaño máximo de solicitud de lectura para los profesionales de Mellanox.</block>
  <block id="ba4dcc8d5b46a4c30176506ef828aea4" category="section-title">Ajuste del rendimiento para nodos de bloques</block>
  <block id="4f59030dbd3da04d4b74738f5149fffb" category="paragraph">En función de los perfiles de configuración aplicados a un bloque de creación de BeeGFS en particular, los grupos de volúmenes configurados en los nodos de bloque cambian ligeramente. Por ejemplo, con un nodo de bloque EF600 de 24 unidades:</block>
  <block id="841fc343eee01328e222ebada200ca5d" category="list-text">Para el único elemento básico, incluidos los servicios de gestión, metadatos y almacenamiento de BeeGFS:</block>
  <block id="bbea55f4794f89e45fe7c40eaf8ca3ee" category="list-text">1 grupo de volúmenes de 2+2 RAID 10 para servicios de metadatos y gestión de BeeGFS</block>
  <block id="92f2b7b47db52c081f552bd884a78ae7" category="list-text">2 grupos de volúmenes RAID 6 de 8+2 para servicios de almacenamiento BeeGFS</block>
  <block id="4f4960028dfd13311a5679d2450101d1" category="list-text">Para un bloque básico de metadatos BeeGFS + almacenamiento:</block>
  <block id="fdd7b1bdaea27f32d5925fd1a957fce4" category="list-text">1 grupo de volúmenes de 2+2 RAID 10 para servicios de metadatos BeeGFS</block>
  <block id="196fdf9280847a2a4a9ddd0b8520bdfb" category="list-text">Para el almacenamiento BeeGFS, solo elemento básico:</block>
  <block id="632ac8eccac17a8789dd33202130e509" category="list-text">2 grupos de volúmenes RAID 6 de 10+2 para servicios de almacenamiento BeeGFS</block>
  <block id="014e85e7f3bbdad1ad6f193e82d21755" category="inline-link-macro">instrucciones de puesta en funcionamiento</block>
  <block id="39b751cb17d740944bc5071eba1abda2" category="admonition">Como BeeGFS necesita menos espacio de almacenamiento para la gestión y los metadatos en comparación con el almacenamiento, una opción es utilizar unidades más pequeñas para los grupos de volúmenes RAID 10. Las unidades más pequeñas deben llenarse en las ranuras de unidad más externas. Para obtener más información, consulte <block ref="92eed053ec15880d36275e60ab80275b" category="inline-link-macro-rx"></block>.</block>
  <block id="1708794637b71b8aadfa80d503ccc505" category="paragraph">Todos estos ajustes se configuran mediante la puesta en marcha basada en Ansible, junto con otros ajustes que suelen recomendarse para optimizar el rendimiento o el comportamiento, entre los que se incluyen:</block>
  <block id="b02fbba0a56e144e15b688980d01275a" category="list-text">Ajustar el tamaño de bloque de caché global a 32 KiB y ajustar el vaciado de caché basado en demanda al 80 %.</block>
  <block id="c70b65aef502812d5a0e8a4b173334d9" category="list-text">Al deshabilitar el equilibrio de carga automático (se garantiza que las asignaciones de volúmenes de la controladora permanezcan según la definición).</block>
  <block id="94966bf9df1a2fb2442d06d53723f28e" category="list-text">Habilitar el almacenamiento en caché de lectura y deshabilitar el almacenamiento en caché de lectura anticipada.</block>
  <block id="65f3cbabf1e92d0ce2d27d87d85a3c5a" category="list-text">Habilitar el almacenamiento en caché de escritura con mirroring y requerir backup de batería, de modo que la caché se mantiene mediante el fallo de una controladora del nodo de bloque.</block>
  <block id="dfb95cf8b58d92dcb47401bae0964c5d" category="list-text">Especificar el orden en que las unidades se asignan a grupos de volúmenes, equilibrando las operaciones de I/o en los canales de unidades disponibles.</block>
  <block id="1b6582c92d5f0e47bd102f2e16686662" category="summary">Antes de iniciar la puesta en marcha, asegúrese de comprender cómo usar Ansible para configurar y poner en marcha BeeGFS en la solución de NetApp con el diseño de elementos básicos de segunda generación de BeeGFS.</block>
  <block id="91177a5a4b0c27f810e6deb9395eef4a" category="inline-link">E-Series BeeGFS GitHub de NetApp</block>
  <block id="489a8841f96385c3fca8ff239dc24250" category="paragraph">El inventario de Ansible define la configuración para los nodos de archivos y bloques, y representa el sistema de archivos BeeGFS que desea poner en marcha. El inventario incluye hosts, grupos y variables que describen el sistema de archivos BeeGFS deseado. Los inventarios de muestras se pueden descargar desde<block ref="5f5a4f2bb780d1d47d6a1c5865c757e8" category="inline-link-rx"></block>.</block>
  <block id="2b030b2e370bebb88648070cda0b66eb" category="section-title">Módulos y roles de Ansible</block>
  <block id="2c237568ac6f7bc2fd09645044287519" category="paragraph">Para aplicar la configuración descrita en el inventario de Ansible, use los distintos módulos y roles de Ansible que se proporcionan en la colección de Ansible E-Series de NetApp, en particular el rol de ha 7.2 de BeeGFS (disponible en la<block ref="aa2af16a93b1d617ca7c38eef1d0c556" category="inline-link-rx"></block>) que despliega la solución completa.</block>
  <block id="27633c2a48532dabf935531ba52193df" category="paragraph">Cada rol de la colección de Ansible de E-Series de NetApp es una puesta en marcha completa de BeeGFS en una solución de NetApp. Los roles utilizan las colecciones SANtricity, host y BeeGFS de E-Series de NetApp que permiten configurar el sistema de archivos BeeGFS con alta disponibilidad (alta disponibilidad). Luego, podrá aprovisionar y asignar almacenamiento, y garantizar que el almacenamiento del clúster esté listo para su uso.</block>
  <block id="ca467fdffa66288bc6eeca1d49467e2e" category="paragraph">Aunque se proporciona documentación en profundidad con los roles, los procedimientos de implementación describen cómo usar el rol para implementar una arquitectura verificada de NetApp mediante el diseño de elementos básicos BeeGFS de segunda generación.</block>
  <block id="7c1be9d0f9dc743e2a1540004da3eb1d" category="admonition">Aunque los pasos de puesta en marcha intentan proporcionar información suficiente para que la experiencia previa con Ansible no sea un requisito previo, debe tener algo de familiaridad con Ansible y la terminología relacionada.</block>
  <block id="e9b6dfb59ebbe3c2a8e47b9bec2ada24" category="section-title">Diseño de inventario para un clúster de alta disponibilidad de BeeGFS</block>
  <block id="5585bfe6d81b9366f1160e16fcf3464f" category="paragraph">Use la estructura de inventario de Ansible para definir un clúster de alta disponibilidad de BeeGFS.</block>
  <block id="ea969b9d9b8b0a66432c22ea23412c18" category="paragraph">Cualquier persona con experiencia de Ansible anterior debe tener en cuenta que el rol de ha de BeeGFS implementa un método personalizado para descubrir qué variables (o hechos) se aplican a cada host. Esto es necesario para simplificar la creación de un inventario de Ansible que describa los recursos que se pueden ejecutar en varios servidores.</block>
  <block id="fcf695220ea603b6d461ed9aaa63c323" category="paragraph">Un inventario de Ansible suele consistir en los archivos de<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> y..<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block>, y un<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> archivo que asigna hosts a grupos específicos (y potencialmente grupos a otros grupos).</block>
  <block id="927527f499c87b83ee052f9a293c0293" category="admonition">No cree ningún archivo con el contenido de esta subsección, que se piensa sólo como ejemplo.</block>
  <block id="a7a48a32496dcd14ea6f94f7d89ab599" category="paragraph">A pesar de que esta configuración se basa por predeterminado en el perfil de configuración, debe tener un conocimiento general de cómo se presenta todo como un inventario de Ansible, tal y como se indica a continuación:</block>
  <block id="9d92e1d6c46a5db6f99457758b8c71dc" category="paragraph">Para cada servicio, se crea un archivo adicional en<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> descripción de su configuración:</block>
  <block id="7c98bb1c0d887b40b12614cc2cce909e" category="inline-link">NetApp acelera la puesta en marcha de alta disponibilidad para BeeGFS con Ansible</block>
  <block id="2c3ce0f08dbef62630d61052bdd46f20" category="paragraph">Este diseño permite definir el servicio, la red y la configuración de almacenamiento de BeeGFS para cada recurso en un único lugar. En segundo plano, el rol BeeGFS agrega la configuración necesaria para cada nodo de archivo y bloque basándose en esta estructura de inventario. Para obtener más información, consulte esta publicación de blog:<block ref="500a149f08c7164c80066a24197a4f46" category="inline-link-rx"></block>.</block>
  <block id="bab8955d49a06dc041f1cf99ae3c65aa" category="admonition">El código numérico y el ID de nodo de cadena de BeeGFS para cada servicio se configuran automáticamente en función del nombre del grupo. Por lo tanto, además del requisito general de Ansible para que los nombres de grupo sean únicos, los grupos que representan un servicio BeeGFS deben finalizar en un número único para el tipo de servicio BeeGFS que representa el grupo. Por ejemplo, se permiten meta_01 y stor_01, pero los metadatos_01 y meta_01 no lo están.</block>
  <block id="1d62eb925570a160f6a58cd18984f578" category="summary">La solución BeeGFS incluye recomendaciones sobre el rendimiento y el ajuste de la capacidad basadas en pruebas de verificación.</block>
  <block id="6166a42aac4e50811124dbb35631ea78" category="paragraph">El objetivo de una arquitectura de elementos básicos es crear una solución de tamaño sencillo mediante la adición de varios elementos básicos para satisfacer los requisitos de un sistema BeeGFS concreto. Con las siguientes pautas, puede estimar la cantidad y los tipos de bloques de construcción de BeeGFS que se necesitan para cumplir los requisitos de su entorno.</block>
  <block id="a752ca5f8ca9bd168c12fc180ff734e3" category="paragraph">Tenga en cuenta que estas estimaciones representan el mejor caso de rendimiento. Las aplicaciones de pruebas de rendimiento sintéticas se escriben y se utilizan para optimizar el uso de sistemas de archivos subyacentes de formas que las aplicaciones del mundo real podrían no.</block>
  <block id="800f4a301937e5493aaaddfe77e10dd5" category="section-title">Ajuste de tamaño del rendimiento</block>
  <block id="6875300666b544ca98e406bd6ca73da1" category="paragraph">La siguiente tabla proporciona un ajuste del tamaño del rendimiento recomendado.</block>
  <block id="83d4567aaaf81ff58ab394c3ad02accc" category="cell">Perfil de configuración</block>
  <block id="58a15ea9e5c981b498a5c119456b9dd9" category="cell">1MiB lee</block>
  <block id="968dfca19c742301bc400a7c883b1594" category="cell">1MiB escribe</block>
  <block id="8cf5b688a1a209b630cab18001501c76" category="cell">Metadatos + almacenamiento</block>
  <block id="5d44d1f7b753dee2968cad82eef2f1dd" category="cell">62GiBps</block>
  <block id="a5a649e4dec54d9f61f1cfc632dab412" category="cell">21 GiBps</block>
  <block id="dfab8e8b566f2d091e7ecb4b4d65060b" category="cell">Solo almacenamiento</block>
  <block id="1d955116a3bafb864bcf6755485fce7e" category="cell">64 GiBps</block>
  <block id="419cfc02b324dc7d8faefa90ed608fb0" category="inline-link">Requisitos del sistema</block>
  <block id="e618e38f89f153e374a90674c51efb8f" category="paragraph">Las estimaciones de tamaño de la capacidad de metadatos se basan en la "regla general" según la cual 500 GB de capacidad son suficientes para aproximadamente 150 millones de archivos en BeeGFS. (Para obtener más información, consulte la documentación de BeeGFS para<block ref="d422b619831c270410797364c04b1fb2" category="inline-link-rx"></block>.)</block>
  <block id="903cd75262aca9ec0b3a831bccc18869" category="paragraph">El uso de funciones como las listas de control de acceso y el número de directorios y archivos por directorio también afecta a la rapidez con la que se consume el espacio de metadatos. Las estimaciones de la capacidad de almacenamiento dan cuenta de la capacidad de unidad utilizable junto con la sobrecarga de RAID 6 y XFS.</block>
  <block id="9490db12574d3954607c7e9d91d28809" category="section-title">Configuración de la capacidad para metadatos + elementos básicos de almacenamiento</block>
  <block id="015d2cd8138605f0cec20c9dffe04a93" category="paragraph">La siguiente tabla proporciona un tamaño de capacidad recomendado para metadatos, además de los elementos básicos de almacenamiento.</block>
  <block id="b897bc1ea15940ab83faf02e07b143bf" category="cell">Tamaño de la unidad (2+2 RAID 1) grupos de volúmenes de metadatos</block>
  <block id="fa4beb4be6de6614b0cd1460e8d33b1f" category="cell">Capacidad de metadatos (cantidad de archivos)</block>
  <block id="070e4137f478af27755d228dba080d41" category="cell">Grupos de volúmenes de almacenamiento de tamaño de unidad (8+2 RAID 6)</block>
  <block id="785d80cc95b60fc3365e05e3ae013331" category="cell">Capacidad de almacenamiento (contenido de archivos)</block>
  <block id="119c6b2e3908d75335ad13f9fead045a" category="cell">1,938,577,200</block>
  <block id="753b107ce954fb125f0557af947a86c5" category="cell">51,77 TB</block>
  <block id="bb586a502f621b433b3966d68c887364" category="cell">3,880,388,400</block>
  <block id="8b2e1597e74fb68a87ef415a1ce004fc" category="cell">103,55 TB</block>
  <block id="9c0aa8a6ddcfe00cef8951f0edd99c58" category="cell">8,125,278,000</block>
  <block id="b0baa6e5c027744d7e7f2a93d8686bf5" category="cell">216.74 TB</block>
  <block id="edd8590257b34c7c6f57e06f28bb9460" category="cell">17,269,854,000</block>
  <block id="0d9c02ec5b1f4c4a835073aa142d0b7f" category="cell">460 TB</block>
  <block id="a966f153f6f429bbd39c3ac2390ef970" category="admonition">Al ajustar el tamaño de los metadatos más los elementos básicos de almacenamiento, puede reducir los costes usando unidades más pequeñas para los grupos de volúmenes de metadatos frente a los grupos de volúmenes de almacenamiento.</block>
  <block id="f9fb1e607e840d5610c34a9f15da540e" category="section-title">Configuración de la capacidad para los elementos básicos solo del almacenamiento</block>
  <block id="cd9db38cfde636fa7c304f8e67d8708d" category="paragraph">La siguiente tabla proporciona ajuste de tamaño de capacidad de regla general para elementos básicos de solo almacenamiento.</block>
  <block id="bc893b2686532fc683cb056beffd08aa" category="cell">Grupos de volúmenes de almacenamiento de tamaño de unidad (10+2 RAID 6)</block>
  <block id="4f7d0f08c61d0cc981b973ba853e2c6f" category="cell">59,89 TB</block>
  <block id="22f3cf273453d70fdc724d513005c81d" category="cell">1319,80 TB</block>
  <block id="e4c2850d67996ecfe5e0b56e9637a470" category="cell">251.89TB</block>
  <block id="f7c8918f0c24047e89e5842785e7b8ef" category="cell">538,55 TB</block>
  <block id="3cf8b9e44b7a1eb7154f2b777094e670" category="admonition">La sobrecarga de rendimiento y capacidad de incluir el servicio de gestión en el elemento básico (primero) es mínima, a menos que se habilite el bloqueo global de archivos.</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">Manos a la obra</block>
  <block id="12623d7cc9dff74b7325aa809ffc84df" category="sidebar">Blog: Obtenga más información sobre BeeGFS y E-Series</block>
  <block id="0af9e7bf64a8e8c1b37ec554248f3d14" category="sidebar">Blog - BeeGFS para principiantes</block>
  <block id="6316c96cdd51a54d33d0011cf5f10c81" category="sidebar">Blog - ha para BeeGFS</block>
  <block id="d5bc9778dcd2b28ce384782d014e53fc" category="sidebar">Vídeo: Aceleración de las cargas de trabajo de IA con BeeGFS en NetApp</block>
  <block id="b89fcecfac1f6b8376165aabe5b6c5ee" category="sidebar">Documentos adicionales</block>
  <block id="bc4fe2352063642d68529f2aa0ca7ca3" category="sidebar">Documentación de productos de NetApp</block>
  <block id="dbd68e15f4c30d2a47d780a9bf4f3da1" category="sidebar">Documentación de BeeGFS</block>
  <block id="ba13e086fe19056a379b6240e05651a8" category="sidebar">TR-4915: Movimiento de datos con E-Series y BeeGFS para IA</block>
  <block id="974ad78dc53c253ebfe5b2b8b376f353" category="sidebar">Herramientas y soporte</block>
  <block id="d564be87f67790fe4b92faa0eea29c48" category="sidebar">Colecciones E-Series de NetApp sobre Ansible Galaxy</block>
  <block id="668e2078ef1b1722c77cdb5c523a4463" category="sidebar">Base de conocimientos de NetApp</block>
  <block id="2bae42f280067110dfd52cc69a468364" category="sidebar">Active IQ (se requiere inicio de sesión)</block>
  <block id="c35665ae18bf4eff9afa413fcb281b07" category="sidebar">BeeGFS en documentos de NetApp</block>
  <block id="f40341c80e215542b4fdfe4e2f2e2a21" category="sidebar">Lo que se incluye en este sitio</block>
  <block id="2146c9256a2a3883605731032b6b8015" category="sidebar">Utilice arquitecturas verificadas</block>
  <block id="539652fdf317cc6e27c7373dc6fe13d3" category="sidebar">Revisar el diseño de la solución</block>
  <block id="0607ff4a53c90b270dd9fd9fce5c3d92" category="sidebar">Opción de alta capacidad</block>
  <block id="6c24b1b24585abc1454b91e5eb163103" category="sidebar">Ponga en marcha la solución</block>
  <block id="c5d1e465274381bca5df236c2a5a7d57" category="sidebar">Poner en marcha el software</block>
  <block id="97ecf64b4f2550ec2c53f49bb9fde847" category="sidebar">Configure el nodo de control Ansible</block>
  <block id="f99ff2e7716d2f6aa55979e838f0a328" category="sidebar">Cree el inventario de Ansible</block>
  <block id="da7f5c02044100badae24523f01941a2" category="sidebar">Defina los bloques de creación de BeeGFS</block>
  <block id="8025f3ce3e3e1dd003430788c4be8b5e" category="sidebar">Escale los clústeres de BeeGFS</block>
  <block id="e304a70d2f42f62cefb9b474f73a1e91" category="sidebar">Porcentajes de volumen recomendados</block>
  <block id="2c9d17683bf440abca82add607aa6a61" category="sidebar">Configuración inicial</block>
  <block id="2186112c2fe23afc42ab96c76b10633c" category="sidebar">Instale y cablee la tornillería</block>
  <block id="d2c71dbf224d233986fd9fee484a1bff" category="sidebar">Defina el sistema de archivos BeeGFS</block>
  <block id="d2b9bae490422ee64c78a0825f1c1d47" category="sidebar">Defina los nodos de archivo y bloque</block>
  <block id="e0f1083c7a219d40d5f2cce31e733837" category="sidebar">Configure nodos de archivos individuales</block>
  <block id="aaadb61f664f163c98ebee0c9c962dda" category="sidebar">Configure los nodos de bloques individuales</block>
  <block id="2c6acfbd0549df84a730e9135dfa642a" category="sidebar">Especifique la configuración común de nodos de archivos</block>
  <block id="de1a5ef51d1a1d949b60789be3110709" category="sidebar">Especifique la configuración de nodos de bloques comunes</block>
  <block id="8283d5b2387e743d14bda00c2176d402" category="sidebar">Defina los servicios BeeGFS</block>
  <block id="4ea9c51458de5a50fcfc6ed1d6731376" category="sidebar">Servicio de gestión de BeeGFS</block>
  <block id="fc0c3d42b552d41c96b314b10a5d8322" category="sidebar">Servicios de metadatos BeeGFS</block>
  <block id="941fb85375314e8f03181252062f8321" category="sidebar">Servicios de almacenamiento de BeeGFS</block>
  <block id="67f0f9eb53d18fde2907a79ffc52ab62" category="sidebar">Implemente el sistema de archivos BeeGFS</block>
  <block id="7d980eb0cd911c4219870701e3c4ffce" category="sidebar">Administre clústeres BeeGFS</block>
  <block id="58f82a4575a638ca0eba992df08c4d2b" category="sidebar">Cuándo usar Ansible frente a pc</block>
  <block id="28ee8cbd43fb9f7530f5ac7d2afa73c8" category="sidebar">Vuelva a configurar y actualice</block>
  <block id="bbfb06821b506d64fdaee613711657d4" category="sidebar">Mantenimiento y mantenimiento</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="e8afe31a21b6aae9717484d865743dae" category="sidebar">BeeGFS basado en NetApp con almacenamiento E-Series es una solución demostrada e integrada con una infraestructura de informática de alto rendimiento sencilla, fiable, escalable y rentable que se adapta al ritmo de sus cargas de trabajo más extremas.</block>
</blocks>